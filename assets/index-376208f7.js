var nF=Object.defineProperty;var rF=(e,t,n)=>t in e?nF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ne=(e,t,n)=>(rF(e,typeof t!="symbol"?t+"":t,n),n);var _o=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};function sF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const A of a.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S5={exports:{}},Xf={},j5={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=Symbol.for("react.element"),aF=Symbol.for("react.portal"),iF=Symbol.for("react.fragment"),AF=Symbol.for("react.strict_mode"),oF=Symbol.for("react.profiler"),lF=Symbol.for("react.provider"),cF=Symbol.for("react.context"),uF=Symbol.for("react.forward_ref"),dF=Symbol.for("react.suspense"),fF=Symbol.for("react.memo"),hF=Symbol.for("react.lazy"),T1=Symbol.iterator;function mF(e){return e===null||typeof e!="object"?null:(e=T1&&e[T1]||e["@@iterator"],typeof e=="function"?e:null)}var N5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k5=Object.assign,E5={};function Ao(e,t,n){this.props=e,this.context=t,this.refs=E5,this.updater=n||N5}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ao.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F5(){}F5.prototype=Ao.prototype;function yx(e,t,n){this.props=e,this.context=t,this.refs=E5,this.updater=n||N5}var bx=yx.prototype=new F5;bx.constructor=yx;k5(bx,Ao.prototype);bx.isPureReactComponent=!0;var I1=Array.isArray,Q5=Object.prototype.hasOwnProperty,wx={current:null},U5={key:!0,ref:!0,__self:!0,__source:!0};function T5(e,t,n){var r,s={},a=null,A=null;if(t!=null)for(r in t.ref!==void 0&&(A=t.ref),t.key!==void 0&&(a=""+t.key),t)Q5.call(t,r)&&!U5.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:hc,type:e,key:a,ref:A,props:s,_owner:wx.current}}function gF(e,t){return{$$typeof:hc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bx(e){return typeof e=="object"&&e!==null&&e.$$typeof===hc}function pF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var M1=/\/+/g;function _0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pF(""+e.key):t.toString(36)}function Yu(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var A=!1;if(e===null)A=!0;else switch(a){case"string":case"number":A=!0;break;case"object":switch(e.$$typeof){case hc:case aF:A=!0}}if(A)return A=e,s=s(A),e=r===""?"."+_0(A,0):r,I1(s)?(n="",e!=null&&(n=e.replace(M1,"$&/")+"/"),Yu(s,t,n,"",function(u){return u})):s!=null&&(Bx(s)&&(s=gF(s,n+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(M1,"$&/")+"/")+e)),t.push(s)),1;if(A=0,r=r===""?".":r+":",I1(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+_0(a,o);A+=Yu(a,t,n,l,s)}else if(l=mF(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+_0(a,o++),A+=Yu(a,t,n,l,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return A}function Yc(e,t,n){if(e==null)return e;var r=[],s=0;return Yu(e,r,"","",function(a){return t.call(n,a,s++)}),r}function xF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _n={current:null},Ju={transition:null},vF={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:wx};function I5(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Yc,forEach:function(e,t,n){Yc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yc(e,function(){t++}),t},toArray:function(e){return Yc(e,function(t){return t})||[]},only:function(e){if(!Bx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Ao;Pe.Fragment=iF;Pe.Profiler=oF;Pe.PureComponent=yx;Pe.StrictMode=AF;Pe.Suspense=dF;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vF;Pe.act=I5;Pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=k5({},e.props),s=e.key,a=e.ref,A=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,A=wx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Q5.call(t,l)&&!U5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:hc,type:e.type,key:s,ref:a,props:r,_owner:A}};Pe.createContext=function(e){return e={$$typeof:cF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lF,_context:e},e.Consumer=e};Pe.createElement=T5;Pe.createFactory=function(e){var t=T5.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:uF,render:e}};Pe.isValidElement=Bx;Pe.lazy=function(e){return{$$typeof:hF,_payload:{_status:-1,_result:e},_init:xF}};Pe.memo=function(e,t){return{$$typeof:fF,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=Ju.transition;Ju.transition={};try{e()}finally{Ju.transition=t}};Pe.unstable_act=I5;Pe.useCallback=function(e,t){return _n.current.useCallback(e,t)};Pe.useContext=function(e){return _n.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return _n.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return _n.current.useEffect(e,t)};Pe.useId=function(){return _n.current.useId()};Pe.useImperativeHandle=function(e,t,n){return _n.current.useImperativeHandle(e,t,n)};Pe.useInsertionEffect=function(e,t){return _n.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return _n.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return _n.current.useMemo(e,t)};Pe.useReducer=function(e,t,n){return _n.current.useReducer(e,t,n)};Pe.useRef=function(e){return _n.current.useRef(e)};Pe.useState=function(e){return _n.current.useState(e)};Pe.useSyncExternalStore=function(e,t,n){return _n.current.useSyncExternalStore(e,t,n)};Pe.useTransition=function(){return _n.current.useTransition()};Pe.version="18.3.1";j5.exports=Pe;var j=j5.exports;const P=xt(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yF=j,bF=Symbol.for("react.element"),wF=Symbol.for("react.fragment"),BF=Object.prototype.hasOwnProperty,CF=yF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_F={key:!0,ref:!0,__self:!0,__source:!0};function M5(e,t,n){var r,s={},a=null,A=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(A=t.ref);for(r in t)BF.call(t,r)&&!_F.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:bF,type:e,key:a,ref:A,props:s,_owner:CF.current}}Xf.Fragment=wF;Xf.jsx=M5;Xf.jsxs=M5;S5.exports=Xf;var i=S5.exports,Ym={},D5={exports:{}},Yn={},P5={exports:{}},H5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,R){var S=k.length;k.push(R);e:for(;0<S;){var T=S-1>>>1,W=k[T];if(0<s(W,R))k[T]=R,k[S]=W,S=T;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var R=k[0],S=k.pop();if(S!==R){k[0]=S;e:for(var T=0,W=k.length,V=W>>>1;T<V;){var Y=2*(T+1)-1,se=k[Y],ee=Y+1,q=k[ee];if(0>s(se,S))ee<W&&0>s(q,se)?(k[T]=q,k[ee]=S,T=ee):(k[T]=se,k[Y]=S,T=Y);else if(ee<W&&0>s(q,S))k[T]=q,k[ee]=S,T=ee;else break e}}return R}function s(k,R){var S=k.sortIndex-R.sortIndex;return S!==0?S:k.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var A=Date,o=A.now();e.unstable_now=function(){return A.now()-o}}var l=[],u=[],f=1,c=null,d=3,h=!1,m=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=k)r(u),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(u)}}function b(k){if(x=!1,y(k),!m)if(n(l)!==null)m=!0,M(C);else{var R=n(u);R!==null&&D(b,R.startTime-k)}}function C(k,R){m=!1,x&&(x=!1,g(N),N=-1),h=!0;var S=d;try{for(y(R),c=n(l);c!==null&&(!(c.expirationTime>R)||k&&!U());){var T=c.callback;if(typeof T=="function"){c.callback=null,d=c.priorityLevel;var W=T(c.expirationTime<=R);R=e.unstable_now(),typeof W=="function"?c.callback=W:c===n(l)&&r(l),y(R)}else r(l);c=n(l)}if(c!==null)var V=!0;else{var Y=n(u);Y!==null&&D(b,Y.startTime-R),V=!1}return V}finally{c=null,d=S,h=!1}}var B=!1,_=null,N=-1,w=5,E=-1;function U(){return!(e.unstable_now()-E<w)}function I(){if(_!==null){var k=e.unstable_now();E=k;var R=!0;try{R=_(!0,k)}finally{R?H():(B=!1,_=null)}}else B=!1}var H;if(typeof p=="function")H=function(){p(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=I,H=function(){K.postMessage(null)}}else H=function(){v(I,0)};function M(k){_=k,B||(B=!0,H())}function D(k,R){N=v(function(){k(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,M(C))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(k){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var S=d;d=R;try{return k()}finally{d=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,R){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var S=d;d=k;try{return R()}finally{d=S}},e.unstable_scheduleCallback=function(k,R,S){var T=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?T+S:T):S=T,k){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=S+W,k={id:f++,callback:R,priorityLevel:k,startTime:S,expirationTime:W,sortIndex:-1},S>T?(k.sortIndex=S,t(u,k),n(l)===null&&k===n(u)&&(x?(g(N),N=-1):x=!0,D(b,S-T))):(k.sortIndex=W,t(l,k),m||h||(m=!0,M(C))),k},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(k){var R=d;return function(){var S=d;d=R;try{return k.apply(this,arguments)}finally{d=S}}}})(H5);P5.exports=H5;var SF=P5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jF=j,Xn=SF;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $5=new Set,Tl={};function _i(e,t){HA(e,t),HA(e+"Capture",t)}function HA(e,t){for(Tl[e]=t,e=0;e<t.length;e++)$5.add(t[e])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jm=Object.prototype.hasOwnProperty,NF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D1={},P1={};function kF(e){return Jm.call(P1,e)?!0:Jm.call(D1,e)?!1:NF.test(e)?P1[e]=!0:(D1[e]=!0,!1)}function EF(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FF(e,t,n,r){if(t===null||typeof t>"u"||EF(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sn(e,t,n,r,s,a,A){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=A}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new Sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new Sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new Sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new Sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new Sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new Sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new Sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new Sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new Sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cx=/[\-:]([a-z])/g;function _x(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cx,_x);tn[t]=new Sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cx,_x);tn[t]=new Sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cx,_x);tn[t]=new Sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new Sn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new Sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sx(e,t,n,r){var s=tn.hasOwnProperty(t)?tn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FF(t,n,s,r)&&(n=null),r||s===null?kF(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ks=jF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jc=Symbol.for("react.element"),mA=Symbol.for("react.portal"),gA=Symbol.for("react.fragment"),jx=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),R5=Symbol.for("react.provider"),L5=Symbol.for("react.context"),Nx=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),kx=Symbol.for("react.memo"),ra=Symbol.for("react.lazy"),O5=Symbol.for("react.offscreen"),H1=Symbol.iterator;function So(e){return e===null||typeof e!="object"?null:(e=H1&&e[H1]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,S0;function Yo(e){if(S0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S0=t&&t[1]||""}return`
`+S0+e}var j0=!1;function N0(e,t){if(!e||j0)return"";j0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),A=s.length-1,o=a.length-1;1<=A&&0<=o&&s[A]!==a[o];)o--;for(;1<=A&&0<=o;A--,o--)if(s[A]!==a[o]){if(A!==1||o!==1)do if(A--,o--,0>o||s[A]!==a[o]){var l=`
`+s[A].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=A&&0<=o);break}}}finally{j0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yo(e):""}function QF(e){switch(e.tag){case 5:return Yo(e.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return e=N0(e.type,!1),e;case 11:return e=N0(e.type.render,!1),e;case 1:return e=N0(e.type,!0),e;default:return""}}function ng(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gA:return"Fragment";case mA:return"Portal";case Zm:return"Profiler";case jx:return"StrictMode";case eg:return"Suspense";case tg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L5:return(e.displayName||"Context")+".Consumer";case R5:return(e._context.displayName||"Context")+".Provider";case Nx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kx:return t=e.displayName||null,t!==null?t:ng(e.type)||"Memo";case ra:t=e._payload,e=e._init;try{return ng(e(t))}catch{}}return null}function UF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ng(t);case 8:return t===jx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TF(e){var t=K5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(A){r=""+A,a.call(this,A)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zc(e){e._valueTracker||(e._valueTracker=TF(e))}function z5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rg(e,t){var n=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G5(e,t){t=t.checked,t!=null&&Sx(e,"checked",t,!1)}function sg(e,t){G5(e,t);var n=Fa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ag(e,t.type,n):t.hasOwnProperty("defaultValue")&&ag(e,t.type,Fa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function R1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ag(e,t,n){(t!=="number"||wd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jo=Array.isArray;function NA(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fa(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ig(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function L1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(Jo(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fa(n)}}function W5(e,t){var n=Fa(t.value),r=Fa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function O1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function V5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ag(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?V5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eu,q5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eu=eu||document.createElement("div"),eu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Il(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IF=["Webkit","ms","Moz","O"];Object.keys(gl).forEach(function(e){IF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gl[t]=gl[e]})});function X5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gl.hasOwnProperty(e)&&gl[e]?(""+t).trim():t+"px"}function Y5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=X5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var MF=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function og(e,t){if(t){if(MF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function lg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cg=null;function Ex(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ug=null,kA=null,EA=null;function K1(e){if(e=pc(e)){if(typeof ug!="function")throw Error(re(280));var t=e.stateNode;t&&(t=th(t),ug(e.stateNode,e.type,t))}}function J5(e){kA?EA?EA.push(e):EA=[e]:kA=e}function Z5(){if(kA){var e=kA,t=EA;if(EA=kA=null,K1(e),t)for(e=0;e<t.length;e++)K1(t[e])}}function e_(e,t){return e(t)}function t_(){}var k0=!1;function n_(e,t,n){if(k0)return e(t,n);k0=!0;try{return e_(e,t,n)}finally{k0=!1,(kA!==null||EA!==null)&&(t_(),Z5())}}function Ml(e,t){var n=e.stateNode;if(n===null)return null;var r=th(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var dg=!1;if(Ts)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){dg=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{dg=!1}function DF(e,t,n,r,s,a,A,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var pl=!1,Bd=null,Cd=!1,fg=null,PF={onError:function(e){pl=!0,Bd=e}};function HF(e,t,n,r,s,a,A,o,l){pl=!1,Bd=null,DF.apply(PF,arguments)}function $F(e,t,n,r,s,a,A,o,l){if(HF.apply(this,arguments),pl){if(pl){var u=Bd;pl=!1,Bd=null}else throw Error(re(198));Cd||(Cd=!0,fg=u)}}function Si(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function r_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function z1(e){if(Si(e)!==e)throw Error(re(188))}function RF(e){var t=e.alternate;if(!t){if(t=Si(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return z1(s),e;if(a===r)return z1(s),t;a=a.sibling}throw Error(re(188))}if(n.return!==r.return)n=s,r=a;else{for(var A=!1,o=s.child;o;){if(o===n){A=!0,n=s,r=a;break}if(o===r){A=!0,r=s,n=a;break}o=o.sibling}if(!A){for(o=a.child;o;){if(o===n){A=!0,n=a,r=s;break}if(o===r){A=!0,r=a,n=s;break}o=o.sibling}if(!A)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function s_(e){return e=RF(e),e!==null?a_(e):null}function a_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=a_(e);if(t!==null)return t;e=e.sibling}return null}var i_=Xn.unstable_scheduleCallback,G1=Xn.unstable_cancelCallback,LF=Xn.unstable_shouldYield,OF=Xn.unstable_requestPaint,_t=Xn.unstable_now,KF=Xn.unstable_getCurrentPriorityLevel,Fx=Xn.unstable_ImmediatePriority,A_=Xn.unstable_UserBlockingPriority,_d=Xn.unstable_NormalPriority,zF=Xn.unstable_LowPriority,o_=Xn.unstable_IdlePriority,Yf=null,Jr=null;function GF(e){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Yf,e,void 0,(e.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:qF,WF=Math.log,VF=Math.LN2;function qF(e){return e>>>=0,e===0?32:31-(WF(e)/VF|0)|0}var tu=64,nu=4194304;function Zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,A=n&268435455;if(A!==0){var o=A&~s;o!==0?r=Zo(o):(a&=A,a!==0&&(r=Zo(a)))}else A=n&~s,A!==0?r=Zo(A):a!==0&&(r=Zo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tr(t),s=1<<n,r|=e[n],t&=~s;return r}function XF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YF(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var A=31-Tr(a),o=1<<A,l=s[A];l===-1?(!(o&n)||o&r)&&(s[A]=XF(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function hg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l_(){var e=tu;return tu<<=1,!(tu&4194240)&&(tu=64),e}function E0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tr(t),e[t]=n}function JF(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Tr(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Qx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ve=0;function c_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var u_,Ux,d_,f_,h_,mg=!1,ru=[],pa=null,xa=null,va=null,Dl=new Map,Pl=new Map,Aa=[],ZF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W1(e,t){switch(e){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Dl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(t.pointerId)}}function No(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=pc(t),t!==null&&Ux(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eQ(e,t,n,r,s){switch(t){case"focusin":return pa=No(pa,e,t,n,r,s),!0;case"dragenter":return xa=No(xa,e,t,n,r,s),!0;case"mouseover":return va=No(va,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Dl.set(a,No(Dl.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Pl.set(a,No(Pl.get(a)||null,e,t,n,r,s)),!0}return!1}function m_(e){var t=ei(e.target);if(t!==null){var n=Si(t);if(n!==null){if(t=n.tag,t===13){if(t=r_(n),t!==null){e.blockedOn=t,h_(e.priority,function(){d_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);cg=r,n.target.dispatchEvent(r),cg=null}else return t=pc(n),t!==null&&Ux(t),e.blockedOn=n,!1;t.shift()}return!0}function V1(e,t,n){Zu(e)&&n.delete(t)}function tQ(){mg=!1,pa!==null&&Zu(pa)&&(pa=null),xa!==null&&Zu(xa)&&(xa=null),va!==null&&Zu(va)&&(va=null),Dl.forEach(V1),Pl.forEach(V1)}function ko(e,t){e.blockedOn===t&&(e.blockedOn=null,mg||(mg=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,tQ)))}function Hl(e){function t(s){return ko(s,e)}if(0<ru.length){ko(ru[0],e);for(var n=1;n<ru.length;n++){var r=ru[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pa!==null&&ko(pa,e),xa!==null&&ko(xa,e),va!==null&&ko(va,e),Dl.forEach(t),Pl.forEach(t),n=0;n<Aa.length;n++)r=Aa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Aa.length&&(n=Aa[0],n.blockedOn===null);)m_(n),n.blockedOn===null&&Aa.shift()}var FA=Ks.ReactCurrentBatchConfig,jd=!0;function nQ(e,t,n,r){var s=Ve,a=FA.transition;FA.transition=null;try{Ve=1,Tx(e,t,n,r)}finally{Ve=s,FA.transition=a}}function rQ(e,t,n,r){var s=Ve,a=FA.transition;FA.transition=null;try{Ve=4,Tx(e,t,n,r)}finally{Ve=s,FA.transition=a}}function Tx(e,t,n,r){if(jd){var s=gg(e,t,n,r);if(s===null)$0(e,t,r,Nd,n),W1(e,r);else if(eQ(s,e,t,n,r))r.stopPropagation();else if(W1(e,r),t&4&&-1<ZF.indexOf(e)){for(;s!==null;){var a=pc(s);if(a!==null&&u_(a),a=gg(e,t,n,r),a===null&&$0(e,t,r,Nd,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else $0(e,t,r,null,n)}}var Nd=null;function gg(e,t,n,r){if(Nd=null,e=Ex(r),e=ei(e),e!==null)if(t=Si(e),t===null)e=null;else if(n=t.tag,n===13){if(e=r_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nd=e,null}function g_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KF()){case Fx:return 1;case A_:return 4;case _d:case zF:return 16;case o_:return 536870912;default:return 16}default:return 16}}var ua=null,Ix=null,ed=null;function p_(){if(ed)return ed;var e,t=Ix,n=t.length,r,s="value"in ua?ua.value:ua.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var A=n-e;for(r=1;r<=A&&t[n-r]===s[a-r];r++);return ed=s.slice(e,1<r?1-r:void 0)}function td(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function su(){return!0}function q1(){return!1}function Jn(e){function t(n,r,s,a,A){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=A,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?su:q1,this.isPropagationStopped=q1,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),t}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mx=Jn(oo),gc=pt({},oo,{view:0,detail:0}),sQ=Jn(gc),F0,Q0,Eo,Jf=pt({},gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Eo&&(Eo&&e.type==="mousemove"?(F0=e.screenX-Eo.screenX,Q0=e.screenY-Eo.screenY):Q0=F0=0,Eo=e),F0)},movementY:function(e){return"movementY"in e?e.movementY:Q0}}),X1=Jn(Jf),aQ=pt({},Jf,{dataTransfer:0}),iQ=Jn(aQ),AQ=pt({},gc,{relatedTarget:0}),U0=Jn(AQ),oQ=pt({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),lQ=Jn(oQ),cQ=pt({},oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uQ=Jn(cQ),dQ=pt({},oo,{data:0}),Y1=Jn(dQ),fQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mQ[e])?!!t[e]:!1}function Dx(){return gQ}var pQ=pt({},gc,{key:function(e){if(e.key){var t=fQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=td(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dx,charCode:function(e){return e.type==="keypress"?td(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?td(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xQ=Jn(pQ),vQ=pt({},Jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J1=Jn(vQ),yQ=pt({},gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dx}),bQ=Jn(yQ),wQ=pt({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),BQ=Jn(wQ),CQ=pt({},Jf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_Q=Jn(CQ),SQ=[9,13,27,32],Px=Ts&&"CompositionEvent"in window,xl=null;Ts&&"documentMode"in document&&(xl=document.documentMode);var jQ=Ts&&"TextEvent"in window&&!xl,x_=Ts&&(!Px||xl&&8<xl&&11>=xl),Z1=String.fromCharCode(32),eb=!1;function v_(e,t){switch(e){case"keyup":return SQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pA=!1;function NQ(e,t){switch(e){case"compositionend":return y_(t);case"keypress":return t.which!==32?null:(eb=!0,Z1);case"textInput":return e=t.data,e===Z1&&eb?null:e;default:return null}}function kQ(e,t){if(pA)return e==="compositionend"||!Px&&v_(e,t)?(e=p_(),ed=Ix=ua=null,pA=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x_&&t.locale!=="ko"?null:t.data;default:return null}}var EQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EQ[e.type]:t==="textarea"}function b_(e,t,n,r){J5(r),t=kd(t,"onChange"),0<t.length&&(n=new Mx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vl=null,$l=null;function FQ(e){Q_(e,0)}function Zf(e){var t=yA(e);if(z5(t))return e}function QQ(e,t){if(e==="change")return t}var w_=!1;if(Ts){var T0;if(Ts){var I0="oninput"in document;if(!I0){var nb=document.createElement("div");nb.setAttribute("oninput","return;"),I0=typeof nb.oninput=="function"}T0=I0}else T0=!1;w_=T0&&(!document.documentMode||9<document.documentMode)}function rb(){vl&&(vl.detachEvent("onpropertychange",B_),$l=vl=null)}function B_(e){if(e.propertyName==="value"&&Zf($l)){var t=[];b_(t,$l,e,Ex(e)),n_(FQ,t)}}function UQ(e,t,n){e==="focusin"?(rb(),vl=t,$l=n,vl.attachEvent("onpropertychange",B_)):e==="focusout"&&rb()}function TQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zf($l)}function IQ(e,t){if(e==="click")return Zf(t)}function MQ(e,t){if(e==="input"||e==="change")return Zf(t)}function DQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dr=typeof Object.is=="function"?Object.is:DQ;function Rl(e,t){if(Dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jm.call(t,s)||!Dr(e[s],t[s]))return!1}return!0}function sb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ab(e,t){var n=sb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sb(n)}}function C_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function __(){for(var e=window,t=wd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wd(e.document)}return t}function Hx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PQ(e){var t=__(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&C_(n.ownerDocument.documentElement,n)){if(r!==null&&Hx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=ab(n,a);var A=ab(n,r);s&&A&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==A.node||e.focusOffset!==A.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(A.node,A.offset)):(t.setEnd(A.node,A.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HQ=Ts&&"documentMode"in document&&11>=document.documentMode,xA=null,pg=null,yl=null,xg=!1;function ib(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xg||xA==null||xA!==wd(r)||(r=xA,"selectionStart"in r&&Hx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&Rl(yl,r)||(yl=r,r=kd(pg,"onSelect"),0<r.length&&(t=new Mx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xA)))}function au(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vA={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},M0={},S_={};Ts&&(S_=document.createElement("div").style,"AnimationEvent"in window||(delete vA.animationend.animation,delete vA.animationiteration.animation,delete vA.animationstart.animation),"TransitionEvent"in window||delete vA.transitionend.transition);function eh(e){if(M0[e])return M0[e];if(!vA[e])return e;var t=vA[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in S_)return M0[e]=t[n];return e}var j_=eh("animationend"),N_=eh("animationiteration"),k_=eh("animationstart"),E_=eh("transitionend"),F_=new Map,Ab="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(e,t){F_.set(e,t),_i(t,[e])}for(var D0=0;D0<Ab.length;D0++){var P0=Ab[D0],$Q=P0.toLowerCase(),RQ=P0[0].toUpperCase()+P0.slice(1);Da($Q,"on"+RQ)}Da(j_,"onAnimationEnd");Da(N_,"onAnimationIteration");Da(k_,"onAnimationStart");Da("dblclick","onDoubleClick");Da("focusin","onFocus");Da("focusout","onBlur");Da(E_,"onTransitionEnd");HA("onMouseEnter",["mouseout","mouseover"]);HA("onMouseLeave",["mouseout","mouseover"]);HA("onPointerEnter",["pointerout","pointerover"]);HA("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function ob(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$F(r,t,void 0,e),e.currentTarget=null}function Q_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var A=r.length-1;0<=A;A--){var o=r[A],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;ob(s,o,u),a=l}else for(A=0;A<r.length;A++){if(o=r[A],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;ob(s,o,u),a=l}}}if(Cd)throw e=fg,Cd=!1,fg=null,e}function at(e,t){var n=t[Bg];n===void 0&&(n=t[Bg]=new Set);var r=e+"__bubble";n.has(r)||(U_(t,e,2,!1),n.add(r))}function H0(e,t,n){var r=0;t&&(r|=4),U_(n,e,r,t)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Ll(e){if(!e[iu]){e[iu]=!0,$5.forEach(function(n){n!=="selectionchange"&&(LQ.has(n)||H0(n,!1,e),H0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iu]||(t[iu]=!0,H0("selectionchange",!1,t))}}function U_(e,t,n,r){switch(g_(t)){case 1:var s=nQ;break;case 4:s=rQ;break;default:s=Tx}n=s.bind(null,t,n,e),s=void 0,!dg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $0(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(A===4)for(A=r.return;A!==null;){var l=A.tag;if((l===3||l===4)&&(l=A.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;A=A.return}for(;o!==null;){if(A=ei(o),A===null)return;if(l=A.tag,l===5||l===6){r=a=A;continue e}o=o.parentNode}}r=r.return}n_(function(){var u=a,f=Ex(n),c=[];e:{var d=F_.get(e);if(d!==void 0){var h=Mx,m=e;switch(e){case"keypress":if(td(n)===0)break e;case"keydown":case"keyup":h=xQ;break;case"focusin":m="focus",h=U0;break;case"focusout":m="blur",h=U0;break;case"beforeblur":case"afterblur":h=U0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=X1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=iQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=bQ;break;case j_:case N_:case k_:h=lQ;break;case E_:h=BQ;break;case"scroll":h=sQ;break;case"wheel":h=_Q;break;case"copy":case"cut":case"paste":h=uQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=J1}var x=(t&4)!==0,v=!x&&e==="scroll",g=x?d!==null?d+"Capture":null:d;x=[];for(var p=u,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=Ml(p,g),b!=null&&x.push(Ol(p,b,y)))),v)break;p=p.return}0<x.length&&(d=new h(d,m,null,n,f),c.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==cg&&(m=n.relatedTarget||n.fromElement)&&(ei(m)||m[Is]))break e;if((h||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?ei(m):null,m!==null&&(v=Si(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(x=X1,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=J1,b="onPointerLeave",g="onPointerEnter",p="pointer"),v=h==null?d:yA(h),y=m==null?d:yA(m),d=new x(b,p+"leave",h,n,f),d.target=v,d.relatedTarget=y,b=null,ei(f)===u&&(x=new x(g,p+"enter",m,n,f),x.target=y,x.relatedTarget=v,b=x),v=b,h&&m)t:{for(x=h,g=m,p=0,y=x;y;y=Vi(y))p++;for(y=0,b=g;b;b=Vi(b))y++;for(;0<p-y;)x=Vi(x),p--;for(;0<y-p;)g=Vi(g),y--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=Vi(x),g=Vi(g)}x=null}else x=null;h!==null&&lb(c,d,h,x,!1),m!==null&&v!==null&&lb(c,v,m,x,!0)}}e:{if(d=u?yA(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var C=QQ;else if(tb(d))if(w_)C=MQ;else{C=TQ;var B=UQ}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=IQ);if(C&&(C=C(e,u))){b_(c,C,n,f);break e}B&&B(e,d,u),e==="focusout"&&(B=d._wrapperState)&&B.controlled&&d.type==="number"&&ag(d,"number",d.value)}switch(B=u?yA(u):window,e){case"focusin":(tb(B)||B.contentEditable==="true")&&(xA=B,pg=u,yl=null);break;case"focusout":yl=pg=xA=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,ib(c,n,f);break;case"selectionchange":if(HQ)break;case"keydown":case"keyup":ib(c,n,f)}var _;if(Px)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else pA?v_(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(x_&&n.locale!=="ko"&&(pA||N!=="onCompositionStart"?N==="onCompositionEnd"&&pA&&(_=p_()):(ua=f,Ix="value"in ua?ua.value:ua.textContent,pA=!0)),B=kd(u,N),0<B.length&&(N=new Y1(N,e,null,n,f),c.push({event:N,listeners:B}),_?N.data=_:(_=y_(n),_!==null&&(N.data=_)))),(_=jQ?NQ(e,n):kQ(e,n))&&(u=kd(u,"onBeforeInput"),0<u.length&&(f=new Y1("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=_))}Q_(c,t)})}function Ol(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ml(e,n),a!=null&&r.unshift(Ol(e,a,s)),a=Ml(e,t),a!=null&&r.push(Ol(e,a,s))),e=e.return}return r}function Vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lb(e,t,n,r,s){for(var a=t._reactName,A=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Ml(n,a),l!=null&&A.unshift(Ol(n,l,o))):s||(l=Ml(n,a),l!=null&&A.push(Ol(n,l,o)))),n=n.return}A.length!==0&&e.push({event:t,listeners:A})}var OQ=/\r\n?/g,KQ=/\u0000|\uFFFD/g;function cb(e){return(typeof e=="string"?e:""+e).replace(OQ,`
`).replace(KQ,"")}function Au(e,t,n){if(t=cb(t),cb(e)!==t&&n)throw Error(re(425))}function Ed(){}var vg=null,yg=null;function bg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wg=typeof setTimeout=="function"?setTimeout:void 0,zQ=typeof clearTimeout=="function"?clearTimeout:void 0,ub=typeof Promise=="function"?Promise:void 0,GQ=typeof queueMicrotask=="function"?queueMicrotask:typeof ub<"u"?function(e){return ub.resolve(null).then(e).catch(WQ)}:wg;function WQ(e){setTimeout(function(){throw e})}function R0(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hl(t)}function ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function db(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lo=Math.random().toString(36).slice(2),Xr="__reactFiber$"+lo,Kl="__reactProps$"+lo,Is="__reactContainer$"+lo,Bg="__reactEvents$"+lo,VQ="__reactListeners$"+lo,qQ="__reactHandles$"+lo;function ei(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Is]||n[Xr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=db(e);e!==null;){if(n=e[Xr])return n;e=db(e)}return t}e=n,n=e.parentNode}return null}function pc(e){return e=e[Xr]||e[Is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yA(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function th(e){return e[Kl]||null}var Cg=[],bA=-1;function Pa(e){return{current:e}}function ot(e){0>bA||(e.current=Cg[bA],Cg[bA]=null,bA--)}function rt(e,t){bA++,Cg[bA]=e.current,e.current=t}var Qa={},dn=Pa(Qa),Pn=Pa(!1),fi=Qa;function $A(e,t){var n=e.type.contextTypes;if(!n)return Qa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Hn(e){return e=e.childContextTypes,e!=null}function Fd(){ot(Pn),ot(dn)}function fb(e,t,n){if(dn.current!==Qa)throw Error(re(168));rt(dn,t),rt(Pn,n)}function T_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(re(108,UF(e)||"Unknown",s));return pt({},n,r)}function Qd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qa,fi=dn.current,rt(dn,e),rt(Pn,Pn.current),!0}function hb(e,t,n){var r=e.stateNode;if(!r)throw Error(re(169));n?(e=T_(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,ot(Pn),ot(dn),rt(dn,e)):ot(Pn),rt(Pn,n)}var Bs=null,nh=!1,L0=!1;function I_(e){Bs===null?Bs=[e]:Bs.push(e)}function XQ(e){nh=!0,I_(e)}function Ha(){if(!L0&&Bs!==null){L0=!0;var e=0,t=Ve;try{var n=Bs;for(Ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bs=null,nh=!1}catch(s){throw Bs!==null&&(Bs=Bs.slice(e+1)),i_(Fx,Ha),s}finally{Ve=t,L0=!1}}return null}var wA=[],BA=0,Ud=null,Td=0,ar=[],ir=0,hi=null,Ss=1,js="";function Wa(e,t){wA[BA++]=Td,wA[BA++]=Ud,Ud=e,Td=t}function M_(e,t,n){ar[ir++]=Ss,ar[ir++]=js,ar[ir++]=hi,hi=e;var r=Ss;e=js;var s=32-Tr(r)-1;r&=~(1<<s),n+=1;var a=32-Tr(t)+s;if(30<a){var A=s-s%5;a=(r&(1<<A)-1).toString(32),r>>=A,s-=A,Ss=1<<32-Tr(t)+s|n<<s|r,js=a+e}else Ss=1<<a|n<<s|r,js=e}function $x(e){e.return!==null&&(Wa(e,1),M_(e,1,0))}function Rx(e){for(;e===Ud;)Ud=wA[--BA],wA[BA]=null,Td=wA[--BA],wA[BA]=null;for(;e===hi;)hi=ar[--ir],ar[ir]=null,js=ar[--ir],ar[ir]=null,Ss=ar[--ir],ar[ir]=null}var qn=null,Vn=null,ht=!1,Fr=null;function D_(e,t){var n=or(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qn=e,Vn=ya(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qn=e,Vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hi!==null?{id:Ss,overflow:js}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=or(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qn=e,Vn=null,!0):!1;default:return!1}}function _g(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sg(e){if(ht){var t=Vn;if(t){var n=t;if(!mb(e,t)){if(_g(e))throw Error(re(418));t=ya(n.nextSibling);var r=qn;t&&mb(e,t)?D_(r,n):(e.flags=e.flags&-4097|2,ht=!1,qn=e)}}else{if(_g(e))throw Error(re(418));e.flags=e.flags&-4097|2,ht=!1,qn=e}}}function gb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qn=e}function ou(e){if(e!==qn)return!1;if(!ht)return gb(e),ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bg(e.type,e.memoizedProps)),t&&(t=Vn)){if(_g(e))throw P_(),Error(re(418));for(;t;)D_(e,t),t=ya(t.nextSibling)}if(gb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vn=ya(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vn=null}}else Vn=qn?ya(e.stateNode.nextSibling):null;return!0}function P_(){for(var e=Vn;e;)e=ya(e.nextSibling)}function RA(){Vn=qn=null,ht=!1}function Lx(e){Fr===null?Fr=[e]:Fr.push(e)}var YQ=Ks.ReactCurrentBatchConfig;function Fo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(A){var o=s.refs;A===null?delete o[a]:o[a]=A},t._stringRef=a,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function lu(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pb(e){var t=e._init;return t(e._payload)}function H_(e){function t(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Ca(g,p),g.index=0,g.sibling=null,g}function a(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function A(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,y,b){return p===null||p.tag!==6?(p=q0(y,g.mode,b),p.return=g,p):(p=s(p,y),p.return=g,p)}function l(g,p,y,b){var C=y.type;return C===gA?f(g,p,y.props.children,b,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ra&&pb(C)===p.type)?(b=s(p,y.props),b.ref=Fo(g,p,y),b.return=g,b):(b=od(y.type,y.key,y.props,null,g.mode,b),b.ref=Fo(g,p,y),b.return=g,b)}function u(g,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=X0(y,g.mode,b),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function f(g,p,y,b,C){return p===null||p.tag!==7?(p=Ai(y,g.mode,b,C),p.return=g,p):(p=s(p,y),p.return=g,p)}function c(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=q0(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Jc:return y=od(p.type,p.key,p.props,null,g.mode,y),y.ref=Fo(g,null,p),y.return=g,y;case mA:return p=X0(p,g.mode,y),p.return=g,p;case ra:var b=p._init;return c(g,b(p._payload),y)}if(Jo(p)||So(p))return p=Ai(p,g.mode,y,null),p.return=g,p;lu(g,p)}return null}function d(g,p,y,b){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:o(g,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jc:return y.key===C?l(g,p,y,b):null;case mA:return y.key===C?u(g,p,y,b):null;case ra:return C=y._init,d(g,p,C(y._payload),b)}if(Jo(y)||So(y))return C!==null?null:f(g,p,y,b,null);lu(g,y)}return null}function h(g,p,y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,o(p,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jc:return g=g.get(b.key===null?y:b.key)||null,l(p,g,b,C);case mA:return g=g.get(b.key===null?y:b.key)||null,u(p,g,b,C);case ra:var B=b._init;return h(g,p,y,B(b._payload),C)}if(Jo(b)||So(b))return g=g.get(y)||null,f(p,g,b,C,null);lu(p,b)}return null}function m(g,p,y,b){for(var C=null,B=null,_=p,N=p=0,w=null;_!==null&&N<y.length;N++){_.index>N?(w=_,_=null):w=_.sibling;var E=d(g,_,y[N],b);if(E===null){_===null&&(_=w);break}e&&_&&E.alternate===null&&t(g,_),p=a(E,p,N),B===null?C=E:B.sibling=E,B=E,_=w}if(N===y.length)return n(g,_),ht&&Wa(g,N),C;if(_===null){for(;N<y.length;N++)_=c(g,y[N],b),_!==null&&(p=a(_,p,N),B===null?C=_:B.sibling=_,B=_);return ht&&Wa(g,N),C}for(_=r(g,_);N<y.length;N++)w=h(_,g,N,y[N],b),w!==null&&(e&&w.alternate!==null&&_.delete(w.key===null?N:w.key),p=a(w,p,N),B===null?C=w:B.sibling=w,B=w);return e&&_.forEach(function(U){return t(g,U)}),ht&&Wa(g,N),C}function x(g,p,y,b){var C=So(y);if(typeof C!="function")throw Error(re(150));if(y=C.call(y),y==null)throw Error(re(151));for(var B=C=null,_=p,N=p=0,w=null,E=y.next();_!==null&&!E.done;N++,E=y.next()){_.index>N?(w=_,_=null):w=_.sibling;var U=d(g,_,E.value,b);if(U===null){_===null&&(_=w);break}e&&_&&U.alternate===null&&t(g,_),p=a(U,p,N),B===null?C=U:B.sibling=U,B=U,_=w}if(E.done)return n(g,_),ht&&Wa(g,N),C;if(_===null){for(;!E.done;N++,E=y.next())E=c(g,E.value,b),E!==null&&(p=a(E,p,N),B===null?C=E:B.sibling=E,B=E);return ht&&Wa(g,N),C}for(_=r(g,_);!E.done;N++,E=y.next())E=h(_,g,N,E.value,b),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?N:E.key),p=a(E,p,N),B===null?C=E:B.sibling=E,B=E);return e&&_.forEach(function(I){return t(g,I)}),ht&&Wa(g,N),C}function v(g,p,y,b){if(typeof y=="object"&&y!==null&&y.type===gA&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Jc:e:{for(var C=y.key,B=p;B!==null;){if(B.key===C){if(C=y.type,C===gA){if(B.tag===7){n(g,B.sibling),p=s(B,y.props.children),p.return=g,g=p;break e}}else if(B.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ra&&pb(C)===B.type){n(g,B.sibling),p=s(B,y.props),p.ref=Fo(g,B,y),p.return=g,g=p;break e}n(g,B);break}else t(g,B);B=B.sibling}y.type===gA?(p=Ai(y.props.children,g.mode,b,y.key),p.return=g,g=p):(b=od(y.type,y.key,y.props,null,g.mode,b),b.ref=Fo(g,p,y),b.return=g,g=b)}return A(g);case mA:e:{for(B=y.key;p!==null;){if(p.key===B)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=X0(y,g.mode,b),p.return=g,g=p}return A(g);case ra:return B=y._init,v(g,p,B(y._payload),b)}if(Jo(y))return m(g,p,y,b);if(So(y))return x(g,p,y,b);lu(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,y),p.return=g,g=p):(n(g,p),p=q0(y,g.mode,b),p.return=g,g=p),A(g)):n(g,p)}return v}var LA=H_(!0),$_=H_(!1),Id=Pa(null),Md=null,CA=null,Ox=null;function Kx(){Ox=CA=Md=null}function zx(e){var t=Id.current;ot(Id),e._currentValue=t}function jg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function QA(e,t){Md=e,Ox=CA=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(In=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(Ox!==e)if(e={context:e,memoizedValue:t,next:null},CA===null){if(Md===null)throw Error(re(308));CA=e,Md.dependencies={lanes:0,firstContext:e}}else CA=CA.next=e;return t}var ti=null;function Gx(e){ti===null?ti=[e]:ti.push(e)}function R_(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Gx(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sa=!1;function Wx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ba(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ms(e,n)}return s=r.interleaved,s===null?(t.next=t,Gx(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ms(e,n)}function nd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qx(e,n)}}function xb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=A:a=a.next=A,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dd(e,t,n,r){var s=e.updateQueue;sa=!1;var a=s.firstBaseUpdate,A=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,A===null?a=u:A.next=u,A=l;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==A&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(a!==null){var c=s.baseState;A=0,f=u=l=null,o=a;do{var d=o.lane,h=o.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,x=o;switch(d=t,h=n,x.tag){case 1:if(m=x.payload,typeof m=="function"){c=m.call(h,c,d);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,d=typeof m=="function"?m.call(h,c,d):m,d==null)break e;c=pt({},c,d);break e;case 2:sa=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=h,l=c):f=f.next=h,A|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;d=o,o=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(f===null&&(l=c),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do A|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);gi|=A,e.lanes=A,e.memoizedState=c}}function vb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(re(191,s));s.call(r)}}}var xc={},Zr=Pa(xc),zl=Pa(xc),Gl=Pa(xc);function ni(e){if(e===xc)throw Error(re(174));return e}function Vx(e,t){switch(rt(Gl,t),rt(zl,e),rt(Zr,xc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ag(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ag(t,e)}ot(Zr),rt(Zr,t)}function OA(){ot(Zr),ot(zl),ot(Gl)}function O_(e){ni(Gl.current);var t=ni(Zr.current),n=Ag(t,e.type);t!==n&&(rt(zl,e),rt(Zr,n))}function qx(e){zl.current===e&&(ot(Zr),ot(zl))}var mt=Pa(0);function Pd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var O0=[];function Xx(){for(var e=0;e<O0.length;e++)O0[e]._workInProgressVersionPrimary=null;O0.length=0}var rd=Ks.ReactCurrentDispatcher,K0=Ks.ReactCurrentBatchConfig,mi=0,gt=null,Tt=null,Rt=null,Hd=!1,bl=!1,Wl=0,JQ=0;function rn(){throw Error(re(321))}function Yx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dr(e[n],t[n]))return!1;return!0}function Jx(e,t,n,r,s,a){if(mi=a,gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rd.current=e===null||e.memoizedState===null?nU:rU,e=n(r,s),bl){a=0;do{if(bl=!1,Wl=0,25<=a)throw Error(re(301));a+=1,Rt=Tt=null,t.updateQueue=null,rd.current=sU,e=n(r,s)}while(bl)}if(rd.current=$d,t=Tt!==null&&Tt.next!==null,mi=0,Rt=Tt=gt=null,Hd=!1,t)throw Error(re(300));return e}function Zx(){var e=Wl!==0;return Wl=0,e}function Vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?gt.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function mr(){if(Tt===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=Rt===null?gt.memoizedState:Rt.next;if(t!==null)Rt=t,Tt=e;else{if(e===null)throw Error(re(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Rt===null?gt.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Vl(e,t){return typeof t=="function"?t(e):t}function z0(e){var t=mr(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=Tt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var A=s.next;s.next=a.next,a.next=A}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var o=A=null,l=null,u=a;do{var f=u.lane;if((mi&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=c,A=r):l=l.next=c,gt.lanes|=f,gi|=f}u=u.next}while(u!==null&&u!==a);l===null?A=r:l.next=o,Dr(r,t.memoizedState)||(In=!0),t.memoizedState=r,t.baseState=A,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,gt.lanes|=a,gi|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function G0(e){var t=mr(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var A=s=s.next;do a=e(a,A.action),A=A.next;while(A!==s);Dr(a,t.memoizedState)||(In=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function K_(){}function z_(e,t){var n=gt,r=mr(),s=t(),a=!Dr(r.memoizedState,s);if(a&&(r.memoizedState=s,In=!0),r=r.queue,ev(V_.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,ql(9,W_.bind(null,n,r,s,t),void 0,null),Kt===null)throw Error(re(349));mi&30||G_(n,t,s)}return s}function G_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function W_(e,t,n,r){t.value=n,t.getSnapshot=r,q_(t)&&X_(e)}function V_(e,t,n){return n(function(){q_(t)&&X_(e)})}function q_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dr(e,n)}catch{return!0}}function X_(e){var t=Ms(e,1);t!==null&&Ir(t,e,1,-1)}function yb(e){var t=Vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:e},t.queue=e,e=e.dispatch=tU.bind(null,gt,e),[t.memoizedState,e]}function ql(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Y_(){return mr().memoizedState}function sd(e,t,n,r){var s=Vr();gt.flags|=e,s.memoizedState=ql(1|t,n,void 0,r===void 0?null:r)}function rh(e,t,n,r){var s=mr();r=r===void 0?null:r;var a=void 0;if(Tt!==null){var A=Tt.memoizedState;if(a=A.destroy,r!==null&&Yx(r,A.deps)){s.memoizedState=ql(t,n,a,r);return}}gt.flags|=e,s.memoizedState=ql(1|t,n,a,r)}function bb(e,t){return sd(8390656,8,e,t)}function ev(e,t){return rh(2048,8,e,t)}function J_(e,t){return rh(4,2,e,t)}function Z_(e,t){return rh(4,4,e,t)}function e4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t4(e,t,n){return n=n!=null?n.concat([e]):null,rh(4,4,e4.bind(null,t,e),n)}function tv(){}function n4(e,t){var n=mr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function r4(e,t){var n=mr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function s4(e,t,n){return mi&21?(Dr(n,t)||(n=l_(),gt.lanes|=n,gi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,In=!0),e.memoizedState=n)}function ZQ(e,t){var n=Ve;Ve=n!==0&&4>n?n:4,e(!0);var r=K0.transition;K0.transition={};try{e(!1),t()}finally{Ve=n,K0.transition=r}}function a4(){return mr().memoizedState}function eU(e,t,n){var r=Ba(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},i4(e))A4(t,n);else if(n=R_(e,t,n,r),n!==null){var s=Bn();Ir(n,e,r,s),o4(n,t,r)}}function tU(e,t,n){var r=Ba(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(i4(e))A4(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var A=t.lastRenderedState,o=a(A,n);if(s.hasEagerState=!0,s.eagerState=o,Dr(o,A)){var l=t.interleaved;l===null?(s.next=s,Gx(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=R_(e,t,s,r),n!==null&&(s=Bn(),Ir(n,e,r,s),o4(n,t,r))}}function i4(e){var t=e.alternate;return e===gt||t!==null&&t===gt}function A4(e,t){bl=Hd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function o4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qx(e,n)}}var $d={readContext:hr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},nU={readContext:hr,useCallback:function(e,t){return Vr().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:bb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sd(4194308,4,e4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sd(4194308,4,e,t)},useInsertionEffect:function(e,t){return sd(4,2,e,t)},useMemo:function(e,t){var n=Vr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eU.bind(null,gt,e),[r.memoizedState,e]},useRef:function(e){var t=Vr();return e={current:e},t.memoizedState=e},useState:yb,useDebugValue:tv,useDeferredValue:function(e){return Vr().memoizedState=e},useTransition:function(){var e=yb(!1),t=e[0];return e=ZQ.bind(null,e[1]),Vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gt,s=Vr();if(ht){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),Kt===null)throw Error(re(349));mi&30||G_(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,bb(V_.bind(null,r,a,e),[e]),r.flags|=2048,ql(9,W_.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Vr(),t=Kt.identifierPrefix;if(ht){var n=js,r=Ss;n=(r&~(1<<32-Tr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=JQ++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rU={readContext:hr,useCallback:n4,useContext:hr,useEffect:ev,useImperativeHandle:t4,useInsertionEffect:J_,useLayoutEffect:Z_,useMemo:r4,useReducer:z0,useRef:Y_,useState:function(){return z0(Vl)},useDebugValue:tv,useDeferredValue:function(e){var t=mr();return s4(t,Tt.memoizedState,e)},useTransition:function(){var e=z0(Vl)[0],t=mr().memoizedState;return[e,t]},useMutableSource:K_,useSyncExternalStore:z_,useId:a4,unstable_isNewReconciler:!1},sU={readContext:hr,useCallback:n4,useContext:hr,useEffect:ev,useImperativeHandle:t4,useInsertionEffect:J_,useLayoutEffect:Z_,useMemo:r4,useReducer:G0,useRef:Y_,useState:function(){return G0(Vl)},useDebugValue:tv,useDeferredValue:function(e){var t=mr();return Tt===null?t.memoizedState=e:s4(t,Tt.memoizedState,e)},useTransition:function(){var e=G0(Vl)[0],t=mr().memoizedState;return[e,t]},useMutableSource:K_,useSyncExternalStore:z_,useId:a4,unstable_isNewReconciler:!1};function kr(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ng(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sh={isMounted:function(e){return(e=e._reactInternals)?Si(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bn(),s=Ba(e),a=Fs(r,s);a.payload=t,n!=null&&(a.callback=n),t=ba(e,a,s),t!==null&&(Ir(t,e,s,r),nd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bn(),s=Ba(e),a=Fs(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ba(e,a,s),t!==null&&(Ir(t,e,s,r),nd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bn(),r=Ba(e),s=Fs(n,r);s.tag=2,t!=null&&(s.callback=t),t=ba(e,s,r),t!==null&&(Ir(t,e,r,n),nd(t,e,r))}};function wb(e,t,n,r,s,a,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,A):t.prototype&&t.prototype.isPureReactComponent?!Rl(n,r)||!Rl(s,a):!0}function l4(e,t,n){var r=!1,s=Qa,a=t.contextType;return typeof a=="object"&&a!==null?a=hr(a):(s=Hn(t)?fi:dn.current,r=t.contextTypes,a=(r=r!=null)?$A(e,s):Qa),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Bb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sh.enqueueReplaceState(t,t.state,null)}function kg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Wx(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=hr(a):(a=Hn(t)?fi:dn.current,s.context=$A(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ng(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sh.enqueueReplaceState(s,s.state,null),Dd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function KA(e,t){try{var n="",r=t;do n+=QF(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function W0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Eg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var aU=typeof WeakMap=="function"?WeakMap:Map;function c4(e,t,n){n=Fs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ld||(Ld=!0,$g=r),Eg(e,t)},n}function u4(e,t,n){n=Fs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Eg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Eg(e,t),typeof r!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var A=t.stack;this.componentDidCatch(t.value,{componentStack:A!==null?A:""})}),n}function Cb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new aU;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=vU.bind(null,e,t,n),t.then(e,e))}function _b(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sb(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Fs(-1,1),t.tag=2,ba(n,t,1))),n.lanes|=1),e)}var iU=Ks.ReactCurrentOwner,In=!1;function xn(e,t,n,r){t.child=e===null?$_(t,null,n,r):LA(t,e.child,n,r)}function jb(e,t,n,r,s){n=n.render;var a=t.ref;return QA(t,s),r=Jx(e,t,n,r,a,s),n=Zx(),e!==null&&!In?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(ht&&n&&$x(t),t.flags|=1,xn(e,t,r,s),t.child)}function Nb(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!lv(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,d4(e,t,a,r,s)):(e=od(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var A=a.memoizedProps;if(n=n.compare,n=n!==null?n:Rl,n(A,r)&&e.ref===t.ref)return Ds(e,t,s)}return t.flags|=1,e=Ca(a,r),e.ref=t.ref,e.return=t,t.child=e}function d4(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Rl(a,r)&&e.ref===t.ref)if(In=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(In=!0);else return t.lanes=e.lanes,Ds(e,t,s)}return Fg(e,t,n,r,s)}function f4(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(SA,Wn),Wn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(SA,Wn),Wn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,rt(SA,Wn),Wn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,rt(SA,Wn),Wn|=r;return xn(e,t,s,n),t.child}function h4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fg(e,t,n,r,s){var a=Hn(n)?fi:dn.current;return a=$A(t,a),QA(t,s),n=Jx(e,t,n,r,a,s),r=Zx(),e!==null&&!In?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(ht&&r&&$x(t),t.flags|=1,xn(e,t,n,s),t.child)}function kb(e,t,n,r,s){if(Hn(n)){var a=!0;Qd(t)}else a=!1;if(QA(t,s),t.stateNode===null)ad(e,t),l4(t,n,r),kg(t,n,r,s),r=!0;else if(e===null){var A=t.stateNode,o=t.memoizedProps;A.props=o;var l=A.context,u=n.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Hn(n)?fi:dn.current,u=$A(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof A.getSnapshotBeforeUpdate=="function";c||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Bb(t,A,r,u),sa=!1;var d=t.memoizedState;A.state=d,Dd(t,r,A,s),l=t.memoizedState,o!==r||d!==l||Pn.current||sa?(typeof f=="function"&&(Ng(t,n,f,r),l=t.memoizedState),(o=sa||wb(t,n,o,r,d,l,u))?(c||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(t.flags|=4194308)):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),A.props=r,A.state=l,A.context=u,r=o):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{A=t.stateNode,L_(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:kr(t.type,o),A.props=u,c=t.pendingProps,d=A.context,l=n.contextType,typeof l=="object"&&l!==null?l=hr(l):(l=Hn(n)?fi:dn.current,l=$A(t,l));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==c||d!==l)&&Bb(t,A,r,l),sa=!1,d=t.memoizedState,A.state=d,Dd(t,r,A,s);var m=t.memoizedState;o!==c||d!==m||Pn.current||sa?(typeof h=="function"&&(Ng(t,n,h,r),m=t.memoizedState),(u=sa||wb(t,n,u,r,d,m,l)||!1)?(f||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(r,m,l),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(r,m,l)),typeof A.componentDidUpdate=="function"&&(t.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof A.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),A.props=r,A.state=m,A.context=l,r=u):(typeof A.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Qg(e,t,n,r,a,s)}function Qg(e,t,n,r,s,a){h4(e,t);var A=(t.flags&128)!==0;if(!r&&!A)return s&&hb(t,n,!1),Ds(e,t,a);r=t.stateNode,iU.current=t;var o=A&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&A?(t.child=LA(t,e.child,null,a),t.child=LA(t,null,o,a)):xn(e,t,o,a),t.memoizedState=r.state,s&&hb(t,n,!0),t.child}function m4(e){var t=e.stateNode;t.pendingContext?fb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fb(e,t.context,!1),Vx(e,t.containerInfo)}function Eb(e,t,n,r,s){return RA(),Lx(s),t.flags|=256,xn(e,t,n,r),t.child}var Ug={dehydrated:null,treeContext:null,retryLane:0};function Tg(e){return{baseLanes:e,cachePool:null,transitions:null}}function g4(e,t,n){var r=t.pendingProps,s=mt.current,a=!1,A=(t.flags&128)!==0,o;if((o=A)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),rt(mt,s&1),e===null)return Sg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(A=r.children,e=r.fallback,a?(r=t.mode,a=t.child,A={mode:"hidden",children:A},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=A):a=Ah(A,r,0,null),e=Ai(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Tg(n),t.memoizedState=Ug,e):nv(t,A));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return AU(e,t,A,r,o,s,n);if(a){a=r.fallback,A=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(A&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ca(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=Ca(o,a):(a=Ai(a,A,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,A=e.child.memoizedState,A=A===null?Tg(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},a.memoizedState=A,a.childLanes=e.childLanes&~n,t.memoizedState=Ug,r}return a=e.child,e=a.sibling,r=Ca(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function nv(e,t){return t=Ah({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cu(e,t,n,r){return r!==null&&Lx(r),LA(t,e.child,null,n),e=nv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AU(e,t,n,r,s,a,A){if(n)return t.flags&256?(t.flags&=-257,r=W0(Error(re(422))),cu(e,t,A,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Ah({mode:"visible",children:r.children},s,0,null),a=Ai(a,s,A,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&LA(t,e.child,null,A),t.child.memoizedState=Tg(A),t.memoizedState=Ug,a);if(!(t.mode&1))return cu(e,t,A,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(re(419)),r=W0(a,r,void 0),cu(e,t,A,r)}if(o=(A&e.childLanes)!==0,In||o){if(r=Kt,r!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|A)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ms(e,s),Ir(r,e,s,-1))}return ov(),r=W0(Error(re(421))),cu(e,t,A,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yU.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Vn=ya(s.nextSibling),qn=t,ht=!0,Fr=null,e!==null&&(ar[ir++]=Ss,ar[ir++]=js,ar[ir++]=hi,Ss=e.id,js=e.overflow,hi=t),t=nv(t,r.children),t.flags|=4096,t)}function Fb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jg(e.return,t,n)}function V0(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function p4(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(xn(e,t,r.children,n),r=mt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fb(e,n,t);else if(e.tag===19)Fb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rt(mt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Pd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),V0(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Pd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}V0(t,!0,n,null,a);break;case"together":V0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ad(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ds(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=Ca(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ca(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oU(e,t,n){switch(t.tag){case 3:m4(t),RA();break;case 5:O_(t);break;case 1:Hn(t.type)&&Qd(t);break;case 4:Vx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;rt(Id,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rt(mt,mt.current&1),t.flags|=128,null):n&t.child.childLanes?g4(e,t,n):(rt(mt,mt.current&1),e=Ds(e,t,n),e!==null?e.sibling:null);rt(mt,mt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return p4(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rt(mt,mt.current),r)break;return null;case 22:case 23:return t.lanes=0,f4(e,t,n)}return Ds(e,t,n)}var x4,Ig,v4,y4;x4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ig=function(){};v4=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ni(Zr.current);var a=null;switch(n){case"input":s=rg(e,s),r=rg(e,r),a=[];break;case"select":s=pt({},s,{value:void 0}),r=pt({},r,{value:void 0}),a=[];break;case"textarea":s=ig(e,s),r=ig(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ed)}og(n,r);var A;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(A in o)o.hasOwnProperty(A)&&(n||(n={}),n[A]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(A in o)!o.hasOwnProperty(A)||l&&l.hasOwnProperty(A)||(n||(n={}),n[A]="");for(A in l)l.hasOwnProperty(A)&&o[A]!==l[A]&&(n||(n={}),n[A]=l[A])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&at("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};y4=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qo(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lU(e,t,n){var r=t.pendingProps;switch(Rx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Hn(t.type)&&Fd(),sn(t),null;case 3:return r=t.stateNode,OA(),ot(Pn),ot(dn),Xx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fr!==null&&(Og(Fr),Fr=null))),Ig(e,t),sn(t),null;case 5:qx(t);var s=ni(Gl.current);if(n=t.type,e!==null&&t.stateNode!=null)v4(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(re(166));return sn(t),null}if(e=ni(Zr.current),ou(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Xr]=t,r[Kl]=a,e=(t.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(s=0;s<el.length;s++)at(el[s],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":$1(r,a),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},at("invalid",r);break;case"textarea":L1(r,a),at("invalid",r)}og(n,a),s=null;for(var A in a)if(a.hasOwnProperty(A)){var o=a[A];A==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Au(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Au(r.textContent,o,e),s=["children",""+o]):Tl.hasOwnProperty(A)&&o!=null&&A==="onScroll"&&at("scroll",r)}switch(n){case"input":Zc(r),R1(r,a,!0);break;case"textarea":Zc(r),O1(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ed)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=V5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=A.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=A.createElement(n,{is:r.is}):(e=A.createElement(n),n==="select"&&(A=e,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):e=A.createElementNS(e,n),e[Xr]=t,e[Kl]=r,x4(e,t,!1,!1),t.stateNode=e;e:{switch(A=lg(n,r),n){case"dialog":at("cancel",e),at("close",e),s=r;break;case"iframe":case"object":case"embed":at("load",e),s=r;break;case"video":case"audio":for(s=0;s<el.length;s++)at(el[s],e);s=r;break;case"source":at("error",e),s=r;break;case"img":case"image":case"link":at("error",e),at("load",e),s=r;break;case"details":at("toggle",e),s=r;break;case"input":$1(e,r),s=rg(e,r),at("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=pt({},r,{value:void 0}),at("invalid",e);break;case"textarea":L1(e,r),s=ig(e,r),at("invalid",e);break;default:s=r}og(n,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?Y5(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q5(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Il(e,l):typeof l=="number"&&Il(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Tl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&at("scroll",e):l!=null&&Sx(e,a,l,A))}switch(n){case"input":Zc(e),R1(e,r,!1);break;case"textarea":Zc(e),O1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fa(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?NA(e,!!r.multiple,a,!1):r.defaultValue!=null&&NA(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)y4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(re(166));if(n=ni(Gl.current),ni(Zr.current),ou(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,(a=r.nodeValue!==n)&&(e=qn,e!==null))switch(e.tag){case 3:Au(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=t,t.stateNode=r}return sn(t),null;case 13:if(ot(mt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ht&&Vn!==null&&t.mode&1&&!(t.flags&128))P_(),RA(),t.flags|=98560,a=!1;else if(a=ou(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(re(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[Xr]=t}else RA(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),a=!1}else Fr!==null&&(Og(Fr),Fr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mt.current&1?Dt===0&&(Dt=3):ov())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return OA(),Ig(e,t),e===null&&Ll(t.stateNode.containerInfo),sn(t),null;case 10:return zx(t.type._context),sn(t),null;case 17:return Hn(t.type)&&Fd(),sn(t),null;case 19:if(ot(mt),a=t.memoizedState,a===null)return sn(t),null;if(r=(t.flags&128)!==0,A=a.rendering,A===null)if(r)Qo(a,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(A=Pd(e),A!==null){for(t.flags|=128,Qo(a,!1),r=A.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,A=a.alternate,A===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=A.childLanes,a.lanes=A.lanes,a.child=A.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=A.memoizedProps,a.memoizedState=A.memoizedState,a.updateQueue=A.updateQueue,a.type=A.type,e=A.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rt(mt,mt.current&1|2),t.child}e=e.sibling}a.tail!==null&&_t()>zA&&(t.flags|=128,r=!0,Qo(a,!1),t.lanes=4194304)}else{if(!r)if(e=Pd(A),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!A.alternate&&!ht)return sn(t),null}else 2*_t()-a.renderingStartTime>zA&&n!==1073741824&&(t.flags|=128,r=!0,Qo(a,!1),t.lanes=4194304);a.isBackwards?(A.sibling=t.child,t.child=A):(n=a.last,n!==null?n.sibling=A:t.child=A,a.last=A)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=_t(),t.sibling=null,n=mt.current,rt(mt,r?n&1|2:n&1),t):(sn(t),null);case 22:case 23:return Av(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wn&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function cU(e,t){switch(Rx(t),t.tag){case 1:return Hn(t.type)&&Fd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return OA(),ot(Pn),ot(dn),Xx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qx(t),null;case 13:if(ot(mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));RA()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(mt),null;case 4:return OA(),null;case 10:return zx(t.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var uu=!1,cn=!1,uU=typeof WeakSet=="function"?WeakSet:Set,pe=null;function _A(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(e,t,r)}else n.current=null}function Mg(e,t,n){try{n()}catch(r){wt(e,t,r)}}var Qb=!1;function dU(e,t){if(vg=jd,e=__(),Hx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var A=0,o=-1,l=-1,u=0,f=0,c=e,d=null;t:for(;;){for(var h;c!==n||s!==0&&c.nodeType!==3||(o=A+s),c!==a||r!==0&&c.nodeType!==3||(l=A+r),c.nodeType===3&&(A+=c.nodeValue.length),(h=c.firstChild)!==null;)d=c,c=h;for(;;){if(c===e)break t;if(d===n&&++u===s&&(o=A),d===a&&++f===r&&(l=A),(h=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yg={focusedElem:e,selectionRange:n},jd=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,v=m.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:kr(t.type,x),v);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(b){wt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return m=Qb,Qb=!1,m}function wl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Mg(t,n,a)}s=s.next}while(s!==r)}}function ah(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function b4(e){var t=e.alternate;t!==null&&(e.alternate=null,b4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xr],delete t[Kl],delete t[Bg],delete t[VQ],delete t[qQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w4(e){return e.tag===5||e.tag===3||e.tag===4}function Ub(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ed));else if(r!==4&&(e=e.child,e!==null))for(Pg(e,t,n),e=e.sibling;e!==null;)Pg(e,t,n),e=e.sibling}function Hg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hg(e,t,n),e=e.sibling;e!==null;)Hg(e,t,n),e=e.sibling}var Yt=null,Er=!1;function Js(e,t,n){for(n=n.child;n!==null;)B4(e,t,n),n=n.sibling}function B4(e,t,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Yf,n)}catch{}switch(n.tag){case 5:cn||_A(n,t);case 6:var r=Yt,s=Er;Yt=null,Js(e,t,n),Yt=r,Er=s,Yt!==null&&(Er?(e=Yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Er?(e=Yt,n=n.stateNode,e.nodeType===8?R0(e.parentNode,n):e.nodeType===1&&R0(e,n),Hl(e)):R0(Yt,n.stateNode));break;case 4:r=Yt,s=Er,Yt=n.stateNode.containerInfo,Er=!0,Js(e,t,n),Yt=r,Er=s;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,A=a.destroy;a=a.tag,A!==void 0&&(a&2||a&4)&&Mg(n,t,A),s=s.next}while(s!==r)}Js(e,t,n);break;case 1:if(!cn&&(_A(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){wt(n,t,o)}Js(e,t,n);break;case 21:Js(e,t,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,Js(e,t,n),cn=r):Js(e,t,n);break;default:Js(e,t,n)}}function Tb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uU),t.forEach(function(r){var s=bU.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function jr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,A=t,o=A;e:for(;o!==null;){switch(o.tag){case 5:Yt=o.stateNode,Er=!1;break e;case 3:Yt=o.stateNode.containerInfo,Er=!0;break e;case 4:Yt=o.stateNode.containerInfo,Er=!0;break e}o=o.return}if(Yt===null)throw Error(re(160));B4(a,A,s),Yt=null,Er=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){wt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C4(t,e),t=t.sibling}function C4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jr(t,e),zr(e),r&4){try{wl(3,e,e.return),ah(3,e)}catch(x){wt(e,e.return,x)}try{wl(5,e,e.return)}catch(x){wt(e,e.return,x)}}break;case 1:jr(t,e),zr(e),r&512&&n!==null&&_A(n,n.return);break;case 5:if(jr(t,e),zr(e),r&512&&n!==null&&_A(n,n.return),e.flags&32){var s=e.stateNode;try{Il(s,"")}catch(x){wt(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,A=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&G5(s,a),lg(o,A);var u=lg(o,a);for(A=0;A<l.length;A+=2){var f=l[A],c=l[A+1];f==="style"?Y5(s,c):f==="dangerouslySetInnerHTML"?q5(s,c):f==="children"?Il(s,c):Sx(s,f,c,u)}switch(o){case"input":sg(s,a);break;case"textarea":W5(s,a);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?NA(s,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?NA(s,!!a.multiple,a.defaultValue,!0):NA(s,!!a.multiple,a.multiple?[]:"",!1))}s[Kl]=a}catch(x){wt(e,e.return,x)}}break;case 6:if(jr(t,e),zr(e),r&4){if(e.stateNode===null)throw Error(re(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){wt(e,e.return,x)}}break;case 3:if(jr(t,e),zr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hl(t.containerInfo)}catch(x){wt(e,e.return,x)}break;case 4:jr(t,e),zr(e);break;case 13:jr(t,e),zr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(av=_t())),r&4&&Tb(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(cn=(u=cn)||f,jr(t,e),cn=u):jr(t,e),zr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(pe=e,f=e.child;f!==null;){for(c=pe=f;pe!==null;){switch(d=pe,h=d.child,d.tag){case 0:case 11:case 14:case 15:wl(4,d,d.return);break;case 1:_A(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){wt(r,n,x)}}break;case 5:_A(d,d.return);break;case 22:if(d.memoizedState!==null){Mb(c);continue}}h!==null?(h.return=d,pe=h):Mb(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{s=c.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=c.stateNode,l=c.memoizedProps.style,A=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=X5("display",A))}catch(x){wt(e,e.return,x)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(x){wt(e,e.return,x)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:jr(t,e),zr(e),r&4&&Tb(e);break;case 21:break;default:jr(t,e),zr(e)}}function zr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(w4(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Il(s,""),r.flags&=-33);var a=Ub(e);Hg(e,a,s);break;case 3:case 4:var A=r.stateNode.containerInfo,o=Ub(e);Pg(e,o,A);break;default:throw Error(re(161))}}catch(l){wt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fU(e,t,n){pe=e,_4(e)}function _4(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var s=pe,a=s.child;if(s.tag===22&&r){var A=s.memoizedState!==null||uu;if(!A){var o=s.alternate,l=o!==null&&o.memoizedState!==null||cn;o=uu;var u=cn;if(uu=A,(cn=l)&&!u)for(pe=s;pe!==null;)A=pe,l=A.child,A.tag===22&&A.memoizedState!==null?Db(s):l!==null?(l.return=A,pe=l):Db(s);for(;a!==null;)pe=a,_4(a),a=a.sibling;pe=s,uu=o,cn=u}Ib(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,pe=a):Ib(e)}}function Ib(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cn||ah(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!cn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:kr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&vb(t,a,r);break;case 3:var A=t.updateQueue;if(A!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vb(t,A,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Hl(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}cn||t.flags&512&&Dg(t)}catch(d){wt(t,t.return,d)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Mb(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Db(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ah(4,t)}catch(l){wt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){wt(t,s,l)}}var a=t.return;try{Dg(t)}catch(l){wt(t,a,l)}break;case 5:var A=t.return;try{Dg(t)}catch(l){wt(t,A,l)}}}catch(l){wt(t,t.return,l)}if(t===e){pe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,pe=o;break}pe=t.return}}var hU=Math.ceil,Rd=Ks.ReactCurrentDispatcher,rv=Ks.ReactCurrentOwner,fr=Ks.ReactCurrentBatchConfig,Le=0,Kt=null,kt=null,en=0,Wn=0,SA=Pa(0),Dt=0,Xl=null,gi=0,ih=0,sv=0,Bl=null,Tn=null,av=0,zA=1/0,bs=null,Ld=!1,$g=null,wa=null,du=!1,da=null,Od=0,Cl=0,Rg=null,id=-1,Ad=0;function Bn(){return Le&6?_t():id!==-1?id:id=_t()}function Ba(e){return e.mode&1?Le&2&&en!==0?en&-en:YQ.transition!==null?(Ad===0&&(Ad=l_()),Ad):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:g_(e.type)),e):1}function Ir(e,t,n,r){if(50<Cl)throw Cl=0,Rg=null,Error(re(185));mc(e,n,r),(!(Le&2)||e!==Kt)&&(e===Kt&&(!(Le&2)&&(ih|=n),Dt===4&&oa(e,en)),$n(e,r),n===1&&Le===0&&!(t.mode&1)&&(zA=_t()+500,nh&&Ha()))}function $n(e,t){var n=e.callbackNode;YF(e,t);var r=Sd(e,e===Kt?en:0);if(r===0)n!==null&&G1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&G1(n),t===1)e.tag===0?XQ(Pb.bind(null,e)):I_(Pb.bind(null,e)),GQ(function(){!(Le&6)&&Ha()}),n=null;else{switch(c_(r)){case 1:n=Fx;break;case 4:n=A_;break;case 16:n=_d;break;case 536870912:n=o_;break;default:n=_d}n=U4(n,S4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function S4(e,t){if(id=-1,Ad=0,Le&6)throw Error(re(327));var n=e.callbackNode;if(UA()&&e.callbackNode!==n)return null;var r=Sd(e,e===Kt?en:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kd(e,r);else{t=r;var s=Le;Le|=2;var a=N4();(Kt!==e||en!==t)&&(bs=null,zA=_t()+500,ii(e,t));do try{pU();break}catch(o){j4(e,o)}while(1);Kx(),Rd.current=a,Le=s,kt!==null?t=0:(Kt=null,en=0,t=Dt)}if(t!==0){if(t===2&&(s=hg(e),s!==0&&(r=s,t=Lg(e,s))),t===1)throw n=Xl,ii(e,0),oa(e,r),$n(e,_t()),n;if(t===6)oa(e,r);else{if(s=e.current.alternate,!(r&30)&&!mU(s)&&(t=Kd(e,r),t===2&&(a=hg(e),a!==0&&(r=a,t=Lg(e,a))),t===1))throw n=Xl,ii(e,0),oa(e,r),$n(e,_t()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(re(345));case 2:Va(e,Tn,bs);break;case 3:if(oa(e,r),(r&130023424)===r&&(t=av+500-_t(),10<t)){if(Sd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Bn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wg(Va.bind(null,e,Tn,bs),t);break}Va(e,Tn,bs);break;case 4:if(oa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var A=31-Tr(r);a=1<<A,A=t[A],A>s&&(s=A),r&=~a}if(r=s,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hU(r/1960))-r,10<r){e.timeoutHandle=wg(Va.bind(null,e,Tn,bs),r);break}Va(e,Tn,bs);break;case 5:Va(e,Tn,bs);break;default:throw Error(re(329))}}}return $n(e,_t()),e.callbackNode===n?S4.bind(null,e):null}function Lg(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(ii(e,t).flags|=256),e=Kd(e,t),e!==2&&(t=Tn,Tn=n,t!==null&&Og(t)),e}function Og(e){Tn===null?Tn=e:Tn.push.apply(Tn,e)}function mU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Dr(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t){for(t&=~sv,t&=~ih,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tr(t),r=1<<n;e[n]=-1,t&=~r}}function Pb(e){if(Le&6)throw Error(re(327));UA();var t=Sd(e,0);if(!(t&1))return $n(e,_t()),null;var n=Kd(e,t);if(e.tag!==0&&n===2){var r=hg(e);r!==0&&(t=r,n=Lg(e,r))}if(n===1)throw n=Xl,ii(e,0),oa(e,t),$n(e,_t()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Va(e,Tn,bs),$n(e,_t()),null}function iv(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(zA=_t()+500,nh&&Ha())}}function pi(e){da!==null&&da.tag===0&&!(Le&6)&&UA();var t=Le;Le|=1;var n=fr.transition,r=Ve;try{if(fr.transition=null,Ve=1,e)return e()}finally{Ve=r,fr.transition=n,Le=t,!(Le&6)&&Ha()}}function Av(){Wn=SA.current,ot(SA)}function ii(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zQ(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Rx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fd();break;case 3:OA(),ot(Pn),ot(dn),Xx();break;case 5:qx(r);break;case 4:OA();break;case 13:ot(mt);break;case 19:ot(mt);break;case 10:zx(r.type._context);break;case 22:case 23:Av()}n=n.return}if(Kt=e,kt=e=Ca(e.current,null),en=Wn=t,Dt=0,Xl=null,sv=ih=gi=0,Tn=Bl=null,ti!==null){for(t=0;t<ti.length;t++)if(n=ti[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var A=a.next;a.next=s,r.next=A}n.pending=r}ti=null}return e}function j4(e,t){do{var n=kt;try{if(Kx(),rd.current=$d,Hd){for(var r=gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hd=!1}if(mi=0,Rt=Tt=gt=null,bl=!1,Wl=0,rv.current=null,n===null||n.return===null){Dt=1,Xl=t,kt=null;break}e:{var a=e,A=n.return,o=n,l=t;if(t=en,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=o,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=_b(A);if(h!==null){h.flags&=-257,Sb(h,A,o,a,t),h.mode&1&&Cb(a,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var x=new Set;x.add(l),t.updateQueue=x}else m.add(l);break e}else{if(!(t&1)){Cb(a,u,t),ov();break e}l=Error(re(426))}}else if(ht&&o.mode&1){var v=_b(A);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Sb(v,A,o,a,t),Lx(KA(l,o));break e}}a=l=KA(l,o),Dt!==4&&(Dt=2),Bl===null?Bl=[a]:Bl.push(a),a=A;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=c4(a,l,t);xb(a,g);break e;case 1:o=l;var p=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wa===null||!wa.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=u4(a,o,t);xb(a,b);break e}}a=a.return}while(a!==null)}E4(n)}catch(C){t=C,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(1)}function N4(){var e=Rd.current;return Rd.current=$d,e===null?$d:e}function ov(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Kt===null||!(gi&268435455)&&!(ih&268435455)||oa(Kt,en)}function Kd(e,t){var n=Le;Le|=2;var r=N4();(Kt!==e||en!==t)&&(bs=null,ii(e,t));do try{gU();break}catch(s){j4(e,s)}while(1);if(Kx(),Le=n,Rd.current=r,kt!==null)throw Error(re(261));return Kt=null,en=0,Dt}function gU(){for(;kt!==null;)k4(kt)}function pU(){for(;kt!==null&&!LF();)k4(kt)}function k4(e){var t=Q4(e.alternate,e,Wn);e.memoizedProps=e.pendingProps,t===null?E4(e):kt=t,rv.current=null}function E4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cU(n,t),n!==null){n.flags&=32767,kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,kt=null;return}}else if(n=lU(n,t,Wn),n!==null){kt=n;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);Dt===0&&(Dt=5)}function Va(e,t,n){var r=Ve,s=fr.transition;try{fr.transition=null,Ve=1,xU(e,t,n,r)}finally{fr.transition=s,Ve=r}return null}function xU(e,t,n,r){do UA();while(da!==null);if(Le&6)throw Error(re(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(JF(e,a),e===Kt&&(kt=Kt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||du||(du=!0,U4(_d,function(){return UA(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=fr.transition,fr.transition=null;var A=Ve;Ve=1;var o=Le;Le|=4,rv.current=null,dU(e,n),C4(n,e),PQ(yg),jd=!!vg,yg=vg=null,e.current=n,fU(n),OF(),Le=o,Ve=A,fr.transition=a}else e.current=n;if(du&&(du=!1,da=e,Od=s),a=e.pendingLanes,a===0&&(wa=null),GF(n.stateNode),$n(e,_t()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ld)throw Ld=!1,e=$g,$g=null,e;return Od&1&&e.tag!==0&&UA(),a=e.pendingLanes,a&1?e===Rg?Cl++:(Cl=0,Rg=e):Cl=0,Ha(),null}function UA(){if(da!==null){var e=c_(Od),t=fr.transition,n=Ve;try{if(fr.transition=null,Ve=16>e?16:e,da===null)var r=!1;else{if(e=da,da=null,Od=0,Le&6)throw Error(re(331));var s=Le;for(Le|=4,pe=e.current;pe!==null;){var a=pe,A=a.child;if(pe.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(pe=u;pe!==null;){var f=pe;switch(f.tag){case 0:case 11:case 15:wl(8,f,a)}var c=f.child;if(c!==null)c.return=f,pe=c;else for(;pe!==null;){f=pe;var d=f.sibling,h=f.return;if(b4(f),f===u){pe=null;break}if(d!==null){d.return=h,pe=d;break}pe=h}}}var m=a.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}pe=a}}if(a.subtreeFlags&2064&&A!==null)A.return=a,pe=A;else e:for(;pe!==null;){if(a=pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wl(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,pe=g;break e}pe=a.return}}var p=e.current;for(pe=p;pe!==null;){A=pe;var y=A.child;if(A.subtreeFlags&2064&&y!==null)y.return=A,pe=y;else e:for(A=p;pe!==null;){if(o=pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ah(9,o)}}catch(C){wt(o,o.return,C)}if(o===A){pe=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,pe=b;break e}pe=o.return}}if(Le=s,Ha(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Yf,e)}catch{}r=!0}return r}finally{Ve=n,fr.transition=t}}return!1}function Hb(e,t,n){t=KA(n,t),t=c4(e,t,1),e=ba(e,t,1),t=Bn(),e!==null&&(mc(e,1,t),$n(e,t))}function wt(e,t,n){if(e.tag===3)Hb(e,e,n);else for(;t!==null;){if(t.tag===3){Hb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wa===null||!wa.has(r))){e=KA(n,e),e=u4(t,e,1),t=ba(t,e,1),e=Bn(),t!==null&&(mc(t,1,e),$n(t,e));break}}t=t.return}}function vU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bn(),e.pingedLanes|=e.suspendedLanes&n,Kt===e&&(en&n)===n&&(Dt===4||Dt===3&&(en&130023424)===en&&500>_t()-av?ii(e,0):sv|=n),$n(e,t)}function F4(e,t){t===0&&(e.mode&1?(t=nu,nu<<=1,!(nu&130023424)&&(nu=4194304)):t=1);var n=Bn();e=Ms(e,t),e!==null&&(mc(e,t,n),$n(e,n))}function yU(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),F4(e,n)}function bU(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(t),F4(e,n)}var Q4;Q4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pn.current)In=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return In=!1,oU(e,t,n);In=!!(e.flags&131072)}else In=!1,ht&&t.flags&1048576&&M_(t,Td,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ad(e,t),e=t.pendingProps;var s=$A(t,dn.current);QA(t,n),s=Jx(null,t,r,e,s,n);var a=Zx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(r)?(a=!0,Qd(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wx(t),s.updater=sh,t.stateNode=s,s._reactInternals=t,kg(t,r,e,n),t=Qg(null,t,r,!0,a,n)):(t.tag=0,ht&&a&&$x(t),xn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ad(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=BU(r),e=kr(r,e),s){case 0:t=Fg(null,t,r,e,n);break e;case 1:t=kb(null,t,r,e,n);break e;case 11:t=jb(null,t,r,e,n);break e;case 14:t=Nb(null,t,r,kr(r.type,e),n);break e}throw Error(re(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),Fg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),kb(e,t,r,s,n);case 3:e:{if(m4(t),e===null)throw Error(re(387));r=t.pendingProps,a=t.memoizedState,s=a.element,L_(e,t),Dd(t,r,null,n);var A=t.memoizedState;if(r=A.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=KA(Error(re(423)),t),t=Eb(e,t,r,n,s);break e}else if(r!==s){s=KA(Error(re(424)),t),t=Eb(e,t,r,n,s);break e}else for(Vn=ya(t.stateNode.containerInfo.firstChild),qn=t,ht=!0,Fr=null,n=$_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(RA(),r===s){t=Ds(e,t,n);break e}xn(e,t,r,n)}t=t.child}return t;case 5:return O_(t),e===null&&Sg(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,A=s.children,bg(r,s)?A=null:a!==null&&bg(r,a)&&(t.flags|=32),h4(e,t),xn(e,t,A,n),t.child;case 6:return e===null&&Sg(t),null;case 13:return g4(e,t,n);case 4:return Vx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=LA(t,null,r,n):xn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),jb(e,t,r,s,n);case 7:return xn(e,t,t.pendingProps,n),t.child;case 8:return xn(e,t,t.pendingProps.children,n),t.child;case 12:return xn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,A=s.value,rt(Id,r._currentValue),r._currentValue=A,a!==null)if(Dr(a.value,A)){if(a.children===s.children&&!Pn.current){t=Ds(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){A=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Fs(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),jg(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)A=a.type===t.type?null:a.child;else if(a.tag===18){if(A=a.return,A===null)throw Error(re(341));A.lanes|=n,o=A.alternate,o!==null&&(o.lanes|=n),jg(A,n,t),A=a.sibling}else A=a.child;if(A!==null)A.return=a;else for(A=a;A!==null;){if(A===t){A=null;break}if(a=A.sibling,a!==null){a.return=A.return,A=a;break}A=A.return}a=A}xn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,QA(t,n),s=hr(s),r=r(s),t.flags|=1,xn(e,t,r,n),t.child;case 14:return r=t.type,s=kr(r,t.pendingProps),s=kr(r.type,s),Nb(e,t,r,s,n);case 15:return d4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kr(r,s),ad(e,t),t.tag=1,Hn(r)?(e=!0,Qd(t)):e=!1,QA(t,n),l4(t,r,s),kg(t,r,s,n),Qg(null,t,r,!0,e,n);case 19:return p4(e,t,n);case 22:return f4(e,t,n)}throw Error(re(156,t.tag))};function U4(e,t){return i_(e,t)}function wU(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(e,t,n,r){return new wU(e,t,n,r)}function lv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BU(e){if(typeof e=="function")return lv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nx)return 11;if(e===kx)return 14}return 2}function Ca(e,t){var n=e.alternate;return n===null?(n=or(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function od(e,t,n,r,s,a){var A=2;if(r=e,typeof e=="function")lv(e)&&(A=1);else if(typeof e=="string")A=5;else e:switch(e){case gA:return Ai(n.children,s,a,t);case jx:A=8,s|=8;break;case Zm:return e=or(12,n,t,s|2),e.elementType=Zm,e.lanes=a,e;case eg:return e=or(13,n,t,s),e.elementType=eg,e.lanes=a,e;case tg:return e=or(19,n,t,s),e.elementType=tg,e.lanes=a,e;case O5:return Ah(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R5:A=10;break e;case L5:A=9;break e;case Nx:A=11;break e;case kx:A=14;break e;case ra:A=16,r=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=or(A,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Ai(e,t,n,r){return e=or(7,e,r,t),e.lanes=n,e}function Ah(e,t,n,r){return e=or(22,e,r,t),e.elementType=O5,e.lanes=n,e.stateNode={isHidden:!1},e}function q0(e,t,n){return e=or(6,e,null,t),e.lanes=n,e}function X0(e,t,n){return t=or(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CU(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E0(0),this.expirationTimes=E0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cv(e,t,n,r,s,a,A,o,l){return e=new CU(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=or(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wx(a),e}function _U(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mA,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function T4(e){if(!e)return Qa;e=e._reactInternals;e:{if(Si(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(Hn(n))return T_(e,n,t)}return t}function I4(e,t,n,r,s,a,A,o,l){return e=cv(n,r,!0,e,s,a,A,o,l),e.context=T4(null),n=e.current,r=Bn(),s=Ba(n),a=Fs(r,s),a.callback=t??null,ba(n,a,s),e.current.lanes=s,mc(e,s,r),$n(e,r),e}function oh(e,t,n,r){var s=t.current,a=Bn(),A=Ba(s);return n=T4(n),t.context===null?t.context=n:t.pendingContext=n,t=Fs(a,A),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ba(s,t,A),e!==null&&(Ir(e,s,A,a),nd(e,s,A)),A}function zd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $b(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uv(e,t){$b(e,t),(e=e.alternate)&&$b(e,t)}function SU(){return null}var M4=typeof reportError=="function"?reportError:function(e){console.error(e)};function dv(e){this._internalRoot=e}lh.prototype.render=dv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));oh(e,t,null,null)};lh.prototype.unmount=dv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pi(function(){oh(null,e,null,null)}),t[Is]=null}};function lh(e){this._internalRoot=e}lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=f_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Aa.length&&t!==0&&t<Aa[n].priority;n++);Aa.splice(n,0,e),n===0&&m_(e)}};function fv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ch(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rb(){}function jU(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=zd(A);a.call(u)}}var A=I4(t,r,e,0,null,!1,!1,"",Rb);return e._reactRootContainer=A,e[Is]=A.current,Ll(e.nodeType===8?e.parentNode:e),pi(),A}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=zd(l);o.call(u)}}var l=cv(e,0,!1,null,null,!1,!1,"",Rb);return e._reactRootContainer=l,e[Is]=l.current,Ll(e.nodeType===8?e.parentNode:e),pi(function(){oh(t,l,n,r)}),l}function uh(e,t,n,r,s){var a=n._reactRootContainer;if(a){var A=a;if(typeof s=="function"){var o=s;s=function(){var l=zd(A);o.call(l)}}oh(t,A,e,s)}else A=jU(n,t,e,s,r);return zd(A)}u_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zo(t.pendingLanes);n!==0&&(Qx(t,n|1),$n(t,_t()),!(Le&6)&&(zA=_t()+500,Ha()))}break;case 13:pi(function(){var r=Ms(e,1);if(r!==null){var s=Bn();Ir(r,e,1,s)}}),uv(e,1)}};Ux=function(e){if(e.tag===13){var t=Ms(e,134217728);if(t!==null){var n=Bn();Ir(t,e,134217728,n)}uv(e,134217728)}};d_=function(e){if(e.tag===13){var t=Ba(e),n=Ms(e,t);if(n!==null){var r=Bn();Ir(n,e,t,r)}uv(e,t)}};f_=function(){return Ve};h_=function(e,t){var n=Ve;try{return Ve=e,t()}finally{Ve=n}};ug=function(e,t,n){switch(t){case"input":if(sg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=th(r);if(!s)throw Error(re(90));z5(r),sg(r,s)}}}break;case"textarea":W5(e,n);break;case"select":t=n.value,t!=null&&NA(e,!!n.multiple,t,!1)}};e_=iv;t_=pi;var NU={usingClientEntryPoint:!1,Events:[pc,yA,th,J5,Z5,iv]},Uo={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kU={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=s_(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||SU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{Yf=fu.inject(kU),Jr=fu}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NU;Yn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fv(t))throw Error(re(200));return _U(e,t,null,n)};Yn.createRoot=function(e,t){if(!fv(e))throw Error(re(299));var n=!1,r="",s=M4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=cv(e,1,!1,null,null,n,!1,r,s),e[Is]=t.current,Ll(e.nodeType===8?e.parentNode:e),new dv(t)};Yn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=s_(t),e=e===null?null:e.stateNode,e};Yn.flushSync=function(e){return pi(e)};Yn.hydrate=function(e,t,n){if(!ch(t))throw Error(re(200));return uh(null,e,t,!0,n)};Yn.hydrateRoot=function(e,t,n){if(!fv(e))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",A=M4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),t=I4(t,null,e,1,n??null,s,!1,a,A),e[Is]=t.current,Ll(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new lh(t)};Yn.render=function(e,t,n){if(!ch(t))throw Error(re(200));return uh(null,e,t,!1,n)};Yn.unmountComponentAtNode=function(e){if(!ch(e))throw Error(re(40));return e._reactRootContainer?(pi(function(){uh(null,null,e,!1,function(){e._reactRootContainer=null,e[Is]=null})}),!0):!1};Yn.unstable_batchedUpdates=iv;Yn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ch(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return uh(e,t,n,!1,r)};Yn.version="18.3.1-next-f1338f8080-20240426";function D4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D4)}catch(e){console.error(e)}}D4(),D5.exports=Yn;var EU=D5.exports,Lb=EU;Ym.createRoot=Lb.createRoot,Ym.hydrateRoot=Lb.hydrateRoot;var G=(e=>(e.Titans="titans",e.Atlanteans="atlanteans",e))(G||{}),Me=(e=>(e.Quick="quick",e.Long="long",e))(Me||{}),Ne=(e=>(e.Top="top",e.Bottom="bottom",e.Single="single",e))(Ne||{}),oe=(e=>(e.None="none",e.AllPick="allpick",e.Single="single",e.Random="random",e.PickAndBan="pickandban",e))(oe||{});const xi=[{id:0,name:"Arien",icon:"heroes/arien.png",complexity:1,roles:["Tactician","Disabler"],additionalRoles:["Durable","Pusher"],expansion:"Core",description:"Arien is a master duelist who boasts the some of the strongest attacks and disruption on the roster. He is relatively sturdy and presents some interesting positional puzzles.",attack:8,initiative:4,defence:5,defence_upgraded:6,movement:5,movement_upgraded:6},{id:1,name:"Brogan",icon:"heroes/brogan.png",complexity:1,roles:["Durable","Disabler"],additionalRoles:["Pusher","Farming"],expansion:"Core",description:"Brogan is a great starting tank, nigh-unkillable and great at applying pressure in an area. More mobile than you might expect, but quite predictable.",attack:7,initiative:1,defence:8,movement:2,movement_upgraded:4},{id:2,name:"Tigerclaw",icon:"heroes/tigerclaw.png",complexity:1,roles:["Melee","Disabler"],additionalRoles:["Farming"],expansion:"Core",description:"Tigerclaw is an evasive hero capable of dodging attacks, debilitating enemy heroes and stealing their gold.",attack:4,attack_upgraded:8,initiative:8,defence:1,defence_upgraded:4,movement:7,movement_upgraded:8},{id:3,name:"Wasp",icon:"heroes/wasp.png",complexity:1,roles:["Disabler","Tactician"],additionalRoles:["Sniper"],expansion:"Core",description:"Wasp is a crowd control specialist, with area control abilities.",attack:5,initiative:6,defence:4,defence_upgraded:5,movement:5},{id:4,name:"Sabina",icon:"heroes/sabina.png",complexity:1,roles:["Tactician","Pusher"],expansion:"Core",description:"Sabina is a pusher who works best surrounded by friendly minions, or in one-on-one duels.",attack:1,attack_upgraded:8,initiative:5,defence:3,movement:5,movement_upgraded:6},{id:5,name:"Xargatha",icon:"heroes/xargatha.png",complexity:1,roles:["Tactician","Pusher"],additionalRoles:["Disabler","Durable","Sniper"],expansion:"Core",description:"Xargartha is a powerful brawler and zoner, who performs best when up and close against enemy minions.",attack:5,attack_upgraded:8,initiative:3,defence:6,movement:6},{id:6,name:"Dodger",icon:"heroes/dodger.png",complexity:1,roles:["Damager","Sniper"],additionalRoles:["Pusher","Farming","Disabler"],expansion:"Core",description:"Dodger is damaging hero who becomes more powerful as her enemies become weaker.",attack:3,initiative:7,defence:2,defence_upgraded:5,movement:5},{id:7,name:"Rowenna",icon:"heroes/rowenna.png",complexity:2,roles:["Melee","Durable"],additionalRoles:["Healer","Farming","Pusher","Tactician"],expansion:"Arcane",description:"Rowenna is a front-line tank and battlefield support who excels at surviving in contested areas.",attack:8,initiative:4,defence:7,movement:3,movement_upgraded:5},{id:8,name:"Garrus",icon:"heroes/garrus.png",complexity:2,roles:["Disabler","Durable"],additionalRoles:["Tactician"],expansion:"Defiant",description:"Garrus dominates the battlefield as a melee brawler who thrives on intimidation and control.",attack:8,initiative:3,defence:7,movement:5,movement_upgraded:6},{id:9,name:"Bain",icon:"heroes/bain.png",complexity:2,roles:["Tactician","Sniper"],additionalRoles:["Healer","Farming","Durable"],expansion:"Defiant",description:"Bain is a ranged initiator who specializes in marking targets, forcing discards, and setting up kills.",attack:5,initiative:4,defence:4,defence_upgraded:6,movement:5,movement_upgraded:6},{id:10,name:"Whisper",icon:"heroes/whisper.png",complexity:2,roles:["Damager","Durable"],additionalRoles:["Tactician","Pusher"],expansion:"Devoted",description:"Whisper is an adaptive support fighter whose power scales with battlefield clearing, gaining strength as minion spawns empty.",attack:7,initiative:7,defence:4,movement:3,movement_upgraded:5},{id:11,name:"Misa",icon:"heroes/misa.png",complexity:2,roles:["Tactician","Durable"],additionalRoles:["Damager"],expansion:"Devoted",description:"Misa is an elite mobility assassin and disruptor who controls engagements through superior positioning and unpredictable movement.",attack:6,initiative:7,defence:5,movement:1,movement_upgraded:8},{id:12,name:"Ursafar",icon:"heroes/ursafar.png",complexity:2,roles:["Durable","Pusher"],additionalRoles:["Farming","Melee"],expansion:"Devoted",description:'Ursafar is a momentum-based melee brawler who transforms from adequate to overwhelming once his "enraged" state activates.',attack:6,initiative:5,defence:6,movement:1,movement_upgraded:5},{id:13,name:"Silverarrow",icon:"heroes/silverarrow.png",complexity:2,roles:["Sniper","Damager"],additionalRoles:["Disabler","Healer","Farming"],expansion:"Devoted",description:"Silverarrow is a long-range zone controller and initiator who dominates through superior positioning and keeping her distance.",attack:2,initiative:7,defence:1,movement:6,movement_upgraded:7},{id:14,name:"Min",icon:"heroes/min.png",complexity:2,roles:["Tokens","Disabler"],additionalRoles:["Damager","Melee"],expansion:"Renowned",description:"Min strikes with lightning speed as one of the game's fastest initiators, wielding ancient dragon-inspired martial arts",attack:4,attack_upgraded:8,initiative:8,defence:3,defence_upgraded:8,movement:6},{id:15,name:"Mrak",icon:"heroes/mrak.png",complexity:3,roles:["Melee","Tokens"],additionalRoles:["Durable","Disabler","Tactician"],expansion:"Arcane",description:"Mrak is a heavyweight disrupter, commanding powers of rock and stone. Slow and immobile, he is at his best when the action comes to him.",attack:8,initiative:1,defence:8,movement:2,movement_upgraded:4},{id:16,name:"Cutter",icon:"heroes/cutter.png",complexity:3,roles:["Tactician","Disabler"],additionalRoles:["Farming"],expansion:"Defiant",description:"Cutter dances across the battlefield, striking precisely when opportunity presents itself. Her grappling hook allows last-second positioning, while her fork-creating attacks force impossible decisions upon enemies.",attack:4,attack_upgraded:8,initiative:6,defence:4,movement:4,movement_upgraded:8},{id:17,name:"Trinkets",icon:"heroes/trinkets.png",complexity:3,roles:["Sniper","Damager"],additionalRoles:["Pusher"],expansion:"Defiant",description:"Trinkets is a light-weight, fast, highly-mobile, ranged killer who presents an enormous danger zone in the Venn Diagram between himself and his Turret.",attack:3,attack_upgraded:5,initiative:6,defence:2,defence_upgraded:4,movement:7,movement_upgraded:8},{id:18,name:"Tali",icon:"heroes/tali.png",complexity:3,roles:["Damager","Pusher"],additionalRoles:["Healer","Durable","Tokens"],expansion:"Devoted",description:"Tali commands the spirit world as a great support hero, manipulating the battlefield with ice tokens and healing totems.",attack:4,attack_upgraded:6,initiative:5,initiative_upgraded:8,defence:4,movement:5},{id:19,name:"Swift",icon:"heroes/swift.png",complexity:3,roles:["Sniper","Farming"],additionalRoles:["Tactician"],expansion:"Renowned",description:"Swift dominates from the shadows with the extremely long attack range, but presents a complex positional puzzle due to straight line restrictions.",attack:5,initiative:4,defence:2,movement:7},{id:20,name:"Wuk",icon:"heroes/wuk.png",complexity:3,roles:["Tokens","Pusher"],additionalRoles:["Durable","Sniper","Tactician","Healer"],expansion:"Renowned",description:"With Wuk at the table, nobody needs to be reminded about the thousand pound gorilla in the room. Everyone's watching to see where Wuk puts down his trees and defines his turf. He exerts great area control, but requires good planning.",attack:5,initiative:1,defence:8,movement:3,movement_upgraded:4},{id:21,name:"Hanu",icon:"heroes/hanu.png",complexity:3,roles:["Tactician","Sniper"],additionalRoles:["Pusher"],expansion:"Renowned",description:"Hanu the Trickster is a great support hero. His cards allow for shenanigans, bamboozling, knavery, and outright mischief.",attack:4,initiative:8,defence:1,movement:7,movement_upgraded:8},{id:22,name:"Brynn",icon:"heroes/brynn.png",complexity:3,roles:["Tactician","Damager"],additionalRoles:["Durable"],expansion:"Wayward",description:"Brynn is a tactical battlefield manipulator who creates and exploits positioning traps, gaining powerful bonuses when enemies are surrounded by three or more obstacles.",attack:4,attack_upgraded:8,initiative:7,defence:4,movement:5,movement_upgraded:6},{id:23,name:"Mortimer",icon:"heroes/mortimer.png",complexity:3,roles:["Melee","Tokens"],additionalRoles:["Farming","Durable","Pusher"],expansion:"Wayward",description:"Mortimer is a battlefield controller who compensates for his limited mobility by commanding persistent zombie tokens that remain on the board between rounds.",attack:8,initiative:2,defence:7,movement:4},{id:24,name:"Widget and Pyro",icon:"heroes/widget.png",complexity:3,roles:["Melee","Tokens"],additionalRoles:["Damager"],expansion:"Wayward",description:"Widget is a kobold tactician who operates as a dual-unit fighter alongside her emotional support dragon, Pyro, allowing her to control two points on the battlefield simultaneously.",attack:5,initiative:4,defence:4,movement:5,movement_upgraded:6},{id:25,name:"Snorri",icon:"heroes/snorri.png",complexity:4,roles:["Sniper","Farming"],additionalRoles:["Durable","Damager","Pusher","Healer"],expansion:"Arcane",description:"Snorri is a traditional dwarf who wields the power of four distinct runes to transform how each of his cards functions.",attack:5,attack_upgraded:6,initiative:2,defence:5,defence_upgraded:6,movement:4,movement_upgraded:5},{id:26,name:"Razzle",icon:"heroes/razzle.png",complexity:4,roles:["Tactician","Melee"],expansion:"Arcane",description:"Razzle is a fractured fey who multiplies across the battlefield, controlling up to four separate copies of herself simultaneously.",attack:3,initiative:8,defence:1,defence_upgraded:4,movement:5,movement_upgraded:6},{id:27,name:"Gydion",icon:"heroes/gydion.png",complexity:4,roles:["Sniper","Tactician"],additionalRoles:["Farming","Damager","Pusher","Tokens"],expansion:"Arcane",description:"Gydion is an absent-minded archwizard who manages two separate handshis action cards and a unique spellbook deck. He prepares spells that are consumed upon casting, requiring careful resource management to maximize his arcane potential.",attack:5,attack_upgraded:6,initiative:3,defence:3,defence_upgraded:5,movement:1,movement_upgraded:4},{id:28,name:"Nebkher",icon:"heroes/nebkher.png",complexity:4,roles:["Disabler","Tokens"],additionalRoles:["Sniper"],expansion:"Defiant",description:"NebKher is a space-bending undead mastermind who manipulates both the battlefield and enemy minds with equal malevolence. His ability to copy enemy actions, create illusion tokens for strategic teleportation, and control minions transforms him into a terrifying disruptor.",attack:2,attack_upgraded:3,initiative:1,defence:5,defence_upgraded:6,movement:2,movement_upgraded:5},{id:29,name:"Ignatia",icon:"heroes/ignatia.png",complexity:4,roles:["Sniper","Damager"],additionalRoles:["Tokens","Tactician","Pusher"],expansion:"Renowned",description:"Ignatia is a dual-natured elementalist whose abilities shift dramatically based on which team controls the tiebreaker coin.",attack:5,initiative:2,defence:6,movement:4,movement_upgraded:5},{id:30,name:"Takahide",icon:"heroes/takahide.png",complexity:4,roles:["Durable","Sniper"],additionalRoles:["Tactician","Damager","Farming"],expansion:"Wayward",description:"Takahide is a masterful battlefield commander who cycles between three distinct combat styles.",attack:5,attack_upgraded:7,initiative:3,initiative_upgraded:5,defence:4,defence_upgraded:7,movement:1,movement_upgraded:4},{id:31,name:"Emmitt",icon:"heroes/emmitt.png",complexity:4,roles:["Melee","Tactician"],additionalRoles:["Durable","Disabler","Tokens"],expansion:"Wayward",description:"Emmitt is a chronological disruptor who bends the very rules of initiative, causing heroes with lower values to act before those with higher in a complete reversal of time's normal flow.",attack:5,attack_upgraded:8,initiative:1,defence:6,movement:2,movement_upgraded:4}],GA=()=>["Core","Devoted","Defiant","Wayward","Renowned","Arcane"],hv=e=>xi.filter(t=>e.includes(t.expansion)),FU=Object.freeze(Object.defineProperty({__proto__:null,filterHeroesByExpansions:hv,getAllExpansions:GA,heroes:xi},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ob=e=>{const t=UU(e);return t.charAt(0).toUpperCase()+t.slice(1)},P4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),TU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:A,...o},l)=>j.createElement("svg",{ref:l,...IU,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:P4("lucide",s),...!a&&!TU(o)&&{"aria-hidden":"true"},...o},[...A.map(([u,f])=>j.createElement(u,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=j.forwardRef(({className:r,...s},a)=>j.createElement(MU,{ref:a,iconNode:t,className:P4(`lucide-${QU(Ob(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Ob(e),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Gd=fe("arrow-down",DU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kg=fe("arrow-left",PU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Kb=fe("arrow-right",HU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Wd=fe("arrow-up",$U);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Yl=fe("award",RU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],OU=fe("book",LU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],lA=fe("bot",KU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lr=fe("calendar",zU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],dh=fe("camera",GU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],VU=fe("chart-no-axes-column-increasing",WU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_a=fe("check",qU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gr=fe("chevron-down",XU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bn=fe("chevron-left",YU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vd=fe("chevron-right",JU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ns=fe("chevron-up",ZU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cA=fe("circle-alert",eT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],nT=fe("circle-arrow-down",tT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],sT=fe("circle-arrow-up",rT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qa=fe("circle-check-big",aT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vi=fe("circle-help",iT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],Gr=fe("circle-minus",AT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Zs=fe("circle-plus",oT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],WA=fe("clock",lT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Qr=fe("coins",cT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zb=fe("copy",uT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ld=fe("database",dT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],hT=fe("download",fT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gT=fe("file-text",mT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],xT=fe("file",pT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],vc=fe("funnel",vT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14",key:"1j4xps"}],["path",{d:"m7 18 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"uospg8"}],["path",{d:"m2 13 6 6",key:"16e5sb"}]],H4=fe("hand-helping",yT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],mv=fe("heart",bT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],qd=fe("hexagon",wT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],CT=fe("history",BT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ST=fe("house",_T);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],Xd=fe("infinity",jT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jt=fe("info",NT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Gb=fe("link",kT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],aa=fe("loader-circle",ET);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],QT=fe("loader",FT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Wb=fe("medal",UT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M5 12h14",key:"1ays0h"}]],la=fe("minus",TT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],gv=fe("play",IT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_s=fe("plus",MT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Jl=fe("refresh-cw",DT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_l=fe("rotate-ccw",PT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$4=fe("save",HT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],yc=fe("search",$T);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Yd=fe("share-2",RT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],At=fe("shield",LT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],zg=fe("shuffle",OT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],ca=fe("skull",KT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GT=fe("square-check-big",zT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],VT=fe("square-pen",WT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yi=fe("star",qT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],R4=fe("sword",XT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],vn=fe("swords",YT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Jd=fe("target",JT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],pv=fe("trash-2",ZT);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Qs=fe("trending-up",eI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ns=fe("triangle-alert",tI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Zd=fe("trophy",nI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Vb=fe("upload",rI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],aI=fe("user-check",sI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],VA=fe("user",iI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],st=fe("users",AI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],lI=fe("volume-2",oI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],uI=fe("volume-x",cI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fI=fe("wifi-off",dI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],L4=fe("wifi",hI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zs=fe("x",mI);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pI=fe("zap",gI);function xv(){const[e,t]=j.useState({isMobile:!1,isTablet:!1,isDesktop:!0});return j.useEffect(()=>{const n=()=>{const r=window.innerWidth;t({isMobile:r<=768,isTablet:r>768&&r<=1024,isDesktop:r>1024})};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const ke=({text:e,children:t,position:n="top",className:r="",maxWidth:s="max-w-xs",disableMobileTooltip:a=!1})=>{const{isMobile:A}=xv(),[o,l]=j.useState(!1),[u,f]=j.useState(n),c=j.useRef(null),d=j.useRef(null),h=j.useRef(null),m=j.useCallback(()=>{if(!o||!d.current||!h.current)return;const b=d.current.getBoundingClientRect(),C=h.current.getBoundingClientRect(),B=window.innerWidth,_=window.innerHeight;let N=n;(n==="left"&&C.left<b.width+10||n==="right"&&C.right+b.width+10>B)&&(N=n==="left"?"right":"left"),(n==="top"&&C.top<b.height+10||n==="bottom"&&C.bottom+b.height+10>_)&&(N=n==="top"?"bottom":"top"),f(N)},[o,n]);j.useEffect(()=>{o&&setTimeout(m,0)},[o,m]);const x=j.useCallback(b=>{a||(b.stopPropagation(),l(!o))},[o,a]),v=j.useCallback(()=>{A||(c.current=setTimeout(()=>{l(!0)},300))},[A]),g=j.useCallback(()=>{A||(c.current&&clearTimeout(c.current),l(!1))},[A]);j.useEffect(()=>{if(!A||!o)return;const b=C=>{h.current&&!h.current.contains(C.target)&&l(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[A,o]);const p={top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"},y={top:"top-full left-1/2 transform -translate-x-1/2 border-t-4 border-r-4 border-l-4 border-transparent border-t-gray-900",bottom:"bottom-full left-1/2 transform -translate-x-1/2 border-b-4 border-r-4 border-l-4 border-transparent border-b-gray-900",left:"left-full top-1/2 transform -translate-y-1/2 border-l-4 border-t-4 border-b-4 border-transparent border-l-gray-900",right:"right-full top-1/2 transform -translate-y-1/2 border-r-4 border-t-4 border-b-4 border-transparent border-r-gray-900"};return i.jsxs("div",{ref:h,className:`relative inline-block ${r}`,onMouseEnter:v,onMouseLeave:g,onClick:A&&!a?x:void 0,children:[t,o&&i.jsxs("div",{ref:d,className:`absolute z-50 px-3 py-2 text-sm bg-gray-900 text-white rounded shadow-lg w-auto min-w-[160px] ${p[u]} ${s}`,onClick:b=>A&&!a&&b.stopPropagation(),children:[e,i.jsx("div",{className:`absolute w-0 h-0 ${y[u]}`})]})]})};var qr={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var c=this||n;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var d=this||n;if(c=parseFloat(c),d.ctx||f(),typeof c<"u"&&c>=0&&c<=1){if(d._volume=c,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(c,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var m=d._howls[h]._getSoundIds(),x=0;x<m.length;x++){var v=d._howls[h]._soundById(m[x]);v&&v._node&&(v._node.volume=v._volume*c)}return d}return d._volume},mute:function(c){var d=this||n;d.ctx||f(),d._muted=c,d.usingWebAudio&&d.masterGain.gain.setValueAtTime(c?0:d._volume,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var m=d._howls[h]._getSoundIds(),x=0;x<m.length;x++){var v=d._howls[h]._soundById(m[x]);v&&v._node&&(v._node.muted=c?!0:v._muted)}return d},stop:function(){for(var c=this||n,d=0;d<c._howls.length;d++)c._howls[d].stop();return c},unload:function(){for(var c=this||n,d=c._howls.length-1;d>=0;d--)c._howls[d].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,f()),c},codecs:function(c){return(this||n)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||n;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var d=new Audio;typeof d.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var d=new Audio;d.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||n,d=null;try{d=typeof Audio<"u"?new Audio:null}catch{return c}if(!d||typeof d.canPlayType!="function")return c;var h=d.canPlayType("audio/mpeg;").replace(/^no$/,""),m=c._navigator?c._navigator.userAgent:"",x=m.match(/OPR\/(\d+)/g),v=x&&parseInt(x[0].split("/")[1],10)<33,g=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,p=m.match(/Version\/(.*?) /),y=g&&p&&parseInt(p[1],10)<15;return c._codecs={mp3:!!(!v&&(h||d.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(d.canPlayType('audio/wav; codecs="1"')||d.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!y&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!y&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||n;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var d=function(h){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,c._releaseHtml5Audio(m)}catch{c.noAudio=!0;break}for(var x=0;x<c._howls.length;x++)if(!c._howls[x]._webAudio)for(var v=c._howls[x]._getSoundIds(),g=0;g<v.length;g++){var p=c._howls[x]._soundById(v[g]);p&&p._node&&!p._node._unlocked&&(p._node._unlocked=!0,p._node.load())}c._autoResume();var y=c.ctx.createBufferSource();y.buffer=c._scratchBuffer,y.connect(c.ctx.destination),typeof y.start>"u"?y.noteOn(0):y.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),y.onended=function(){y.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("click",d,!0),document.removeEventListener("keydown",d,!0);for(var b=0;b<c._howls.length;b++)c._howls[b]._emit("unlock")}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),document.addEventListener("click",d,!0),document.addEventListener("keydown",d,!0),c}},_obtainHtml5Audio:function(){var c=this||n;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var d=new Audio().play();return d&&typeof Promise<"u"&&(d instanceof Promise||typeof d.then=="function")&&d.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var d=this||n;return c._unlocked&&d._html5AudioPool.push(c),d},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!n.usingWebAudio)){for(var d=0;d<c._howls.length;d++)if(c._howls[d]._webAudio){for(var h=0;h<c._howls[d]._sounds.length;h++)if(!c._howls[d]._sounds[h]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var m=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(m,m)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!n.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var d=0;d<c._howls.length;d++)c._howls[d]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var n=new t,r=function(c){var d=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}d.init(c)};r.prototype={init:function(c){var d=this;return n.ctx||f(),d._autoplay=c.autoplay||!1,d._format=typeof c.format!="string"?c.format:[c.format],d._html5=c.html5||!1,d._muted=c.mute||!1,d._loop=c.loop||!1,d._pool=c.pool||5,d._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,d._rate=c.rate||1,d._sprite=c.sprite||{},d._src=typeof c.src!="string"?c.src:[c.src],d._volume=c.volume!==void 0?c.volume:1,d._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._playLock=!1,d._onend=c.onend?[{fn:c.onend}]:[],d._onfade=c.onfade?[{fn:c.onfade}]:[],d._onload=c.onload?[{fn:c.onload}]:[],d._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],d._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],d._onpause=c.onpause?[{fn:c.onpause}]:[],d._onplay=c.onplay?[{fn:c.onplay}]:[],d._onstop=c.onstop?[{fn:c.onstop}]:[],d._onmute=c.onmute?[{fn:c.onmute}]:[],d._onvolume=c.onvolume?[{fn:c.onvolume}]:[],d._onrate=c.onrate?[{fn:c.onrate}]:[],d._onseek=c.onseek?[{fn:c.onseek}]:[],d._onunlock=c.onunlock?[{fn:c.onunlock}]:[],d._onresume=[],d._webAudio=n.usingWebAudio&&!d._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d._preload!=="none"&&d.load(),d},load:function(){var c=this,d=null;if(n.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var h=0;h<c._src.length;h++){var m,x;if(c._format&&c._format[h])m=c._format[h];else{if(x=c._src[h],typeof x!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(x),m||(m=/\.([^.]+)$/.exec(x.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&n.codecs(m)){d=c._src[h];break}}if(!d){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=d,c._state="loading",window.location.protocol==="https:"&&d.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new s(c),c._webAudio&&A(c),c},play:function(c,d){var h=this,m=null;if(typeof c=="number")m=c,c=null;else{if(typeof c=="string"&&h._state==="loaded"&&!h._sprite[c])return null;if(typeof c>"u"&&(c="__default",!h._playLock)){for(var x=0,v=0;v<h._sounds.length;v++)h._sounds[v]._paused&&!h._sounds[v]._ended&&(x++,m=h._sounds[v]._id);x===1?c=null:m=null}}var g=m?h._soundById(m):h._inactiveSound();if(!g)return null;if(m&&!c&&(c=g._sprite||"__default"),h._state!=="loaded"){g._sprite=c,g._ended=!1;var p=g._id;return h._queue.push({event:"play",action:function(){h.play(p)}}),p}if(m&&!g._paused)return d||h._loadQueue("play"),g._id;h._webAudio&&n._autoResume();var y=Math.max(0,g._seek>0?g._seek:h._sprite[c][0]/1e3),b=Math.max(0,(h._sprite[c][0]+h._sprite[c][1])/1e3-y),C=b*1e3/Math.abs(g._rate),B=h._sprite[c][0]/1e3,_=(h._sprite[c][0]+h._sprite[c][1])/1e3;g._sprite=c,g._ended=!1;var N=function(){g._paused=!1,g._seek=y,g._start=B,g._stop=_,g._loop=!!(g._loop||h._sprite[c][2])};if(y>=_){h._ended(g);return}var w=g._node;if(h._webAudio){var E=function(){h._playLock=!1,N(),h._refreshBuffer(g);var $=g._muted||h._muted?0:g._volume;w.gain.setValueAtTime($,n.ctx.currentTime),g._playStart=n.ctx.currentTime,typeof w.bufferSource.start>"u"?g._loop?w.bufferSource.noteGrainOn(0,y,86400):w.bufferSource.noteGrainOn(0,y,b):g._loop?w.bufferSource.start(0,y,86400):w.bufferSource.start(0,y,b),C!==1/0&&(h._endTimers[g._id]=setTimeout(h._ended.bind(h,g),C)),d||setTimeout(function(){h._emit("play",g._id),h._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?E():(h._playLock=!0,h.once("resume",E),h._clearTimer(g._id))}else{var U=function(){w.currentTime=y,w.muted=g._muted||h._muted||n._muted||w.muted,w.volume=g._volume*n.volume(),w.playbackRate=g._rate;try{var $=w.play();if($&&typeof Promise<"u"&&($ instanceof Promise||typeof $.then=="function")?(h._playLock=!0,N(),$.then(function(){h._playLock=!1,w._unlocked=!0,d?h._loadQueue():h._emit("play",g._id)}).catch(function(){h._playLock=!1,h._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):d||(h._playLock=!1,N(),h._emit("play",g._id)),w.playbackRate=g._rate,w.paused){h._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||g._loop?h._endTimers[g._id]=setTimeout(h._ended.bind(h,g),C):(h._endTimers[g._id]=function(){h._ended(g),w.removeEventListener("ended",h._endTimers[g._id],!1)},w.addEventListener("ended",h._endTimers[g._id],!1))}catch(K){h._emit("playerror",g._id,K)}};w.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(w.src=h._src,w.load());var I=window&&window.ejecta||!w.readyState&&n._navigator.isCocoonJS;if(w.readyState>=3||I)U();else{h._playLock=!0,h._state="loading";var H=function(){h._state="loaded",U(),w.removeEventListener(n._canPlayEvent,H,!1)};w.addEventListener(n._canPlayEvent,H,!1),h._clearTimer(g._id)}}return g._id},pause:function(c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(c)}}),d;for(var h=d._getSoundIds(c),m=0;m<h.length;m++){d._clearTimer(h[m]);var x=d._soundById(h[m]);if(x&&!x._paused&&(x._seek=d.seek(h[m]),x._rateSeek=0,x._paused=!0,d._stopFade(h[m]),x._node))if(d._webAudio){if(!x._node.bufferSource)continue;typeof x._node.bufferSource.stop>"u"?x._node.bufferSource.noteOff(0):x._node.bufferSource.stop(0),d._cleanBuffer(x._node)}else(!isNaN(x._node.duration)||x._node.duration===1/0)&&x._node.pause();arguments[1]||d._emit("pause",x?x._id:null)}return d},stop:function(c,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(c)}}),h;for(var m=h._getSoundIds(c),x=0;x<m.length;x++){h._clearTimer(m[x]);var v=h._soundById(m[x]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,h._stopFade(m[x]),v._node&&(h._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),h._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&h._clearSound(v._node))),d||h._emit("stop",v._id))}return h},mute:function(c,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(c,d)}}),h;if(typeof d>"u")if(typeof c=="boolean")h._muted=c;else return h._muted;for(var m=h._getSoundIds(d),x=0;x<m.length;x++){var v=h._soundById(m[x]);v&&(v._muted=c,v._interval&&h._stopFade(v._id),h._webAudio&&v._node?v._node.gain.setValueAtTime(c?0:v._volume,n.ctx.currentTime):v._node&&(v._node.muted=n._muted?!0:c),h._emit("mute",v._id))}return h},volume:function(){var c=this,d=arguments,h,m;if(d.length===0)return c._volume;if(d.length===1||d.length===2&&typeof d[1]>"u"){var x=c._getSoundIds(),v=x.indexOf(d[0]);v>=0?m=parseInt(d[0],10):h=parseFloat(d[0])}else d.length>=2&&(h=parseFloat(d[0]),m=parseInt(d[1],10));var g;if(typeof h<"u"&&h>=0&&h<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,d)}}),c;typeof m>"u"&&(c._volume=h),m=c._getSoundIds(m);for(var p=0;p<m.length;p++)g=c._soundById(m[p]),g&&(g._volume=h,d[2]||c._stopFade(m[p]),c._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(h,n.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=h*n.volume()),c._emit("volume",g._id))}else return g=m?c._soundById(m):c._sounds[0],g?g._volume:0;return c},fade:function(c,d,h,m){var x=this;if(x._state!=="loaded"||x._playLock)return x._queue.push({event:"fade",action:function(){x.fade(c,d,h,m)}}),x;c=Math.min(Math.max(0,parseFloat(c)),1),d=Math.min(Math.max(0,parseFloat(d)),1),h=parseFloat(h),x.volume(c,m);for(var v=x._getSoundIds(m),g=0;g<v.length;g++){var p=x._soundById(v[g]);if(p){if(m||x._stopFade(v[g]),x._webAudio&&!p._muted){var y=n.ctx.currentTime,b=y+h/1e3;p._volume=c,p._node.gain.setValueAtTime(c,y),p._node.gain.linearRampToValueAtTime(d,b)}x._startFadeInterval(p,c,d,h,v[g],typeof m>"u")}}return x},_startFadeInterval:function(c,d,h,m,x,v){var g=this,p=d,y=h-d,b=Math.abs(y/.01),C=Math.max(4,b>0?m/b:m),B=Date.now();c._fadeTo=h,c._interval=setInterval(function(){var _=(Date.now()-B)/m;B=Date.now(),p+=y*_,p=Math.round(p*100)/100,y<0?p=Math.max(h,p):p=Math.min(h,p),g._webAudio?c._volume=p:g.volume(p,c._id,!0),v&&(g._volume=p),(h<d&&p<=h||h>d&&p>=h)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,g.volume(h,c._id),g._emit("fade",c._id))},C)},_stopFade:function(c){var d=this,h=d._soundById(c);return h&&h._interval&&(d._webAudio&&h._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(h._interval),h._interval=null,d.volume(h._fadeTo,c),h._fadeTo=null,d._emit("fade",c)),d},loop:function(){var c=this,d=arguments,h,m,x;if(d.length===0)return c._loop;if(d.length===1)if(typeof d[0]=="boolean")h=d[0],c._loop=h;else return x=c._soundById(parseInt(d[0],10)),x?x._loop:!1;else d.length===2&&(h=d[0],m=parseInt(d[1],10));for(var v=c._getSoundIds(m),g=0;g<v.length;g++)x=c._soundById(v[g]),x&&(x._loop=h,c._webAudio&&x._node&&x._node.bufferSource&&(x._node.bufferSource.loop=h,h&&(x._node.bufferSource.loopStart=x._start||0,x._node.bufferSource.loopEnd=x._stop,c.playing(v[g])&&(c.pause(v[g],!0),c.play(v[g],!0)))));return c},rate:function(){var c=this,d=arguments,h,m;if(d.length===0)m=c._sounds[0]._id;else if(d.length===1){var x=c._getSoundIds(),v=x.indexOf(d[0]);v>=0?m=parseInt(d[0],10):h=parseFloat(d[0])}else d.length===2&&(h=parseFloat(d[0]),m=parseInt(d[1],10));var g;if(typeof h=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,d)}}),c;typeof m>"u"&&(c._rate=h),m=c._getSoundIds(m);for(var p=0;p<m.length;p++)if(g=c._soundById(m[p]),g){c.playing(m[p])&&(g._rateSeek=c.seek(m[p]),g._playStart=c._webAudio?n.ctx.currentTime:g._playStart),g._rate=h,c._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(h,n.ctx.currentTime):g._node&&(g._node.playbackRate=h);var y=c.seek(m[p]),b=(c._sprite[g._sprite][0]+c._sprite[g._sprite][1])/1e3-y,C=b*1e3/Math.abs(g._rate);(c._endTimers[m[p]]||!g._paused)&&(c._clearTimer(m[p]),c._endTimers[m[p]]=setTimeout(c._ended.bind(c,g),C)),c._emit("rate",g._id)}}else return g=c._soundById(m),g?g._rate:c._rate;return c},seek:function(){var c=this,d=arguments,h,m;if(d.length===0)c._sounds.length&&(m=c._sounds[0]._id);else if(d.length===1){var x=c._getSoundIds(),v=x.indexOf(d[0]);v>=0?m=parseInt(d[0],10):c._sounds.length&&(m=c._sounds[0]._id,h=parseFloat(d[0]))}else d.length===2&&(h=parseFloat(d[0]),m=parseInt(d[1],10));if(typeof m>"u")return 0;if(typeof h=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,d)}}),c;var g=c._soundById(m);if(g)if(typeof h=="number"&&h>=0){var p=c.playing(m);p&&c.pause(m,!0),g._seek=h,g._ended=!1,c._clearTimer(m),!c._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=h);var y=function(){p&&c.play(m,!0),c._emit("seek",m)};if(p&&!c._webAudio){var b=function(){c._playLock?setTimeout(b,0):y()};setTimeout(b,0)}else y()}else if(c._webAudio){var C=c.playing(m)?n.ctx.currentTime-g._playStart:0,B=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(B+C*Math.abs(g._rate))}else return g._node.currentTime;return c},playing:function(c){var d=this;if(typeof c=="number"){var h=d._soundById(c);return h?!h._paused:!1}for(var m=0;m<d._sounds.length;m++)if(!d._sounds[m]._paused)return!0;return!1},duration:function(c){var d=this,h=d._duration,m=d._soundById(c);return m&&(h=d._sprite[m._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var c=this,d=c._sounds,h=0;h<d.length;h++)d[h]._paused||c.stop(d[h]._id),c._webAudio||(c._clearSound(d[h]._node),d[h]._node.removeEventListener("error",d[h]._errorFn,!1),d[h]._node.removeEventListener(n._canPlayEvent,d[h]._loadFn,!1),d[h]._node.removeEventListener("ended",d[h]._endFn,!1),n._releaseHtml5Audio(d[h]._node)),delete d[h]._node,c._clearTimer(d[h]._id);var m=n._howls.indexOf(c);m>=0&&n._howls.splice(m,1);var x=!0;for(h=0;h<n._howls.length;h++)if(n._howls[h]._src===c._src||c._src.indexOf(n._howls[h]._src)>=0){x=!1;break}return a&&x&&delete a[c._src],n.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,d,h,m){var x=this,v=x["_on"+c];return typeof d=="function"&&v.push(m?{id:h,fn:d,once:m}:{id:h,fn:d}),x},off:function(c,d,h){var m=this,x=m["_on"+c],v=0;if(typeof d=="number"&&(h=d,d=null),d||h)for(v=0;v<x.length;v++){var g=h===x[v].id;if(d===x[v].fn&&g||!d&&g){x.splice(v,1);break}}else if(c)m["_on"+c]=[];else{var p=Object.keys(m);for(v=0;v<p.length;v++)p[v].indexOf("_on")===0&&Array.isArray(m[p[v]])&&(m[p[v]]=[])}return m},once:function(c,d,h){var m=this;return m.on(c,d,h,1),m},_emit:function(c,d,h){for(var m=this,x=m["_on"+c],v=x.length-1;v>=0;v--)(!x[v].id||x[v].id===d||c==="load")&&(setTimeout((function(g){g.call(this,d,h)}).bind(m,x[v].fn),0),x[v].once&&m.off(c,x[v].fn,x[v].id));return m._loadQueue(c),m},_loadQueue:function(c){var d=this;if(d._queue.length>0){var h=d._queue[0];h.event===c&&(d._queue.shift(),d._loadQueue()),c||h.action()}return d},_ended:function(c){var d=this,h=c._sprite;if(!d._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(d._ended.bind(d,c),100),d;var m=!!(c._loop||d._sprite[h][2]);if(d._emit("end",c._id),!d._webAudio&&m&&d.stop(c._id,!0).play(c._id),d._webAudio&&m){d._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=n.ctx.currentTime;var x=(c._stop-c._start)*1e3/Math.abs(c._rate);d._endTimers[c._id]=setTimeout(d._ended.bind(d,c),x)}return d._webAudio&&!m&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,d._clearTimer(c._id),d._cleanBuffer(c._node),n._autoSuspend()),!d._webAudio&&!m&&d.stop(c._id,!0),d},_clearTimer:function(c){var d=this;if(d._endTimers[c]){if(typeof d._endTimers[c]!="function")clearTimeout(d._endTimers[c]);else{var h=d._soundById(c);h&&h._node&&h._node.removeEventListener("ended",d._endTimers[c],!1)}delete d._endTimers[c]}return d},_soundById:function(c){for(var d=this,h=0;h<d._sounds.length;h++)if(c===d._sounds[h]._id)return d._sounds[h];return null},_inactiveSound:function(){var c=this;c._drain();for(var d=0;d<c._sounds.length;d++)if(c._sounds[d]._ended)return c._sounds[d].reset();return new s(c)},_drain:function(){var c=this,d=c._pool,h=0,m=0;if(!(c._sounds.length<d)){for(m=0;m<c._sounds.length;m++)c._sounds[m]._ended&&h++;for(m=c._sounds.length-1;m>=0;m--){if(h<=d)return;c._sounds[m]._ended&&(c._webAudio&&c._sounds[m]._node&&c._sounds[m]._node.disconnect(0),c._sounds.splice(m,1),h--)}}},_getSoundIds:function(c){var d=this;if(typeof c>"u"){for(var h=[],m=0;m<d._sounds.length;m++)h.push(d._sounds[m]._id);return h}else return[c]},_refreshBuffer:function(c){var d=this;return c._node.bufferSource=n.ctx.createBufferSource(),c._node.bufferSource.buffer=a[d._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,n.ctx.currentTime),d},_cleanBuffer:function(c){var d=this,h=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!c.bufferSource)return d;if(n._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),h))try{c.bufferSource.buffer=n._scratchBuffer}catch{}return c.bufferSource=null,d},_clearSound:function(c){var d=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);d||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(c){this._parent=c,this.init()};s.prototype={init:function(){var c=this,d=c._parent;return c._muted=d._muted,c._loop=d._loop,c._volume=d._volume,c._rate=d._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,d._sounds.push(c),c.create(),c},create:function(){var c=this,d=c._parent,h=n._muted||c._muted||c._parent._muted?0:c._volume;return d._webAudio?(c._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),c._node.gain.setValueAtTime(h,n.ctx.currentTime),c._node.paused=!0,c._node.connect(n.masterGain)):n.noAudio||(c._node=n._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(n._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=d._src,c._node.preload=d._preload===!0?"auto":d._preload,c._node.volume=h*n.volume(),c._node.load()),c},reset:function(){var c=this,d=c._parent;return c._muted=d._muted,c._loop=d._loop,c._volume=d._volume,c._rate=d._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,d=c._parent;d._duration=Math.ceil(c._node.duration*10)/10,Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue()),c._node.removeEventListener(n._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,d=c._parent;d._duration===1/0&&(d._duration=Math.ceil(c._node.duration*10)/10,d._sprite.__default[1]===1/0&&(d._sprite.__default[1]=d._duration*1e3),d._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var a={},A=function(c){var d=c._src;if(a[d]){c._duration=a[d].duration,u(c);return}if(/^data:[^;]+;base64,/.test(d)){for(var h=atob(d.split(",")[1]),m=new Uint8Array(h.length),x=0;x<h.length;++x)m[x]=h.charCodeAt(x);l(m.buffer,c)}else{var v=new XMLHttpRequest;v.open(c._xhr.method,d,!0),v.withCredentials=c._xhr.withCredentials,v.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(g){v.setRequestHeader(g,c._xhr.headers[g])}),v.onload=function(){var g=(v.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}l(v.response,c)},v.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete a[d],c.load())},o(v)}},o=function(c){try{c.send()}catch{c.onerror()}},l=function(c,d){var h=function(){d._emit("loaderror",null,"Decoding audio data failed.")},m=function(x){x&&d._sounds.length>0?(a[d._src]=x,u(d,x)):h()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(c).then(m).catch(h):n.ctx.decodeAudioData(c,m,h)},u=function(c,d){d&&!c._duration&&(c._duration=d.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},f=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),d=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=d?parseInt(d[1],10):null;if(c&&h&&h<9){var m=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!m&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Cs<"u"?(Cs.HowlerGlobal=t,Cs.Howler=n,Cs.Howl=r,Cs.Sound=s):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=s)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var s=r._howls.length-1;s>=0;s--)r._howls[s].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,s){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(r=typeof r!="number"?a._pos[1]:r,s=typeof s!="number"?a._pos[2]:s,typeof n=="number")a._pos=[n,r,s],typeof a.ctx.listener.positionX<"u"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(n,r,s,a,A,o){var l=this;if(!l.ctx||!l.ctx.listener)return l;var u=l._orientation;if(r=typeof r!="number"?u[1]:r,s=typeof s!="number"?u[2]:s,a=typeof a!="number"?u[3]:a,A=typeof A!="number"?u[4]:A,o=typeof o!="number"?u[5]:o,typeof n=="number")l._orientation=[n,r,s,a,A,o],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(A,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,r,s,a,A,o);else return u;return l},Howl.prototype.init=function(n){return function(r){var s=this;return s._orientation=r.orientation||[1,0,0],s._stereo=r.stereo||null,s._pos=r.pos||null,s._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},s._onstereo=r.onstereo?[{fn:r.onstereo}]:[],s._onpos=r.onpos?[{fn:r.onpos}]:[],s._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(n,r)}}),s;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")s._stereo=n,s._pos=[n,0,0];else return s._stereo;for(var A=s._getSoundIds(r),o=0;o<A.length;o++){var l=s._soundById(A[o]);if(l)if(typeof n=="number")l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&t(l,a),a==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),s._emit("stereo",l._id);else return l._stereo}return s},Howl.prototype.pos=function(n,r,s,a){var A=this;if(!A._webAudio)return A;if(A._state!=="loaded")return A._queue.push({event:"pos",action:function(){A.pos(n,r,s,a)}}),A;if(r=typeof r!="number"?0:r,s=typeof s!="number"?-.5:s,typeof a>"u")if(typeof n=="number")A._pos=[n,r,s];else return A._pos;for(var o=A._getSoundIds(a),l=0;l<o.length;l++){var u=A._soundById(o[l]);if(u)if(typeof n=="number")u._pos=[n,r,s],u._node&&((!u._panner||u._panner.pan)&&t(u,"spatial"),typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):u._panner.setPosition(n,r,s)),A._emit("pos",u._id);else return u._pos}return A},Howl.prototype.orientation=function(n,r,s,a){var A=this;if(!A._webAudio)return A;if(A._state!=="loaded")return A._queue.push({event:"orientation",action:function(){A.orientation(n,r,s,a)}}),A;if(r=typeof r!="number"?A._orientation[1]:r,s=typeof s!="number"?A._orientation[2]:s,typeof a>"u")if(typeof n=="number")A._orientation=[n,r,s];else return A._orientation;for(var o=A._getSoundIds(a),l=0;l<o.length;l++){var u=A._soundById(o[l]);if(u)if(typeof n=="number")u._orientation=[n,r,s],u._node&&(u._panner||(u._pos||(u._pos=A._pos||[0,0,-.5]),t(u,"spatial")),typeof u._panner.orientationX<"u"?(u._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):u._panner.setOrientation(n,r,s)),A._emit("orientation",u._id);else return u._orientation}return A},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,s,a,A;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")s=r[0],typeof a>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),n._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:n._panningModel});else return A=n._soundById(parseInt(r[0],10)),A?A._pannerAttr:n._pannerAttr;else r.length===2&&(s=r[0],a=parseInt(r[1],10));for(var o=n._getSoundIds(a),l=0;l<o.length;l++)if(A=n._soundById(o[l]),A){var u=A._pannerAttr;u={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:u.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:u.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:u.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:u.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:u.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:u.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:u.panningModel};var f=A._panner;f||(A._pos||(A._pos=n._pos||[0,0,-.5]),t(A,"spatial"),f=A._panner),f.coneInnerAngle=u.coneInnerAngle,f.coneOuterAngle=u.coneOuterAngle,f.coneOuterGain=u.coneOuterGain,f.distanceModel=u.distanceModel,f.maxDistance=u.maxDistance,f.refDistance=u.refDistance,f.rolloffFactor=u.rolloffFactor,f.panningModel=u.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,s=r._parent;r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,n.call(this),r._stereo?s.stereo(r._stereo):r._pos&&s.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,s=r._parent;return r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,r._stereo?s.stereo(r._stereo):r._pos?s.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,s._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(qr);const O4=j.createContext({isSoundEnabled:!0,toggleSound:()=>{},playSound:()=>{},unlockAudio:()=>{},isAudioReady:!1}),xI=()=>typeof import.meta<"u"&&{BASE_URL:"/GoA-Timer/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}?"/GoA-Timer/":"",Rn=xI(),hu={buttonClick:`${Rn}sounds/ui/button-click.mp3`,timerWarning:`${Rn}sounds/timer/timer-warning.mp3`,timerComplete:`${Rn}sounds/timer/timer-complete.mp3`,timerTick:`${Rn}sounds/timer/timer-tick.mp3`,heroSelect:`${Rn}sounds/game/hero-select.mp3`,heroBan:`${Rn}sounds/game/hero-ban.mp3`,coinFlip:`${Rn}sounds/game/coin-flip.mp3`,victory:`${Rn}sounds/victory/victory.mp3`,phaseChange:`${Rn}sounds/game/phase-change.mp3`,turnStart:`${Rn}sounds/game/turn-start.mp3`,turnComplete:`${Rn}sounds/game/turn-complete.mp3`,lifeChange:`${Rn}sounds/game/life-change.mp3`,toggleSwitch:`${Rn}sounds/ui/toggle-switch.mp3`},qi={},vI=({children:e})=>{const[t,n]=j.useState(()=>{const l=localStorage.getItem("atlantis-sound-enabled");return l!==null?l==="true":!0}),[r,s]=j.useState(!1),a=()=>{console.log("Attempting to unlock audio context..."),qr.Howler.ctx&&qr.Howler.ctx.state!=="running"?qr.Howler.ctx.resume().then(()=>{console.log("AudioContext resumed successfully!"),s(!0),new qr.Howl({src:[hu.buttonClick],volume:.01}).play()}).catch(l=>{console.error("Failed to resume AudioContext:",l)}):(console.log("AudioContext already running or not available"),s(!0))};j.useEffect(()=>(r&&(console.log("Audio is ready, preloading essential sounds"),["buttonClick","timerComplete","heroSelect","timerTick"].forEach(u=>{qi[u]||(console.log(`Preloading sound: ${u}`),qi[u]=new qr.Howl({src:[hu[u]],preload:!0,volume:u==="timerTick"?.2:.5,onload:()=>console.log(`Successfully loaded: ${u}`),onloaderror:f=>console.error(`Error loading ${u}:`,f)}))})),()=>{console.log("Cleaning up sound cache"),Object.values(qi).forEach(l=>l.unload())}),[r]),j.useEffect(()=>{localStorage.setItem("atlantis-sound-enabled",t.toString())},[t]);const A=()=>{n(l=>!l)},o=l=>{if(console.log(`Attempting to play sound: ${l}`),!t){console.log("Sound is disabled, not playing");return}if(!r){console.log("Audio context not ready, trying to unlock..."),a();return}if(qi[l]){console.log(`Playing cached sound: ${l}`),qi[l].play();return}console.log(`Loading new sound: ${l} from ${hu[l]}`);try{const u=new qr.Howl({src:[hu[l]],volume:l==="timerTick"?.2:.5,onload:()=>console.log(`Successfully loaded: ${l}`),onloaderror:f=>console.error(`Error loading ${l}:`,f),onplay:()=>console.log(`Started playing: ${l}`),onplayerror:f=>console.error(`Error playing ${l}:`,f)});qi[l]=u,u.play()}catch(u){console.error(`Exception when trying to play ${l}:`,u)}};return i.jsx(O4.Provider,{value:{isSoundEnabled:t,toggleSound:A,playSound:o,unlockAudio:a,isAudioReady:r},children:e})},et=()=>j.useContext(O4),qb=({value:e,onChange:t,tooltip:n,minValue:r=10,maxValue:s=600,step:a=10,disabled:A=!1})=>{const[o,l]=j.useState(f(e)),{playSound:u}=et();function f(v){const g=Math.floor(v/60),p=v%60;return`${g}:${p.toString().padStart(2,"0")}`}function c(v){if(!v.trim())return e;const g=v.split(":");if(g.length===2){const y=parseInt(g[0],10),b=parseInt(g[1],10);if(!isNaN(y)&&!isNaN(b))return Math.min(s,Math.max(r,y*60+b))}const p=parseInt(v,10);return isNaN(p)?e:Math.min(s,Math.max(r,p))}const d=v=>{if(A)return;u("buttonClick");const g=Math.min(s,Math.max(r,e+v));t(g)};j.useEffect(()=>{l(f(e))},[e]);const h=v=>{A||l(v.target.value)},m=()=>{if(A)return;u("buttonClick");const v=c(o);t(v),l(f(v))},x=v=>{if(!A&&v.key==="Enter"){u("buttonClick");const g=c(o);t(g),l(f(g)),v.currentTarget.blur()}};return i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"text",value:o,onChange:h,onBlur:m,onKeyDown:x,className:`w-20 bg-gray-700 text-center text-xl font-mono py-2 px-3 rounded-l-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${A?"cursor-not-allowed opacity-60":""}`,"aria-label":"Timer duration",disabled:A}),i.jsxs("div",{className:"flex flex-col border-y border-r border-gray-600 rounded-r-md",children:[i.jsx("button",{className:`bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded-tr-md border-b border-gray-600 ${A?"cursor-not-allowed opacity-60":""}`,onClick:()=>d(a),"aria-label":"Increase time",disabled:A,children:i.jsx(ns,{size:16})}),i.jsx("button",{className:`bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded-br-md ${A?"cursor-not-allowed opacity-60":""}`,onClick:()=>d(-a),"aria-label":"Decrease time",disabled:A,children:i.jsx(gr,{size:16})})]}),i.jsx(ke,{text:n,position:"right",maxWidth:"max-w-xs",children:i.jsx("div",{className:"ml-2 cursor-help",children:i.jsx(jt,{size:18,className:"text-gray-400 hover:text-gray-200"})})})]})})},K4=({player:e,onNameChange:t,onRemove:n,isDuplicate:r=!1,suggestedNames:s=[],disableRemove:a=!1,autoFocus:A=!1})=>{const{playSound:o}=et(),[l,u]=j.useState(e.name),[f,c]=j.useState(!1),[d,h]=j.useState([]),[m,x]=j.useState(!1),[v,g]=j.useState(-1),p=j.useRef(null),y=j.useRef(null),b=j.useId();j.useEffect(()=>{u(e.name)},[e.name]),j.useEffect(()=>{A&&p.current&&p.current.focus()},[A]),j.useEffect(()=>{if(l.trim()){const I=s.filter(H=>H.toLowerCase().includes(l.toLowerCase()));h(I.slice(0,5)),g(-1)}else h([]),g(-1)},[l,s]);const C=I=>/^[a-zA-Z0-9 .-]*$/.test(I),B=I=>{const H=I.target.value;C(H)?(u(H),c(!!H&&s.length>0)):(x(!0),o("buttonClick"),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{x(!1),y.current=null},3e3))},_=()=>{setTimeout(()=>{c(!1),g(-1);const I=l.trim();I!==l&&u(I),t(I)},200)},N=()=>{l&&s.length>0&&c(!0)},w=I=>{var H,$;if(!(!f||d.length===0))switch(I.key){case"ArrowDown":I.preventDefault(),g(K=>K<d.length-1?K+1:0);break;case"ArrowUp":I.preventDefault(),g(K=>K>0?K-1:d.length-1);break;case"Enter":if(I.preventDefault(),v>=0&&v<d.length)E(d[v],"keyboard");else{const K=l.trim();u(K),t(K),c(!1),g(-1),(H=p.current)==null||H.blur()}break;case"Escape":I.preventDefault(),c(!1),g(-1),($=p.current)==null||$.blur();break;case"Tab":f&&(c(!1),g(-1));break}},E=(I,H="mouse")=>{var $;u(I),t(I),c(!1),g(-1),o("buttonClick"),H==="keyboard"&&(($=p.current)==null||$.blur())},U=()=>{n&&(o("buttonClick"),n())};return j.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]),i.jsxs("div",{className:"relative w-full",children:[i.jsxs("div",{className:`flex border ${r?"border-red-500 bg-red-900/20":m?"border-amber-500 bg-amber-900/20":e.team===G.Titans?"border-blue-600 bg-blue-900/30":"border-red-600 bg-red-900/30"} rounded-lg overflow-hidden focus-within:ring-2 ${e.team===G.Titans?"focus-within:ring-blue-500":"focus-within:ring-red-500"}`,children:[i.jsx("input",{ref:p,type:"text",value:l,onChange:B,onBlur:_,onFocus:N,onKeyDown:w,role:"combobox","aria-autocomplete":"list","aria-expanded":f,"aria-controls":f?b:void 0,"aria-activedescendant":v>=0?`${b}-option-${v}`:void 0,autoComplete:"off",placeholder:"Player name",className:`px-3 py-2 flex-grow bg-transparent outline-none text-sm ${e.team===G.Titans?"text-blue-100 placeholder-blue-300":"text-red-100 placeholder-red-300"}`}),r&&i.jsx("div",{className:"flex items-center pr-2",children:i.jsx(cA,{size:16,className:"text-red-500"})}),m&&i.jsx("div",{className:"flex items-center pr-2",children:i.jsx(Ns,{size:16,className:"text-amber-500"})}),n&&!a&&i.jsx("button",{onClick:U,className:"px-2 text-gray-400 hover:text-white focus:outline-none","aria-label":"Remove player",children:i.jsx(zs,{size:16})})]}),r&&i.jsx("div",{className:"text-red-500 text-xs mt-1",children:"Duplicate name"}),m&&i.jsx("div",{className:"text-amber-500 text-xs mt-1",children:"Only letters, numbers, spaces, periods, and hyphens are allowed"}),f&&d.length>0&&i.jsx("ul",{id:b,role:"listbox","aria-label":"Player name suggestions",className:"absolute z-10 w-full mt-1 bg-gray-700 rounded-md shadow-lg max-h-60 overflow-auto",children:d.map((I,H)=>i.jsx("li",{id:`${b}-option-${H}`,role:"option","aria-selected":H===v,onMouseDown:$=>{$.preventDefault(),E(I,"mouse")},onMouseEnter:()=>g(H),className:`px-4 py-2 cursor-pointer text-sm min-h-[44px] flex items-center ${H===v?"bg-blue-600 text-white":"hover:bg-gray-600"}`,children:I},H))})]})},yI="modulepreload",bI=function(e){return"/GoA-Timer/"+e},Xb={},wI=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=bI(a),a in Xb)return;Xb[a]=!0;const A=a.endsWith(".css"),o=A?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const c=s[f];if(c.href===a&&(!A||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=A?"stylesheet":yI,A||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),A)return new Promise((f,c)=>{u.addEventListener("load",f),u.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=a,window.dispatchEvent(A),!A.defaultPrevented)throw a})};var Ye={},fh={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.z=Ze.tau=Ze.sigma=Ze.mu=Ze.epsilon=Ze.default=Ze.betaSq=Ze.beta=void 0;const vv=e=>(e==null?void 0:e.z)??3;Ze.z=vv;const yv=e=>(e==null?void 0:e.mu)??25;Ze.mu=yv;const z4=e=>(e==null?void 0:e.tau)??yv(e)/300;Ze.tau=z4;const G4=e=>(e==null?void 0:e.sigma)??yv(e)/vv(e);Ze.sigma=G4;const W4=e=>(e==null?void 0:e.epsilon)??1e-4;Ze.epsilon=W4;const bv=e=>(e==null?void 0:e.beta)??G4(e)/2;Ze.beta=bv;const Gg=e=>bv(e)**2;Ze.betaSq=Gg;var BI=e=>({EPSILON:W4(e),TWOBETASQ:2*Gg(e),BETA:bv(e),BETASQ:Gg(e),Z:vv(e),TAU:z4(e)});Ze.default=BI;Object.defineProperty(fh,"__esModule",{value:!0});fh.default=void 0;var Yb=Ze;const CI=(e,t={})=>({mu:(e==null?void 0:e.mu)??(0,Yb.mu)(t),sigma:(e==null?void 0:e.sigma)??(0,Yb.sigma)({...t,mu:e==null?void 0:e.mu})});var _I=CI;fh.default=_I;var hh={},F={exports:{}},SI=function(){return!1},jI=SI,NI=function(){return!0},kI=NI,EI={"@@functional/placeholder":!0};function FI(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}var mh=FI,QI=mh;function UI(e){return function t(n){return arguments.length===0||QI(n)?t:e.apply(this,arguments)}}var Ce=UI,Y0=Ce,To=mh;function TI(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return To(n)?t:Y0(function(s){return e(n,s)});default:return To(n)&&To(r)?t:To(n)?Y0(function(s){return e(s,r)}):To(r)?Y0(function(s){return e(n,s)}):e(n,r)}}}var X=TI,II=X,MI=II(function(t,n){return Number(t)+Number(n)}),gh=MI;function DI(e,t){e=e||[],t=t||[];var n,r=e.length,s=t.length,a=[];for(n=0;n<r;)a[a.length]=e[n],n+=1;for(n=0;n<s;)a[a.length]=t[n],n+=1;return a}var yr=DI;function PI(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(n){return t.apply(this,arguments)};case 2:return function(n,r){return t.apply(this,arguments)};case 3:return function(n,r,s){return t.apply(this,arguments)};case 4:return function(n,r,s,a){return t.apply(this,arguments)};case 5:return function(n,r,s,a,A){return t.apply(this,arguments)};case 6:return function(n,r,s,a,A,o){return t.apply(this,arguments)};case 7:return function(n,r,s,a,A,o,l){return t.apply(this,arguments)};case 8:return function(n,r,s,a,A,o,l,u){return t.apply(this,arguments)};case 9:return function(n,r,s,a,A,o,l,u,f){return t.apply(this,arguments)};case 10:return function(n,r,s,a,A,o,l,u,f,c){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var ss=PI,HI=ss,Jb=mh;function V4(e,t,n){return function(){for(var r=[],s=0,a=e,A=0;A<t.length||s<arguments.length;){var o;A<t.length&&(!Jb(t[A])||s>=arguments.length)?o=t[A]:(o=arguments[s],s+=1),r[A]=o,Jb(o)||(a-=1),A+=1}return a<=0?n.apply(this,r):HI(a,V4(e,r,n))}}var bc=V4,$I=ss,RI=Ce,LI=X,OI=bc,KI=LI(function(t,n){return t===1?RI(n):$I(t,OI(t,[],n))}),Gt=KI,zI=yr,GI=Ce,WI=Gt,VI=GI(function(t){return WI(t.length,function(){var n=0,r=arguments[0],s=arguments[arguments.length-1],a=Array.prototype.slice.call(arguments,0);return a[0]=function(){var A=r.apply(this,zI(arguments,[n,s]));return n+=1,A},t.apply(this,a)})}),qI=VI,XI=yr,YI=Ce,JI=Gt,ZI=YI(function(t){return JI(t.length,function(){var n=arguments[0],r=arguments[arguments.length-1],s=r.length-1,a=Array.prototype.slice.call(arguments,0);return a[0]=function(){var A=n.apply(this,XI(arguments,[s,r]));return s-=1,A},t.apply(this,a)})}),e7=ZI,mu=Ce,Xi=X,Xt=mh;function t7(e){return function t(n,r,s){switch(arguments.length){case 0:return t;case 1:return Xt(n)?t:Xi(function(a,A){return e(n,a,A)});case 2:return Xt(n)&&Xt(r)?t:Xt(n)?Xi(function(a,A){return e(a,r,A)}):Xt(r)?Xi(function(a,A){return e(n,a,A)}):mu(function(a){return e(n,r,a)});default:return Xt(n)&&Xt(r)&&Xt(s)?t:Xt(n)&&Xt(r)?Xi(function(a,A){return e(a,A,s)}):Xt(n)&&Xt(s)?Xi(function(a,A){return e(a,r,A)}):Xt(r)&&Xt(s)?Xi(function(a,A){return e(n,a,A)}):Xt(n)?mu(function(a){return e(a,r,s)}):Xt(r)?mu(function(a){return e(n,a,s)}):Xt(s)?mu(function(a){return e(n,r,a)}):e(n,r,s)}}}var Se=t7,n7=yr,r7=Se,s7=r7(function(t,n,r){var s=r.length;if(t>=s||t<-s)return r;var a=(s+t)%s,A=n7(r);return A[a]=n(r[a]),A}),q4=s7,hn=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function a7(e){return e!=null&&typeof e["@@transducer/step"]=="function"}var wv=a7,i7=hn,A7=wv;function o7(e,t,n){return function(){if(arguments.length===0)return n();var r=arguments[arguments.length-1];if(!i7(r)){for(var s=0;s<e.length;){if(typeof r[e[s]]=="function")return r[e[s]].apply(r,Array.prototype.slice.call(arguments,0,-1));s+=1}if(A7(r)){var a=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(r)}}return n.apply(this,arguments)}}var ct=o7;function l7(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var Gs=l7,vt={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}},c7=Gs,u7=vt,d7=function(){function e(t,n){this.xf=n,this.f=t,this.all=!0}return e.prototype["@@transducer/init"]=u7.init,e.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)||(this.all=!1,t=c7(this.xf["@@transducer/step"](t,!1))),t},e}();function f7(e){return function(t){return new d7(e,t)}}var h7=f7,m7=X,g7=ct,p7=h7,x7=m7(g7(["all"],p7,function(t,n){for(var r=0;r<n.length;){if(!t(n[r]))return!1;r+=1}return!0})),X4=x7;function v7(e){for(var t=[],n;!(n=e.next()).done;)t.push(n.value);return t}var y7=v7;function b7(e,t,n){for(var r=0,s=n.length;r<s;){if(e(t,n[r]))return!0;r+=1}return!1}var wc=b7;function w7(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}var B7=w7;function C7(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var jn=C7;function _7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Y4=typeof Object.is=="function"?Object.is:_7,S7=jn,Zb=Object.prototype.toString,j7=function(){return Zb.call(arguments)==="[object Arguments]"?function(t){return Zb.call(t)==="[object Arguments]"}:function(t){return S7("callee",t)}}(),J4=j7,ew=Ce,tw=jn,N7=J4,k7=!{toString:null}.propertyIsEnumerable("toString"),nw=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],rw=function(){return arguments.propertyIsEnumerable("length")}(),E7=function(t,n){for(var r=0;r<t.length;){if(t[r]===n)return!0;r+=1}return!1},F7=ew(typeof Object.keys=="function"&&!rw?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var n,r,s=[],a=rw&&N7(t);for(n in t)tw(n,t)&&(!a||n!=="length")&&(s[s.length]=n);if(k7)for(r=nw.length-1;r>=0;)n=nw[r],tw(n,t)&&!E7(s,n)&&(s[s.length]=n),r-=1;return s}),$r=F7,Q7=Ce,U7=Q7(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),Bv=U7,sw=y7,aw=wc,T7=B7,I7=jn,J0=Y4,iw=$r,Aw=Bv;function ow(e,t,n,r){var s=sw(e),a=sw(t);function A(o,l){return Cv(o,l,n.slice(),r.slice())}return!aw(function(o,l){return!aw(A,l,o)},a,s)}function Cv(e,t,n,r){if(J0(e,t))return!0;var s=Aw(e);if(s!==Aw(t))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(s){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&T7(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&J0(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!J0(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var a=n.length-1;a>=0;){if(n[a]===e)return r[a]===t;a-=1}switch(s){case"Map":return e.size!==t.size?!1:ow(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size!==t.size?!1:ow(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var A=iw(e);if(A.length!==iw(t).length)return!1;var o=n.concat([e]),l=r.concat([t]);for(a=A.length-1;a>=0;){var u=A[a];if(!(I7(u,t)&&Cv(t[u],e[u],o,l)))return!1;a-=1}return!0}var M7=Cv,D7=X,P7=M7,H7=D7(function(t,n){return P7(t,n,[],[])}),br=H7,$7=br;function R7(e,t,n){var r,s;if(typeof e.indexOf=="function")switch(typeof t){case"number":if(t===0){for(r=1/t;n<e.length;){if(s=e[n],s===0&&1/s===r)return n;n+=1}return-1}else if(t!==t){for(;n<e.length;){if(s=e[n],typeof s=="number"&&s!==s)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(t===null)return e.indexOf(t,n)}for(;n<e.length;){if($7(e[n],t))return n;n+=1}return-1}var Z4=R7,L7=Z4;function O7(e,t){return L7(t,e,0)>=0}var _v=O7;function K7(e,t){for(var n=0,r=t.length,s=Array(r);n<r;)s[n]=e(t[n]),n+=1;return s}var Bc=K7;function z7(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var G7=z7,Io=function(t){return(t<10?"0":"")+t},W7=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+Io(t.getUTCMonth()+1)+"-"+Io(t.getUTCDate())+"T"+Io(t.getUTCHours())+":"+Io(t.getUTCMinutes())+":"+Io(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},V7=W7;function q7(e){return function(){return!e.apply(this,arguments)}}var eS=q7;function X7(e,t,n){for(var r=0,s=n.length;r<s;)t=e(t,n[r]),r+=1;return t}var Cc=X7;function Y7(e,t){for(var n=0,r=t.length,s=[];n<r;)e(t[n])&&(s[s.length]=t[n]),n+=1;return s}var Sv=Y7;function J7(e){return Object.prototype.toString.call(e)==="[object Object]"}var _c=J7,lw=vt,Z7=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=lw.init,e.prototype["@@transducer/result"]=lw.result,e.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t},e}();function eM(e){return function(t){return new Z7(e,t)}}var tM=eM,nM=Cc,rM=X,sM=ct,aM=Sv,iM=_c,AM=tM,oM=$r,lM=rM(sM(["fantasy-land/filter","filter"],AM,function(e,t){return iM(t)?nM(function(n,r){return e(t[r])&&(n[r]=t[r]),n},{},oM(t)):aM(e,t)})),jv=lM,cM=eS,uM=X,dM=jv,fM=uM(function(t,n){return dM(cM(t),n)}),ph=fM,hM=_v,Z0=Bc,em=G7,mM=V7,cw=$r,gM=ph;function tS(e,t){var n=function(A){var o=t.concat([e]);return hM(A,o)?"<Circular>":tS(A,o)},r=function(a,A){return Z0(function(o){return em(o)+": "+n(a[o])},A.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+Z0(n,e).join(", ")+"))";case"[object Array]":return"["+Z0(n,e).concat(r(e,gM(function(a){return/^\d+$/.test(a)},cw(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):em(mM(e)))+")";case"[object Map]":return"new Map("+n(Array.from(e))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+n(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object Set]":return"new Set("+n(Array.from(e).sort())+")";case"[object String]":return typeof e=="object"?"new String("+n(e.valueOf())+")":em(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var s=e.toString();if(s!=="[object Object]")return s}return"{"+r(e,cw(e)).join(", ")+"}"}}var nS=tS,pM=Ce,xM=nS,vM=pM(function(t){return xM(t,[])}),co=vM,yM=X,uw=co,bM=yM(function(t,n){if(t===n)return n;function r(l,u){if(l>u!=u>l)return u>l?u:l}var s=r(t,n);if(s!==void 0)return s;var a=r(typeof t,typeof n);if(a!==void 0)return a===typeof t?t:n;var A=uw(t),o=r(A,uw(n));return o!==void 0&&o===A?t:n}),ji=bM,dw=vt,wM=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=dw.init,e.prototype["@@transducer/result"]=dw.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},e}(),BM=function(t){return function(n){return new wM(t,n)}},rS=BM,CM=Cc,_M=X,SM=ct,jM=Bc,NM=rS,kM=Gt,EM=$r,FM=_M(SM(["fantasy-land/map","map"],NM,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return kM(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return CM(function(r,s){return r[s]=t(n[s]),r},{},EM(n));default:return jM(t,n)}})),as=FM,$a=Number.isInteger||function(t){return t<<0===t};function QM(e){return Object.prototype.toString.call(e)==="[object String]"}var uo=QM,UM=X,TM=uo,IM=UM(function(t,n){var r=t<0?n.length+t:t;return TM(n)?n.charAt(r):n[r]}),Ni=IM,MM=X,DM=$a,PM=Ni,HM=MM(function(t,n){if(n!=null)return DM(t)?PM(t,n):n[t]}),ki=HM,$M=X,RM=as,LM=ki,OM=$M(function(t,n){return RM(LM(t),n)}),Sc=OM,KM=Ce,zM=hn,GM=uo,WM=KM(function(t){return zM(t)?!0:!t||typeof t!="object"||GM(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),xh=WM,VM=xh,fw=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function qM(e,t,n){return function(s,a,A){if(VM(A))return e(s,a,A);if(A==null)return a;if(typeof A["fantasy-land/reduce"]=="function")return t(s,a,A,"fantasy-land/reduce");if(A[fw]!=null)return n(s,a,A[fw]());if(typeof A.next=="function")return n(s,a,A);if(typeof A.reduce=="function")return t(s,a,A,"reduce");throw new TypeError("reduce: list must be array or iterable")}}var sS=qM;function XM(e,t,n){for(var r=0,s=n.length;r<s;){if(t=e["@@transducer/step"](t,n[r]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}var aS=XM,YM=ss,JM=X,ZM=JM(function(t,n){return YM(t.length,function(){return t.apply(n,arguments)})}),iS=ZM,eD=sS,tD=aS,nD=iS;function rD(e,t,n){for(var r=n.next();!r.done;){if(t=e["@@transducer/step"](t,r.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function sD(e,t,n,r){return e["@@transducer/result"](n[r](nD(e["@@transducer/step"],e),t))}var aD=eD(tD,sD,rD),Ei=aD,iD=function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},e}();function AD(e){return new iD(e)}var vh=AD,oD=Se,lD=Ei,cD=vh,uD=oD(function(e,t,n){return lD(typeof e=="function"?cD(e):e,t,n)}),Ws=uD,dD=Ce,fD=Gt,hD=ji,mD=Sc,gD=Ws,pD=dD(function(t){return fD(gD(hD,0,mD("length",t)),function(){for(var n=0,r=t.length;n<r;){if(!t[n].apply(this,arguments))return!1;n+=1}return!0})}),xD=pD,vD=Ce,yD=vD(function(t){return function(){return t}}),yh=yD,bD=X,wD=bD(function(t,n){return t&&n}),AS=wD,BD=Gs,CD=vt,_D=function(){function e(t,n){this.xf=n,this.f=t,this.any=!1}return e.prototype["@@transducer/init"]=CD.init,e.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=BD(this.xf["@@transducer/step"](t,!0))),t},e}();function SD(e){return function(t){return new _D(e,t)}}var jD=SD,ND=X,kD=ct,ED=jD,FD=ND(kD(["any"],ED,function(t,n){for(var r=0;r<n.length;){if(t(n[r]))return!0;r+=1}return!1})),QD=FD,UD=Ce,TD=Gt,ID=ji,MD=Sc,DD=Ws,PD=UD(function(t){return TD(DD(ID,0,MD("length",t)),function(){for(var n=0,r=t.length;n<r;){if(t[n].apply(this,arguments))return!0;n+=1}return!1})}),HD=PD,$D=Cc,RD=sS;function LD(e,t,n){for(var r=n.next();!r.done;)t=e(t,r.value),r=n.next();return t}function OD(e,t,n,r){return n[r](e,t)}var KD=RD($D,OD,LD),bh=KD,zD=yr,GD=X,WD=bh,VD=as,qD=GD(function(t,n){return typeof n["fantasy-land/ap"]=="function"?n["fantasy-land/ap"](t):typeof t.ap=="function"?t.ap(n):typeof t=="function"?function(r){return t(r)(n(r))}:WD(function(r,s){return zD(r,VD(s,n))},[],t)}),Nv=qD;function XD(e,t){for(var n=0,r=t.length-(e-1),s=new Array(r>=0?r:0);n<r;)s[n]=Array.prototype.slice.call(t,n,n+e),n+=1;return s}var YD=XD,JD=yr,ZD=vt,e8=function(){function e(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}return e.prototype["@@transducer/init"]=ZD.init,e.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.store(n),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},e.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e.prototype.getCopy=function(){return JD(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},e}();function t8(e){return function(t){return new e8(e,t)}}var n8=t8,r8=YD,s8=X,a8=ct,i8=n8,A8=s8(a8([],i8,r8)),o8=A8,l8=yr,c8=X,u8=c8(function(t,n){return l8(n,[t])}),d8=u8,f8=X,h8=f8(function(t,n){return t.apply(this,n)}),oS=h8,m8=Ce,g8=$r,p8=m8(function(t){for(var n=g8(t),r=n.length,s=[],a=0;a<r;)s[a]=t[n[a]],a+=1;return s}),lS=p8,x8=Ce,v8=hn,y8=oS,b8=Gt,w8=ji,B8=Sc,C8=Ws,_8=$r,S8=lS;function hw(e,t){return v8(t)?t.map(e):_8(t).reduce(function(n,r){return n[r]=e(t[r]),n},{})}var j8=x8(function e(t){return t=hw(function(n){return typeof n=="function"?n:e(n)},t),b8(C8(w8,0,B8("length",S8(t))),function(){var n=arguments;return hw(function(r){return y8(r,n)},t)})}),N8=j8,k8=X,E8=k8(function(t,n){return n(t)}),F8=E8,Q8=Se,U8=Q8(function(t,n,r){var s=t(n),a=t(r);return s<a?-1:s>a?1:0}),T8=U8,I8=hn,M8=$a;function D8(e,t,n){if(M8(e)&&I8(n)){var r=[].concat(n);return r[e]=t,r}var s={};for(var a in n)s[a]=n[a];return s[e]=t,s}var kv=D8,P8=Ce,H8=P8(function(t){return t==null}),jc=H8,$8=Se,R8=jn,L8=$a,O8=kv,K8=jc,z8=$8(function e(t,n,r){if(t.length===0)return n;var s=t[0];if(t.length>1){var a=!K8(r)&&R8(s,r)&&typeof r[s]=="object"?r[s]:L8(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,a)}return O8(s,n,r)}),Ev=z8,G8=Se,W8=Ev,V8=G8(function(t,n,r){return W8([t],n,r)}),Fv=V8,q8=X,X8=q8(function(t,n){switch(t){case 0:return function(){return n.call(this)};case 1:return function(r){return n.call(this,r)};case 2:return function(r,s){return n.call(this,r,s)};case 3:return function(r,s,a){return n.call(this,r,s,a)};case 4:return function(r,s,a,A){return n.call(this,r,s,a,A)};case 5:return function(r,s,a,A,o){return n.call(this,r,s,a,A,o)};case 6:return function(r,s,a,A,o,l){return n.call(this,r,s,a,A,o,l)};case 7:return function(r,s,a,A,o,l,u){return n.call(this,r,s,a,A,o,l,u)};case 8:return function(r,s,a,A,o,l,u,f){return n.call(this,r,s,a,A,o,l,u,f)};case 9:return function(r,s,a,A,o,l,u,f,c){return n.call(this,r,s,a,A,o,l,u,f,c)};case 10:return function(r,s,a,A,o,l,u,f,c,d){return n.call(this,r,s,a,A,o,l,u,f,c,d)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),wh=X8,Y8=Ce,J8=wh,Z8=Y8(function(t){return J8(2,t)}),eP=Z8;function tP(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}var Nc=tP,nP=X,rP=Cc,sP=Nv,mw=Gt,aP=as,iP=nP(function(t,n){var r=mw(t,n);return mw(t,function(){return rP(sP,aP(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),cS=iP,AP=Ce,oP=cS,lP=AP(function(t){return oP(t.length,t)}),Bh=lP,cP=X,uP=Nc,dP=AS,fP=Bh,hP=cP(function(t,n){return uP(t)?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:fP(dP)(t,n)}),mP=hP,gP=Ce,pP=gP(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))}),xP=pP,vP=xh;function yP(e){return function t(n){for(var r,s,a,A=[],o=0,l=n.length;o<l;){if(vP(n[o]))for(r=e?t(n[o]):n[o],a=0,s=r.length;a<s;)A[A.length]=r[a],a+=1;else A[A.length]=n[o];o+=1}return A}}var uS=yP;function bP(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}var wP=bP,BP=wP,CP=xh,_P=aS,SP=Ei,ef=vt,dS="@@transducer/init",Wg="@@transducer/step",fS="@@transducer/result",jP=function(){function e(t){this.xf=t}return e.prototype[dS]=ef.init,e.prototype[fS]=ef.result,e.prototype[Wg]=function(t,n){var r=this.xf[Wg](t,n);return r["@@transducer/reduced"]?BP(r):r},e}(),NP=function(){function e(t){this.xf=new jP(t)}return e.prototype[dS]=ef.init,e.prototype[fS]=ef.result,e.prototype[Wg]=function(t,n){return CP(n)?SP(this.xf,t,n):_P(this.xf,t,[n])},e}(),kP=function(t){return new NP(t)},EP=kP,FP=EP,QP=rS;function UP(e){return function(t){return QP(e)(FP(t))}}var TP=UP,IP=X,MP=ct,DP=uS,PP=TP,HP=as,$P=IP(MP(["fantasy-land/chain","chain"],PP,function(t,n){return typeof n=="function"?function(r){return t(n(r))(r)}:DP(!1)(HP(t,n))})),hS=$P,RP=Se,LP=RP(function(t,n,r){if(t>n)throw new Error("min must not be greater than max in clamp(min, max, value)");return r<t?t:r>n?n:r}),OP=LP;function KP(e){return new RegExp(e.source,e.flags?e.flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")+(e.dotAll?"s":""))}var mS=KP,zP=mS,GP=Bv;function gS(e,t,n){if(n||(n=new VP),WP(e))return e;var r=function(a){var A=n.get(e);if(A)return A;n.set(e,a);for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=t?gS(e[o],!0,n):e[o]);return a};switch(GP(e)){case"Object":return r(Object.create(Object.getPrototypeOf(e)));case"Array":return r([]);case"Date":return new Date(e.valueOf());case"RegExp":return zP(e);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var Qv=gS;function WP(e){var t=typeof e;return e==null||t!="object"&&t!="function"}var VP=function(){function e(){this.map={},this.length=0}return e.prototype.set=function(t,n){const r=this.hash(t);let s=this.map[r];s||(this.map[r]=s=[]),s.push([t,n]),this.length+=1},e.prototype.hash=function(t){let n=[];for(var r in t)n.push(Object.prototype.toString.call(t[r]));return n.join()},e.prototype.get=function(t){if(this.length<=180){for(const s in this.map){const a=this.map[s];for(let A=0;A<a.length;A+=1){const o=a[A];if(o[0]===t)return o[1]}}return}const n=this.hash(t),r=this.map[n];if(r)for(let s=0;s<r.length;s+=1){const a=r[s];if(a[0]===t)return a[1]}},e}(),qP=Qv,XP=Ce,YP=XP(function(t){return t!=null&&typeof t.clone=="function"?t.clone():qP(t,!0)}),pS=YP,JP=X,ZP=bh,eH=JP(function(t,n){var r=ZP(function(A,o){var l=t(o);return A[l]===void 0&&(A[l]=[]),A[l].push(o),A},{},n),s=[];for(var a in r)s.push(r[a]);return s}),tH=eH,nH=Ce,rH=nH(function(t){return function(n,r){return t(n,r)?-1:t(r,n)?1:0}}),sH=rH,aH=Ce,iH=aH(function(t){return!t}),xS=iH,AH=Bh,oH=xS,lH=AH(oH),cH=lH;function uH(e,t){return function(){return t.call(this,e.apply(this,arguments))}}var dH=uH,fH=hn;function hH(e,t){return function(){var n=arguments.length;if(n===0)return t();var r=arguments[n-1];return fH(r)||typeof r[e]!="function"?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var kc=hH,mH=kc,gH=Se,pH=gH(mH("slice",function(t,n,r){return Array.prototype.slice.call(r,t,n)})),Rr=pH,xH=kc,vH=Ce,yH=Rr,bH=vH(xH("tail",yH(1,1/0))),Uv=bH,wH=ss,BH=dH,CH=Ws,_H=Uv;function SH(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return wH(arguments[0].length,CH(BH,arguments[0],_H(arguments)))}var vS=SH,jH=Ce,NH=uo,kH=jH(function(t){return NH(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}),Tv=kH,EH=vS,FH=Tv;function QH(){if(arguments.length===0)throw new Error("compose requires at least one argument");return EH.apply(this,FH(arguments))}var yS=QH,UH=Ni,TH=UH(0),bS=TH;function IH(e){return e}var Ch=IH,MH=Ce,DH=Ch,PH=MH(DH),_h=PH,HH=ss,$H=X,RH=bS,LH=bh,OH=Uv,KH=_h,zH=$H(function(t,n){if(n.length<=0)return KH;var r=RH(n),s=OH(n);return HH(r.length,function(){return LH(function(a,A){return t.call(this,A,a)},r.apply(this,arguments),s)})}),wS=zH,GH=X,WH=wS,VH=Tv,qH=GH(function(t,n){return WH.apply(this,[t,VH(n)])}),XH=qH,YH=X,gw=hn,pw=Nc,xw=uo,tm=co,JH=YH(function(t,n){if(gw(t)){if(gw(n))return t.concat(n);throw new TypeError(tm(n)+" is not an array")}if(xw(t)){if(xw(n))return t+n;throw new TypeError(tm(n)+" is not a string")}if(t!=null&&pw(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(t!=null&&pw(t.concat))return t.concat(n);throw new TypeError(tm(t)+' does not have a method named "concat" or "fantasy-land/concat"')}),Iv=JH,ZH=ss,e$=Ce,t$=as,n$=ji,r$=Ws,s$=e$(function(t){var n=r$(n$,0,t$(function(r){return r[0].length},t));return ZH(n,function(){for(var r=0;r<t.length;){if(t[r][0].apply(this,arguments))return t[r][1].apply(this,arguments);r+=1}})}),a$=s$,i$=Ce,A$=Gt,o$=i$(function(t){return A$(t.length,t)}),Mv=o$,l$=X,c$=Mv,u$=wh,d$=l$(function(t,n){if(t>10)throw new Error("Constructor with greater than ten arguments");return t===0?function(){return new n}:c$(u$(t,function(r,s,a,A,o,l,u,f,c,d){switch(t){case 1:return new n(r);case 2:return new n(r,s);case 3:return new n(r,s,a);case 4:return new n(r,s,a,A);case 5:return new n(r,s,a,A,o);case 6:return new n(r,s,a,A,o,l);case 7:return new n(r,s,a,A,o,l,u);case 8:return new n(r,s,a,A,o,l,u,f);case 9:return new n(r,s,a,A,o,l,u,f,c);case 10:return new n(r,s,a,A,o,l,u,f,c,d)}}))}),BS=d$,f$=Ce,h$=BS,m$=f$(function(t){return h$(t.length,t)}),g$=m$,p$=X,x$=Bc,v$=Gt,y$=ji,b$=Sc,w$=Ws,B$=p$(function(t,n){return v$(w$(y$,0,b$("length",n)),function(){var r=arguments,s=this;return t.apply(s,x$(function(a){return a.apply(s,r)},n))})}),CS=B$,C$=bh,_$=Mv,S$=_$(function(e,t){return C$(function(n,r){return e(r)?n+1:n},0,t)}),j$=S$,N$=Qv,k$=jn,E$=vt,F$=function(){function e(t,n,r,s){this.valueFn=t,this.valueAcc=n,this.keyFn=r,this.xf=s,this.inputs={}}return e.prototype["@@transducer/init"]=E$.init,e.prototype["@@transducer/result"]=function(t){var n;for(n in this.inputs)if(k$(n,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[n]),t["@@transducer/reduced"])){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){var r=this.keyFn(n);return this.inputs[r]=this.inputs[r]||[r,N$(this.valueAcc,!1)],this.inputs[r][1]=this.valueFn(this.inputs[r][1],n),t},e}();function Q$(e,t,n){return function(r){return new F$(e,t,n,r)}}var U$=Q$,T$=Qv,I$=bc,M$=ct,D$=jn,P$=Gs,H$=Ei,$$=U$,R$=vh,L$=I$(4,[],M$([],$$,function(t,n,r,s){var a=R$(function(A,o){var l=r(o),u=t(D$(l,A)?A[l]:T$(n,!1),o);return u&&u["@@transducer/reduced"]?P$(A):(A[l]=u,A)});return H$(a,{},s)})),Sh=L$,O$=Sh,K$=O$(function(e,t){return e+1},0),z$=K$,G$=gh,W$=G$(-1),V$=W$,q$=X,X$=q$(function(t,n){return n==null||n!==n?t:n}),Dv=X$,Y$=Se,J$=Y$(function(t,n,r){var s=t(n),a=t(r);return s>a?-1:s<a?1:0}),Z$=J$,vw=_v,eR=function(){function e(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return e.prototype.add=function(t){return!yw(t,!0,this)},e.prototype.has=function(t){return yw(t,!1,this)},e}();function yw(e,t,n){var r=typeof e,s,a;switch(r){case"string":case"number":return e===0&&1/e===-1/0?n._items["-0"]?!0:(t&&(n._items["-0"]=!0),!1):n._nativeSet!==null?t?(s=n._nativeSet.size,n._nativeSet.add(e),a=n._nativeSet.size,a===s):n._nativeSet.has(e):r in n._items?e in n._items[r]?!0:(t&&(n._items[r][e]=!0),!1):(t&&(n._items[r]={},n._items[r][e]=!0),!1);case"boolean":if(r in n._items){var A=e?1:0;return n._items[r][A]?!0:(t&&(n._items[r][A]=!0),!1)}else return t&&(n._items[r]=e?[!1,!0]:[!0,!1]),!1;case"function":return n._nativeSet!==null?t?(s=n._nativeSet.size,n._nativeSet.add(e),a=n._nativeSet.size,a===s):n._nativeSet.has(e):r in n._items?vw(e,n._items[r])?!0:(t&&n._items[r].push(e),!1):(t&&(n._items[r]=[e]),!1);case"undefined":return n._items[r]?!0:(t&&(n._items[r]=!0),!1);case"object":if(e===null)return n._items.null?!0:(t&&(n._items.null=!0),!1);default:return r=Object.prototype.toString.call(e),r in n._items?vw(e,n._items[r])?!0:(t&&n._items[r].push(e),!1):(t&&(n._items[r]=[e]),!1)}}var Ec=eR,tR=X,nR=Ec,rR=tR(function(t,n){for(var r=[],s=0,a=t.length,A=n.length,o=new nR,l=0;l<A;l+=1)o.add(n[l]);for(;s<a;)o.add(t[s])&&(r[r.length]=t[s]),s+=1;return r}),_S=rR,bw=wc,sR=Se,aR=sR(function(t,n,r){for(var s=[],a=0,A=n.length;a<A;)!bw(t,n[a],r)&&!bw(t,n[a],s)&&s.push(n[a]),a+=1;return s}),SS=aR,iR=Se,AR=iR(function(t,n,r){var s=Array.prototype.slice.call(r,0);return s.splice(t,n),s}),jS=AR,oR=$a,lR=hn,cR=jS;function uR(e,t){if(t==null)return t;if(oR(e)&&lR(t))return cR(e,1,t);var n={};for(var r in t)n[r]=t[r];return delete n[e],n}var dR=uR,fR=X,hR=dR,mR=$a,gR=hn,pR=Fv;function xR(e,t){if(mR(e)&&gR(t))return[].concat(t);var n={};for(var r in t)n[r]=t[r];return n}var vR=fR(function e(t,n){if(n==null)return n;switch(t.length){case 0:return n;case 1:return hR(t[0],n);default:var r=t[0],s=Array.prototype.slice.call(t,1);return n[r]==null?xR(r,n):pR(r,e(s,n[r]),n)}}),NS=vR,yR=X,bR=NS,wR=yR(function(t,n){return bR([t],n)}),BR=wR,CR=X,_R=CR(function(t,n){return t/n}),SR=_R,ww=vt,jR=function(){function e(t,n){this.xf=n,this.n=t}return e.prototype["@@transducer/init"]=ww.init,e.prototype["@@transducer/result"]=ww.result,e.prototype["@@transducer/step"]=function(t,n){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,n)},e}();function NR(e){return function(t){return new jR(e,t)}}var kR=NR,ER=X,FR=ct,QR=kR,UR=Rr,TR=ER(FR(["drop"],QR,function(t,n){return UR(Math.max(0,t),1/0,n)})),kS=TR,IR=Gs,Bw=vt,MR=function(){function e(t,n){this.xf=n,this.n=t,this.i=0}return e.prototype["@@transducer/init"]=Bw.init,e.prototype["@@transducer/result"]=Bw.result,e.prototype["@@transducer/step"]=function(t,n){this.i+=1;var r=this.n===0?t:this.xf["@@transducer/step"](t,n);return this.n>=0&&this.i>=this.n?IR(r):r},e}();function DR(e){return function(t){return new MR(e,t)}}var PR=DR,HR=X,$R=ct,RR=PR,LR=Rr,OR=HR($R(["take"],RR,function(t,n){return LR(0,t<0?1/0:t,n)})),Pv=OR,KR=Pv;function zR(e,t){return KR(e<t.length?t.length-e:0,t)}var GR=zR,WR=vt,VR=function(){function e(t,n){if(t<=0)return n;this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}return e.prototype["@@transducer/init"]=WR.init,e.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(n),t},e.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}();function qR(e){return function(t){return new VR(e,t)}}var XR=qR,YR=X,JR=ct,ZR=GR,eL=XR,tL=YR(JR([],eL,ZR)),nL=tL,rL=Rr;function sL(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return rL(0,n+1,t)}var aL=sL,iL=vt,AL=Ei,oL=function(){function e(t,n){this.f=t,this.retained=[],this.xf=n}return e.prototype["@@transducer/init"]=iL.init,e.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.retain(t,n):this.flush(t,n)},e.prototype.flush=function(t,n){return t=AL(this.xf,t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,n)},e.prototype.retain=function(t,n){return this.retained.push(n),t},e}();function lL(e){return function(t){return new oL(e,t)}}var cL=lL,uL=X,dL=ct,fL=aL,hL=cL,mL=uL(dL([],hL,fL)),gL=mL,Cw=vt,pL=function(){function e(t,n){this.xf=n,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return e.prototype["@@transducer/init"]=Cw.init,e.prototype["@@transducer/result"]=Cw.result,e.prototype["@@transducer/step"]=function(t,n){var r=!1;return this.seenFirstValue?this.pred(this.lastValue,n)&&(r=!0):this.seenFirstValue=!0,this.lastValue=n,r?t:this.xf["@@transducer/step"](t,n)},e}();function xL(e){return function(t){return new pL(e,t)}}var Hv=xL,vL=Ni,yL=vL(-1),ES=yL,bL=X,wL=ct,BL=Hv,CL=ES,_L=bL(wL([],BL,function(t,n){var r=[],s=1,a=n.length;if(a!==0)for(r[0]=n[0];s<a;)t(CL(r),n[s])||(r[r.length]=n[s]),s+=1;return r})),$v=_L,SL=Ce,jL=ct,NL=Hv,kL=$v,_w=br,EL=SL(jL([],function(){return NL(_w)},kL(_w))),FL=EL,QL=Se,UL=br,TL=QL(function(t,n,r){return UL(t(n),t(r))}),FS=TL,IL=X,ML=ct,DL=Hv,PL=$v,Sw=FS,HL=IL(function(e,t){return ML([],function(){return DL(Sw(e))},PL(Sw(e)))(t)}),$L=HL,jw=vt,RL=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=jw.init,e.prototype["@@transducer/result"]=jw.result,e.prototype["@@transducer/step"]=function(t,n){if(this.f){if(this.f(n))return t;this.f=null}return this.xf["@@transducer/step"](t,n)},e}();function LL(e){return function(t){return new RL(e,t)}}var OL=LL,KL=X,zL=ct,GL=OL,WL=Rr,VL=KL(zL(["dropWhile"],GL,function(t,n){for(var r=0,s=n.length;r<s&&t(n[r]);)r+=1;return WL(r,1/0,n)})),qL=VL,XL=X,YL=XL(function(t,n){return t||n}),QS=YL,JL=X,ZL=Nc,eO=Bh,tO=QS,nO=JL(function(t,n){return ZL(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:eO(tO)(t,n)}),rO=nO;function sO(e){var t=Object.prototype.toString.call(e);return t==="[object Uint8ClampedArray]"||t==="[object Int8Array]"||t==="[object Uint8Array]"||t==="[object Int16Array]"||t==="[object Uint16Array]"||t==="[object Int32Array]"||t==="[object Uint32Array]"||t==="[object Float32Array]"||t==="[object Float64Array]"||t==="[object BigInt64Array]"||t==="[object BigUint64Array]"}var aO=sO,iO=Ce,AO=J4,oO=hn,lO=_c,cO=uo,uO=aO,dO=iO(function(t){return t!=null&&typeof t["fantasy-land/empty"]=="function"?t["fantasy-land/empty"]():t!=null&&t.constructor!=null&&typeof t.constructor["fantasy-land/empty"]=="function"?t.constructor["fantasy-land/empty"]():t!=null&&typeof t.empty=="function"?t.empty():t!=null&&t.constructor!=null&&typeof t.constructor.empty=="function"?t.constructor.empty():oO(t)?[]:cO(t)?"":lO(t)?{}:AO(t)?function(){return arguments}():uO(t)?t.constructor.from(""):void 0}),US=dO,fO=X,hO=kS,mO=fO(function(t,n){return hO(t>=0?n.length-t:0,n)}),TS=mO,gO=X,pO=br,xO=TS,vO=gO(function(e,t){return pO(xO(e.length,t),e)}),yO=vO,bO=Se,wO=br,BO=bO(function(t,n,r){return wO(n[t],r[t])}),CO=BO,_O=X,SO=hn,jO=_c,NO=_O(function e(t,n){if(!jO(n)&&!SO(n))return n;var r=n instanceof Array?[]:{},s,a,A;for(a in n)s=t[a],A=typeof s,r[a]=A==="function"?s(n[a]):s&&A==="object"?e(s,n[a]):n[a];return r}),kO=NO,EO=Gs,FO=vt,QO=function(){function e(t,n){this.xf=n,this.f=t,this.found=!1}return e.prototype["@@transducer/init"]=FO.init,e.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.found=!0,t=EO(this.xf["@@transducer/step"](t,n))),t},e}();function UO(e){return function(t){return new QO(e,t)}}var TO=UO,IO=X,MO=ct,DO=TO,PO=IO(MO(["find"],DO,function(t,n){for(var r=0,s=n.length;r<s;){if(t(n[r]))return n[r];r+=1}})),HO=PO,$O=Gs,RO=vt,LO=function(){function e(t,n){this.xf=n,this.f=t,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=RO.init,e.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.found=!0,t=$O(this.xf["@@transducer/step"](t,this.idx))),t},e}();function OO(e){return function(t){return new LO(e,t)}}var KO=OO,zO=X,GO=ct,WO=KO,VO=zO(GO([],WO,function(t,n){for(var r=0,s=n.length;r<s;){if(t(n[r]))return r;r+=1}return-1})),qO=VO,XO=vt,YO=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=XO.init,e.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.last=n),t},e}();function JO(e){return function(t){return new YO(e,t)}}var ZO=JO,e9=X,t9=ct,n9=ZO,r9=e9(t9([],n9,function(t,n){for(var r=n.length-1;r>=0;){if(t(n[r]))return n[r];r-=1}})),s9=r9,a9=vt,i9=function(){function e(t,n){this.xf=n,this.f=t,this.idx=-1,this.lastIdx=-1}return e.prototype["@@transducer/init"]=a9.init,e.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},e.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.lastIdx=this.idx),t},e}();function A9(e){return function(t){return new i9(e,t)}}var o9=A9,l9=X,c9=ct,u9=o9,d9=l9(c9([],u9,function(t,n){for(var r=n.length-1;r>=0;){if(t(n[r]))return r;r-=1}return-1})),f9=d9,h9=Ce,m9=uS,g9=h9(m9(!0)),p9=g9,x9=Ce,v9=Gt,y9=x9(function(t){return v9(t.length,function(n,r){var s=Array.prototype.slice.call(arguments,0);return s[0]=r,s[1]=n,t.apply(this,s)})}),IS=y9,b9=kc,w9=X,B9=w9(b9("forEach",function(t,n){for(var r=n.length,s=0;s<r;)t(n[s]),s+=1;return n})),C9=B9,_9=X,S9=$r,j9=_9(function(t,n){for(var r=S9(n),s=0;s<r.length;){var a=r[s];t(n[a],a,n),s+=1}return n}),N9=j9,k9=Ce,E9=k9(function(t){for(var n={},r=0;r<t.length;)n[t[r][0]]=t[r][1],r+=1;return n}),F9=E9,Q9=kc,U9=X,T9=Sh,I9=U9(Q9("groupBy",T9(function(e,t){return e.push(t),e},[]))),M9=I9,D9=X,P9=D9(function(e,t){for(var n=[],r=0,s=t.length;r<s;){for(var a=r+1;a<s&&e(t[a-1],t[a]);)a+=1;n.push(t.slice(r,a)),r=a}return n}),H9=P9,$9=X,R9=$9(function(t,n){return t>n}),L9=R9,O9=X,K9=O9(function(t,n){return t>=n}),z9=K9,G9=X,W9=jn,Nw=jc,V9=G9(function(t,n){if(t.length===0||Nw(n))return!1;for(var r=n,s=0;s<t.length;)if(!Nw(r)&&W9(t[s],r))r=r[t[s]],s+=1;else return!1;return!0}),MS=V9,q9=X,X9=MS,Y9=q9(function(t,n){return X9([t],n)}),J9=Y9,Z9=X,eK=jc,tK=Z9(function(t,n){return eK(n)?!1:t in n}),nK=tK,kw=Y4,DS=function(e,t){switch(arguments.length){case 0:return DS;case 1:return function(){return function n(r){switch(arguments.length){case 0:return n;default:return kw(e,r)}}}();default:return kw(e,t)}},rK=DS,sK=Se,aK=Gt,iK=sK(function(t,n,r){return aK(Math.max(t.length,n.length,r.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})}),AK=iK,oK=gh,lK=oK(1),cK=lK,uK=_v,dK=X,fK=dK(uK),hK=fK,mK=Sh,gK=mK(function(e,t){return t},null),pK=gK,xK=X,vK=Z4,yK=hn,bK=xK(function(t,n){return typeof n.indexOf=="function"&&!yK(n)?n.indexOf(t):vK(n,t,0)}),wK=bK,BK=Rr,CK=BK(0,-1),_K=CK,SK=wc,jK=Se,NK=Sv,kK=jK(function(t,n,r){return NK(function(s){return SK(t,s,r)},n)}),EK=kK,FK=Se,QK=FK(function(t,n,r){t=t<r.length&&t>=0?t:r.length;var s=Array.prototype.slice.call(r,0);return s.splice(t,0,n),s}),UK=QK,TK=Se,IK=TK(function(t,n,r){return t=t<r.length&&t>=0?t:r.length,[].concat(Array.prototype.slice.call(r,0,t),n,Array.prototype.slice.call(r,t))}),MK=IK,DK=Ec,Ew=vt,PK=function(){function e(t,n){this.xf=n,this.f=t,this.set=new DK}return e.prototype["@@transducer/init"]=Ew.init,e.prototype["@@transducer/result"]=Ew.result,e.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},e}();function HK(e){return function(t){return new PK(e,t)}}var $K=HK,RK=Ec,LK=X,OK=ct,KK=$K,zK=LK(OK([],KK,function(e,t){for(var n=new RK,r=[],s=0,a,A;s<t.length;)A=t[s],a=e(A),n.add(a)&&r.push(A),s+=1;return r})),PS=zK,GK=_h,WK=PS,VK=WK(GK),Rv=VK,qK=X,XK=Sv,YK=Ec,JK=Rv,ZK=qK(function(t,n){for(var r=new YK,s=0;s<t.length;s+=1)r.add(t[s]);return JK(XK(r.has.bind(r),n))}),ez=ZK,tz=kc,nz=X,rz=nz(tz("intersperse",function(t,n){for(var r=[],s=0,a=n.length;s<a;)s===a-1?r.push(n[s]):r.push(n[s],t),s+=1;return r})),sz=rz,az=jn;function iz(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,r=arguments.length;n<r;){var s=arguments[n];if(s!=null)for(var a in s)az(a,s)&&(t[a]=s[a]);n+=1}return t}var jh=typeof Object.assign=="function"?Object.assign:iz,Az=X,oz=Az(function(t,n){var r={};return r[t]=n,r}),HS=oz,lz=jh,Lv=Ch,$S=xh,cz=wv,uz=HS,dz={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":Lv},fz={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":Lv},hz={"@@transducer/init":Object,"@@transducer/step":function(e,t){return lz(e,$S(t)?uz(t[0],t[1]):t)},"@@transducer/result":Lv};function mz(e){if(cz(e))return e;if($S(e))return dz;if(typeof e=="string")return fz;if(typeof e=="object")return hz;throw new Error("Cannot create transformer for "+e)}var gz=mz,pz=Se,xz=wv,vz=Ei,yz=gz,bz=pz(function(t,n,r){var s=n(xz(t)?t:yz(t));return vz(s,s["@@transducer/init"](),r)}),wz=bz,Bz=Ce,Cz=jn,_z=$r,Sz=Bz(function(t){for(var n=_z(t),r=n.length,s=0,a={};s<r;){var A=n[s],o=t[A],l=Cz(o,a)?a[o]:a[o]=[];l[l.length]=A,s+=1}return a}),jz=Sz,Nz=Ce,kz=$r,Ez=Nz(function(t){for(var n=kz(t),r=n.length,s=0,a={};s<r;){var A=n[s];a[t[A]]=A,s+=1}return a}),Fz=Ez,Qz=X,Uz=Nc,Tz=Gt,Iz=co,Mz=Qz(function(t,n){return Tz(t+1,function(){var r=arguments[t];if(r!=null&&Uz(r[n]))return r[n].apply(r,Array.prototype.slice.call(arguments,0,t));throw new TypeError(Iz(r)+' does not have a method named "'+n+'"')})}),Fc=Mz,Dz=X,Pz=Dz(function(t,n){return n instanceof t||n!=null&&(n.constructor===t||t.name==="Object"&&typeof n=="object")}),RS=Pz,Hz=Ce,$z=US,Rz=br,Lz=Hz(function(t){return t!=null&&Rz(t,$z(t))}),Oz=Lz,Kz=jc,zz=Ce,Gz=zz(function(t){return!Kz(t)}),Wz=Gz,Vz=Fc,qz=Vz(1,"join"),Xz=qz,Yz=Ce,Jz=CS,Zz=Yz(function(t){return Jz(function(){return Array.prototype.slice.call(arguments,0)},t)}),LS=Zz,eG=Ce,tG=eG(function(t){var n,r=[];for(n in t)r[r.length]=n;return r}),nG=tG,rG=X,sG=hn,aG=br,iG=rG(function(t,n){if(typeof n.lastIndexOf=="function"&&!sG(n))return n.lastIndexOf(t);for(var r=n.length-1;r>=0;){if(aG(n[r],t))return r;r-=1}return-1}),AG=iG;function oG(e){return Object.prototype.toString.call(e)==="[object Number]"}var OS=oG,lG=Ce,cG=OS,uG=lG(function(t){return t!=null&&cG(t.length)?t.length:NaN}),KS=uG,dG=X,fG=as,hG=dG(function(t,n){return function(r){return function(s){return fG(function(a){return n(a,s)},r(t(s)))}}}),Nh=hG,mG=Se,gG=q4,pG=yh,xG=mG(function(t,n,r){return gG(t,pG(n),r)}),zS=xG,vG=Ce,yG=Nh,bG=Ni,wG=zS,BG=vG(function(t){return yG(bG(t),wG(t))}),CG=BG,_G=X,SG=$a,jG=Ni,NG=_G(function(t,n){return t.map(function(r){for(var s=n,a=0,A;a<r.length;){if(s==null)return;A=r[a],s=SG(A)?jG(A,s):s[A],a+=1}return s})}),GS=NG,kG=X,EG=GS,FG=kG(function(t,n){return EG([t],n)[0]}),fo=FG,QG=Ce,UG=Ev,TG=Nh,IG=fo,MG=QG(function(t){return TG(IG(t),UG(t))}),DG=MG,PG=Ce,HG=Fv,$G=Nh,RG=ki,LG=PG(function(t){return $G(RG(t),HG(t))}),OG=LG,KG=X,zG=KG(function(t,n){return t<n}),GG=zG,WG=X,VG=WG(function(t,n){return t<=n}),qG=VG,XG=Se,YG=XG(function(t,n,r){for(var s=0,a=r.length,A=[],o=[n];s<a;)o=t(o[0],r[s]),A[s]=o[1],s+=1;return[o[0],A]}),JG=YG,ZG=Se,eW=ZG(function(t,n,r){for(var s=r.length-1,a=[],A=[n];s>=0;)A=t(A[0],r[s]),a[s]=A[1],s-=1;return[A[0],a]}),tW=eW,nW=Cc,rW=X,sW=$r,aW=rW(function(t,n){return nW(function(r,s){return r[s]=t(n[s],s,n),r},{},sW(n))}),iW=aW,AW=X,oW=AW(function(t,n){return n.match(t)||[]}),lW=oW,cW=X,Fw=$a,uW=cW(function(t,n){return Fw(t)?!Fw(n)||n<1?NaN:(t%n+n)%n:NaN}),dW=uW,fW=Se,hW=ji,mW=fW(function(t,n,r){var s=t(r);return hW(t(n),s)===s?r:n}),gW=mW,pW=gh,xW=Ws,vW=xW(pW,0),WS=vW,yW=Ce,bW=WS,wW=yW(function(t){return bW(t)/t.length}),VS=wW,BW=Ce,CW=VS,_W=BW(function(t){var n=t.length;if(n===0)return NaN;var r=2-n%2,s=(n-r)/2;return CW(Array.prototype.slice.call(t,0).sort(function(a,A){return a<A?-1:a>A?1:0}).slice(s,s+r))}),SW=_W,jW=ss,NW=X,kW=jn,EW=NW(function(t,n){var r={};return jW(n.length,function(){var s=t.apply(this,arguments);return kW(s,r)||(r[s]=n.apply(this,arguments)),r[s]})}),FW=EW,QW=jh,UW=Ce,TW=UW(function(t){return QW.apply(null,[{}].concat(t))}),IW=TW,MW=Se,gu=jn,DW=MW(function(t,n,r){var s={},a;n=n||{},r=r||{};for(a in n)gu(a,n)&&(s[a]=gu(a,r)?t(a,n[a],r[a]):n[a]);for(a in r)gu(a,r)&&!gu(a,s)&&(s[a]=r[a]);return s}),Ov=DW,PW=Se,Qw=_c,HW=Ov,$W=PW(function e(t,n,r){return HW(function(s,a,A){return Qw(a)&&Qw(A)?e(t,a,A):t(s,a,A)},n,r)}),kh=$W,RW=X,LW=kh,OW=RW(function(t,n){return LW(function(r,s,a){return s},t,n)}),KW=OW,zW=X,GW=kh,WW=zW(function(t,n){return GW(function(r,s,a){return a},t,n)}),qS=WW,VW=Se,qW=kh,XW=VW(function(t,n,r){return qW(function(s,a,A){return t(a,A)},n,r)}),YW=XW,JW=jh,ZW=X,eV=ZW(function(t,n){return JW({},n,t)}),tV=eV,nV=jh,rV=X,sV=rV(function(t,n){return nV({},t,n)}),aV=sV,iV=Se,AV=Ov,oV=iV(function(t,n,r){return AV(function(s,a,A){return t(a,A)},n,r)}),lV=oV,cV=X,Uw=co,uV=cV(function(t,n){if(t===n)return t;function r(l,u){if(l<u!=u<l)return u<l?u:l}var s=r(t,n);if(s!==void 0)return s;var a=r(typeof t,typeof n);if(a!==void 0)return a===typeof t?t:n;var A=Uw(t),o=r(A,Uw(n));return o!==void 0?o===A?t:n:t}),XS=uV,dV=Se,fV=XS,hV=dV(function(t,n,r){var s=t(r);return fV(t(n),s)===s?r:n}),mV=hV,gV=hn,pV=$a;function xV(e,t,n){if(pV(e)&&gV(n)){var r=[].concat(n);return r[e]=t(r[e]),r}var s={};for(var a in n)s[a]=n[a];return s[e]=t(s[e]),s}var vV=xV,yV=Se,bV=hn,wV=_c,BV=jn,CV=kv,_V=vV,SV=yV(function e(t,n,r){if(!wV(r)&&!bV(r)||t.length===0)return r;var s=t[0];if(!BV(s,r))return r;if(t.length===1)return _V(s,n,r);var a=e(Array.prototype.slice.call(t,1),n,r[s]);return a===r[s]?r:CV(s,a,r)}),YS=SV,jV=Se,NV=YS,kV=jV(function(t,n,r){return NV([t],n,r)}),EV=kV,FV=X,QV=FV(function(t,n){return t%n}),UV=QV,TV=Se,IV=TV(function(e,t,n){var r=n.length,s=n.slice(),a=e<0?r+e:e,A=t<0?r+t:t,o=s.splice(a,1);return a<0||a>=n.length||A<0||A>=n.length?n:[].concat(s.slice(0,A)).concat(o).concat(s.slice(A,n.length))}),MV=IV,DV=X,PV=DV(function(t,n){return t*n}),JS=PV,HV=qS,$V=X,RV=$V((e,t)=>n=>e.call(globalThis,HV(t,n))),LV=RV,OV=Ce,KV=OV(function(t){return-t}),zV=KV,GV=eS,WV=X,VV=X4,qV=WV(function(t,n){return VV(GV(t),n)}),XV=qV,YV=Ce,JV=Gt,ZV=Ni,eq=YV(function(t){var n=t<0?1:t+1;return JV(n,function(){return ZV(t,arguments)})}),tq=eq,nq=Se,rq=nq(function(t,n,r){return t(n(r))}),sq=rq,aq=X,iq=aq(function(t,n){return typeof t["fantasy-land/of"]=="function"?t["fantasy-land/of"](n):typeof t.of=="function"?t.of(n):[n]}),Aq=iq,oq=X,lq=oq(function(t,n){for(var r={},s={},a=0,A=t.length;a<A;)s[t[a]]=1,a+=1;for(var o in n)s.hasOwnProperty(o)||(r[o]=n[o]);return r}),cq=lq,uq=bc,dq=uq(4,[],function(t,n,r,s){return t(n(r),n(s))}),fq=dq,hq=ss,mq=Ce,gq=mq(function(t){var n=!1,r;return hq(t.length,function(){return n||(n=!0,r=t.apply(this,arguments)),r})}),pq=gq,xq=Nc,vq=nS;function yq(e,t){if(t==null||!xq(t.then))throw new TypeError("`"+e+"` expected a Promise, received "+vq(t,[]))}var ZS=yq,bq=X,wq=ZS,Bq=bq(function(t,n){return wq("otherwise",n),n.then(null,t)}),Cq=Bq,_q=Se,ej=function(e){return{value:e,map:function(t){return ej(t(e))}}},Sq=_q(function(t,n,r){return t(function(s){return ej(n(s))})(r).value}),tj=Sq,jq=X,Nq=jq(function(t,n){return[t,n]}),kq=Nq,Eq=ss,Fq=X;function Qq(e){return Fq(function(t,n){return Eq(Math.max(0,t.length-n.length),function(){return t.apply(this,e(n,arguments))})})}var nj=Qq,Uq=yr,Tq=nj,Iq=Tq(Uq),Mq=Iq,Dq=yr,Pq=nj,Hq=IS,$q=Pq(Hq(Dq)),Rq=$q,Lq=jv,Oq=LS,Kq=ph,zq=Oq([Lq,Kq]),Gq=zq,Wq=Se,Vq=br,qq=fo,Xq=Wq(function(t,n,r){return Vq(qq(n,r),t)}),Yq=Xq,Jq=Se,Zq=Dv,eX=fo,tX=Jq(function(t,n,r){return Zq(t,eX(n,r))}),nX=tX,rX=Se,sX=fo,aX=rX(function(t,n,r){return t(sX(n,r))}),iX=aX,AX=X,oX=AX(function(t,n){for(var r={},s=0;s<t.length;)t[s]in n&&(r[t[s]]=n[t[s]]),s+=1;return r}),lX=oX,cX=X,uX=cX(function(t,n){for(var r={},s=0,a=t.length;s<a;){var A=t[s];r[A]=n[A],s+=1}return r}),rj=uX,dX=X,fX=dX(function(t,n){var r={};for(var s in n)t(n[s],s,n)&&(r[s]=n[s]);return r}),hX=fX,mX=yr,gX=X,pX=gX(function(t,n){return mX([t],n)}),sj=pX,xX=JS,vX=Ws,yX=vX(xX,1),bX=yX,wX=X,BX=Gt,CX=wX(function(t,n){return BX(n.length,function(){for(var r=[],s=0;s<n.length;)r.push(n[s].call(this,arguments[s])),s+=1;return t.apply(this,r.concat(Array.prototype.slice.call(arguments,n.length)))})}),aj=CX,_X=Bc,SX=_h,jX=rj,NX=aj,kX=NX(_X,[jX,SX]),EX=kX;function FX(e,t,n){return function(r){return t(n(e(r)))}}var ij=FX,Tw=vt,QX=ij,UX=function(){function e(t,n,r){this.xf=r,this.f=t,this.g=n}return e.prototype["@@transducer/init"]=Tw.init,e.prototype["@@transducer/result"]=Tw.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,QX(this.f,this.g,n))},e}();function TX(e,t){return function(n){return new UX(e,t,n)}}var IX=TX,MX=Se,DX=ct,PX=ij,HX=IX,$X=MX(DX(["fantasy-land/promap","promap"],HX,PX)),RX=$X,LX=Se,OX=ki,KX=br,zX=LX(function(t,n,r){return KX(t,OX(n,r))}),GX=zX,WX=Se,VX=ki,qX=RS,XX=WX(function(t,n,r){return qX(t,VX(n,r))}),YX=XX,JX=Se,ZX=Dv,eY=ki,tY=JX(function(t,n,r){return ZX(t,eY(n,r))}),nY=tY,rY=Se,sY=ki,aY=rY(function(t,n,r){return t(sY(n,r))}),iY=aY,AY=X,oY=fo,lY=AY(function(t,n){return t.map(function(r){return oY([r],n)})}),cY=lY,uY=X,Iw=OS,dY=uY(function(t,n){if(!(Iw(t)&&Iw(n)))throw new TypeError("Both arguments to range must be numbers");for(var r=[],s=t;s<n;)r.push(s),s+=1;return r}),fY=dY,hY=Se,mY=hY(function(t,n,r){for(var s=r.length-1;s>=0;){if(n=t(r[s],n),n&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}s-=1}return n}),Aj=mY,gY=bc,pY=Ei,xY=vh,vY=Gs,yY=gY(4,[],function(t,n,r,s){var a=xY(function(A,o){return t(A,o)?n(A,o):vY(A)});return pY(a,r,s)}),bY=yY,wY=Ce,BY=Gs,CY=wY(BY),_Y=CY,SY=X,jY=SY(function(t,n){var r=Number(n),s=0,a;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(a=[];s<r;)a.push(t(s)),s+=1;return a}),oj=jY,NY=X,kY=yh,EY=oj,FY=NY(function(t,n){return EY(kY(t),n)}),QY=FY,UY=Se,TY=UY(function(t,n,r){return r.replace(t,n)}),IY=TY,MY=Se,DY=vt,Mw="@@transducer/init",nm="@@transducer/step",PY=function(){function e(t,n,r){this.xf=r,this.f=t,this.acc=n}return e.prototype[Mw]=function(){return this.xf[nm](this.xf[Mw](),this.acc)},e.prototype["@@transducer/result"]=DY.result,e.prototype[nm]=function(t,n){return t["@@transducer/reduced"]?t:(this.acc=this.f(this.acc,n),this.xf[nm](t,this.acc))},e}(),HY=MY(function(t,n,r){return new PY(t,n,r)}),$Y=HY,RY=Se,LY=ct,OY=$Y,KY=RY(LY([],OY,function(t,n,r){for(var s=0,a=r.length,A=[n];s<a;)n=t(n,r[s]),A[s+1]=n,s+=1;return A})),zY=KY,GY=X,WY=Nv,VY=as,qY=sj,XY=Aj,Dw=Ch,YY=GY(function(t,n){var r=typeof t["fantasy-land/of"]=="function"?t["fantasy-land/of"]:typeof t.of=="function"?t.of:t,s={"fantasy-land/of":r};return typeof n["fantasy-land/traverse"]=="function"?n["fantasy-land/traverse"](s,Dw):typeof n.traverse=="function"?n.traverse(s,Dw):XY(function(a,A){return WY(VY(qY,a),A)},r([]),n)}),lj=YY,JY=Se,ZY=yh,eJ=tj,tJ=JY(function(t,n,r){return eJ(t,ZY(n),r)}),nJ=tJ,rJ=X,sJ=rJ(function(t,n){return Array.prototype.slice.call(n,0).sort(t)}),aJ=sJ,iJ=X,AJ=iJ(function(t,n){return Array.prototype.slice.call(n,0).sort(function(r,s){var a=t(r),A=t(s);return a<A?-1:a>A?1:0})}),oJ=AJ,lJ=X,cJ=lJ(function(t,n){return Array.prototype.slice.call(n,0).sort(function(r,s){for(var a=0,A=0;a===0&&A<t.length;)a=t[A](r,s),A+=1;return a})}),uJ=cJ,dJ=Fc,fJ=dJ(1,"split"),hJ=fJ,mJ=X,gJ=KS,Pw=Rr,pJ=mJ(function(t,n){return[Pw(0,t,n),Pw(t,gJ(n),n)]}),xJ=pJ,vJ=X,yJ=Rr,bJ=vJ(function(t,n){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var r=[],s=0;s<n.length;)r.push(yJ(s,s+=t,n));return r}),wJ=bJ,BJ=X,CJ=BJ(function(t,n){for(var r=0,s=n.length,a=[];r<s&&!t(n[r]);)a.push(n[r]),r+=1;return[a,Array.prototype.slice.call(n,r)]}),_J=CJ,SJ=bc,jJ=SJ(2,[],function(t,n){for(var r=[],s=[],a=0;a<n.length;a=a+1)t(n[a])||s.push(n[a]),(a<n.length-1&&t(n[a+1])||a===n.length-1)&&s.length>0&&(r.push(s),s=[]);return r}),NJ=jJ,kJ=X,EJ=br,FJ=Pv,QJ=kJ(function(e,t){return EJ(FJ(e.length,t),e)}),UJ=QJ,TJ=X,IJ=TJ(function(t,n){return Number(t)-Number(n)}),MJ=IJ,DJ=Se,cj=hn,PJ=uo,HJ=pS,$J=function(e,t,n){var r=HJ(n),s=Object.getOwnPropertyNames(r);if(s.includes(e)&&s.includes(t)){var a=r[e];r[e]=r[t],r[t]=a}return r},uj=function(e,t,n){var r=n.length,s=n.slice(),a=e<0?r+e:e,A=t<0?r+t:t,o=Math.min(a,A),l=Math.max(a,A);return a<0||a>r||A<0||A>r||a===A||(s=[].concat(s.slice(0,o)).concat(s[l]).concat(s.slice(o+1,l)).concat(s[o]).concat(s.slice(l+1,r))),s},RJ=function(e,t,n){var r=uj(e,t,n);return cj(r)?r.join(""):r},LJ=DJ(function(e,t,n){return cj(n)?uj(e,t,n):PJ(n)?RJ(e,t,n):$J(e,t,n)}),OJ=LJ,KJ=X,zJ=Iv,Hw=_S,GJ=KJ(function(t,n){return zJ(Hw(t,n),Hw(n,t))}),WJ=GJ,VJ=Se,qJ=Iv,$w=SS,XJ=VJ(function(t,n,r){return qJ($w(t,n,r),$w(t,r,n))}),YJ=XJ,JJ=X,ZJ=Rr,eZ=JJ(function(t,n){for(var r=n.length-1;r>=0&&t(n[r]);)r-=1;return ZJ(r+1,1/0,n)}),tZ=eZ,nZ=Gs,Rw=vt,rZ=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=Rw.init,e.prototype["@@transducer/result"]=Rw.result,e.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):nZ(t)},e}();function sZ(e){return function(t){return new rZ(e,t)}}var aZ=sZ,iZ=X,AZ=ct,oZ=aZ,lZ=Rr,cZ=iZ(AZ(["takeWhile"],oZ,function(t,n){for(var r=0,s=n.length;r<s&&t(n[r]);)r+=1;return lZ(0,r,n)})),uZ=cZ,Lw=vt,dZ=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=Lw.init,e.prototype["@@transducer/result"]=Lw.result,e.prototype["@@transducer/step"]=function(t,n){return this.f(n),this.xf["@@transducer/step"](t,n)},e}();function fZ(e){return function(t){return new dZ(e,t)}}var hZ=fZ,mZ=X,gZ=ct,pZ=hZ,xZ=mZ(gZ([],pZ,function(t,n){return t(n),n})),vZ=xZ;function yZ(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var bZ=yZ,wZ=mS,BZ=X,CZ=bZ,_Z=co,SZ=BZ(function(t,n){if(!CZ(t))throw new TypeError("test requires a value of type RegExp as its first argument; received "+_Z(t));return wZ(t).test(n)}),jZ=SZ,NZ=X,kZ=ZS,EZ=NZ(function(t,n){return kZ("andThen",n),n.then(t)}),FZ=EZ,QZ=Fc,UZ=QZ(0,"toLowerCase"),TZ=UZ,IZ=Ce,MZ=jn,DZ=IZ(function(t){var n=[];for(var r in t)MZ(r,t)&&(n[n.length]=[r,t[r]]);return n}),PZ=DZ,HZ=Ce,$Z=HZ(function(t){var n=[];for(var r in t)n[n.length]=[r,t[r]];return n}),RZ=$Z,LZ=Fc,OZ=LZ(0,"toUpperCase"),KZ=OZ,zZ=Ei,GZ=vh,WZ=Gt,VZ=WZ(4,function(t,n,r,s){return zZ(t(typeof n=="function"?GZ(n):n),r,s)}),qZ=VZ,XZ=Ce,YZ=XZ(function(t){for(var n=0,r=[];n<t.length;){for(var s=t[n],a=0;a<s.length;)typeof r[a]>"u"&&(r[a]=[]),r[a].push(s[a]),a+=1;n+=1}return r}),JZ=YZ,ZZ=Se,eee=as,tee=lj,nee=ZZ(function(t,n,r){var s=typeof t["fantasy-land/of"]=="function"?t["fantasy-land/of"]:typeof t.of=="function"?t.of:t,a={"fantasy-land/of":s};return typeof r["fantasy-land/traverse"]=="function"?r["fantasy-land/traverse"](a,n):typeof r.traverse=="function"?r.traverse(a,n):tee(a,eee(n,r))}),ree=nee,Ow=Ce,Mo=`	
\v\f\r \u2028\u2029\uFEFF`,see="",aee=typeof String.prototype.trim=="function",iee=Ow(!aee||Mo.trim()||!see.trim()?function(t){var n=new RegExp("^["+Mo+"]["+Mo+"]*"),r=new RegExp("["+Mo+"]["+Mo+"]*$");return t.replace(n,"").replace(r,"")}:function(t){return t.trim()}),Aee=iee,oee=ss,lee=yr,cee=X,uee=cee(function(t,n){return oee(t.length,function(){try{return t.apply(this,arguments)}catch(r){return n.apply(this,lee([r],arguments))}})}),dee=uee,fee=Ce,hee=fee(function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}}),mee=hee,gee=Ce,pee=wh,xee=gee(function(t){return pee(1,t)}),vee=xee,yee=X,bee=Gt,wee=yee(function(t,n){return bee(t,function(){for(var r=1,s=n,a=0,A;r<=t&&typeof s=="function";)A=r===t?arguments.length:a+s.length,s=s.apply(this,Array.prototype.slice.call(arguments,a,A)),r+=1,a=A;return s})}),Bee=wee,Cee=X,_ee=Cee(function(t,n){for(var r=t(n),s=[];r&&r.length;)s[s.length]=r[0],r=t(r[1]);return s}),See=_ee,jee=yr,Nee=X,kee=yS,Eee=Rv,Fee=Nee(kee(Eee,jee)),Qee=Fee,Uee=wc,Kw=vt,Tee=function(){function e(t,n){this.xf=n,this.pred=t,this.items=[]}return e.prototype["@@transducer/init"]=Kw.init,e.prototype["@@transducer/result"]=Kw.result,e.prototype["@@transducer/step"]=function(t,n){return Uee(this.pred,n,this.items)?t:(this.items.push(n),this.xf["@@transducer/step"](t,n))},e}();function Iee(e){return function(t){return new Tee(e,t)}}var Mee=Iee,Dee=X,Pee=ct,Hee=wc,$ee=Mee,Ree=Dee(Pee([],$ee,function(e,t){for(var n=0,r=t.length,s=[],a;n<r;)a=t[n],Hee(e,a,s)||(s[s.length]=a),n+=1;return s})),dj=Ree,Lee=yr,Oee=Se,Kee=dj,zee=Oee(function(t,n,r){return Kee(t,Lee(n,r))}),Gee=zee,Wee=Se,Vee=Wee(function(t,n,r){return t(r)?r:n(r)}),qee=Vee,Xee=Ch,Yee=hS,Jee=Yee(Xee),Zee=Jee,ete=Se,tte=ete(function(t,n,r){for(var s=r;!t(s);)s=n(s);return s}),nte=tte,rte=X,ste=hn,ate=Bc,ite=kv,Ate=rte(function(e,t){return e in t&&ste(t[e])?ate(function(n){return ite(e,n,t)},t[e]):[t]}),ote=Ate,lte=Ce,cte=lte(function(t){var n,r=[];for(n in t)r[r.length]=t[n];return r}),ute=cte,dte=X,fte=function(e){return{value:e,"fantasy-land/map":function(){return this}}},hte=dte(function(t,n){return t(fte)(n).value}),mte=hte,gte=Se,pte=gte(function(t,n,r){return t(r)?n(r):r}),xte=pte,vte=X,yte=jn,bte=vte(function(t,n){for(var r in t)if(yte(r,t)&&!t[r](n[r]))return!1;return!0}),fj=bte,wte=X,Bte=jn,Cte=wte(function(t,n){for(var r in t)if(Bte(r,t)&&t[r](n[r]))return!0;return!1}),_te=Cte,Ste=X,jte=br,Nte=as,kte=fj,Ete=Ste(function(t,n){return kte(Nte(jte,t),n)}),Fte=Ete,Qte=X,Ute=Ec,Tte=ph,Ite=Qte(function(t,n){for(var r=new Ute,s=0;s<t.length;s+=1)r.add(t[s]);return Tte(r.has.bind(r),n)}),Mte=Ite,Dte=X,Pte=Dte(function(t,n){return!!(!t^!n)}),Hte=Pte,$te=X,Rte=$te(function(t,n){for(var r=0,s=t.length,a,A=n.length,o=[];r<s;){for(a=0;a<A;)o[o.length]=[t[r],n[a]],a+=1;r+=1}return o}),Lte=Rte,Ote=X,Kte=Ote(function(t,n){for(var r=[],s=0,a=Math.min(t.length,n.length);s<a;)r[s]=[t[s],n[s]],s+=1;return r}),zte=Kte,Gte=X,Wte=Gte(function(t,n){for(var r=0,s=Math.min(t.length,n.length),a={};r<s;)a[t[r]]=n[r],r+=1;return a}),Vte=Wte,qte=Se,Xte=qte(function(t,n,r){for(var s=[],a=0,A=Math.min(n.length,r.length);a<A;)s[a]=t(n[a],r[a]),a+=1;return s}),Yte=Xte,Jte=Gt,Zte=Ce,ene=Zte(function(t){return Jte(t.length,function(){var r=arguments;return function(){return t.apply(this,r)}})}),tne=ene;F.exports={};F.exports.F=jI;F.exports.T=kI;F.exports.__=EI;F.exports.add=gh;F.exports.addIndex=qI;F.exports.addIndexRight=e7;F.exports.adjust=q4;F.exports.all=X4;F.exports.allPass=xD;F.exports.always=yh;F.exports.and=AS;F.exports.any=QD;F.exports.anyPass=HD;F.exports.ap=Nv;F.exports.aperture=o8;F.exports.append=d8;F.exports.apply=oS;F.exports.applySpec=N8;F.exports.applyTo=F8;F.exports.ascend=T8;F.exports.assoc=Fv;F.exports.assocPath=Ev;F.exports.binary=eP;F.exports.bind=iS;F.exports.both=mP;F.exports.call=xP;F.exports.chain=hS;F.exports.clamp=OP;F.exports.clone=pS;F.exports.collectBy=tH;F.exports.comparator=sH;F.exports.complement=cH;F.exports.compose=yS;F.exports.composeWith=XH;F.exports.concat=Iv;F.exports.cond=a$;F.exports.construct=g$;F.exports.constructN=BS;F.exports.converge=CS;F.exports.count=j$;F.exports.countBy=z$;F.exports.curry=Mv;F.exports.curryN=Gt;F.exports.dec=V$;F.exports.defaultTo=Dv;F.exports.descend=Z$;F.exports.difference=_S;F.exports.differenceWith=SS;F.exports.dissoc=BR;F.exports.dissocPath=NS;F.exports.divide=SR;F.exports.drop=kS;F.exports.dropLast=nL;F.exports.dropLastWhile=gL;F.exports.dropRepeats=FL;F.exports.dropRepeatsBy=$L;F.exports.dropRepeatsWith=$v;F.exports.dropWhile=qL;F.exports.either=rO;F.exports.empty=US;F.exports.endsWith=yO;F.exports.eqBy=FS;F.exports.eqProps=CO;F.exports.equals=br;F.exports.evolve=kO;F.exports.filter=jv;F.exports.find=HO;F.exports.findIndex=qO;F.exports.findLast=s9;F.exports.findLastIndex=f9;F.exports.flatten=p9;F.exports.flip=IS;F.exports.forEach=C9;F.exports.forEachObjIndexed=N9;F.exports.fromPairs=F9;F.exports.groupBy=M9;F.exports.groupWith=H9;F.exports.gt=L9;F.exports.gte=z9;F.exports.has=J9;F.exports.hasIn=nK;F.exports.hasPath=MS;F.exports.head=bS;F.exports.identical=rK;F.exports.identity=_h;F.exports.ifElse=AK;F.exports.inc=cK;F.exports.includes=hK;F.exports.indexBy=pK;F.exports.indexOf=wK;F.exports.init=_K;F.exports.innerJoin=EK;F.exports.insert=UK;F.exports.insertAll=MK;F.exports.intersection=ez;F.exports.intersperse=sz;F.exports.into=wz;F.exports.invert=jz;F.exports.invertObj=Fz;F.exports.invoker=Fc;F.exports.is=RS;F.exports.isEmpty=Oz;F.exports.isNil=jc;F.exports.isNotNil=Wz;F.exports.join=Xz;F.exports.juxt=LS;F.exports.keys=$r;F.exports.keysIn=nG;F.exports.last=ES;F.exports.lastIndexOf=AG;F.exports.length=KS;F.exports.lens=Nh;F.exports.lensIndex=CG;F.exports.lensPath=DG;F.exports.lensProp=OG;F.exports.lift=Bh;F.exports.liftN=cS;F.exports.lt=GG;F.exports.lte=qG;F.exports.map=as;F.exports.mapAccum=JG;F.exports.mapAccumRight=tW;F.exports.mapObjIndexed=iW;F.exports.match=lW;F.exports.mathMod=dW;F.exports.max=ji;F.exports.maxBy=gW;F.exports.mean=VS;F.exports.median=SW;F.exports.memoizeWith=FW;F.exports.mergeAll=IW;F.exports.mergeDeepLeft=KW;F.exports.mergeDeepRight=qS;F.exports.mergeDeepWith=YW;F.exports.mergeDeepWithKey=kh;F.exports.mergeLeft=tV;F.exports.mergeRight=aV;F.exports.mergeWith=lV;F.exports.mergeWithKey=Ov;F.exports.min=XS;F.exports.minBy=mV;F.exports.modify=EV;F.exports.modifyPath=YS;F.exports.modulo=UV;F.exports.move=MV;F.exports.multiply=JS;F.exports.nAry=wh;F.exports.partialObject=LV;F.exports.negate=zV;F.exports.none=XV;F.exports.not=xS;F.exports.nth=Ni;F.exports.nthArg=tq;F.exports.o=sq;F.exports.objOf=HS;F.exports.of=Aq;F.exports.omit=cq;F.exports.on=fq;F.exports.once=pq;F.exports.or=QS;F.exports.otherwise=Cq;F.exports.over=tj;F.exports.pair=kq;F.exports.partial=Mq;F.exports.partialRight=Rq;F.exports.partition=Gq;F.exports.path=fo;F.exports.paths=GS;F.exports.pathEq=Yq;F.exports.pathOr=nX;F.exports.pathSatisfies=iX;F.exports.pick=lX;F.exports.pickAll=rj;F.exports.pickBy=hX;F.exports.pipe=vS;F.exports.pipeWith=wS;F.exports.pluck=Sc;F.exports.prepend=sj;F.exports.product=bX;F.exports.project=EX;F.exports.promap=RX;F.exports.prop=ki;F.exports.propEq=GX;F.exports.propIs=YX;F.exports.propOr=nY;F.exports.propSatisfies=iY;F.exports.props=cY;F.exports.range=fY;F.exports.reduce=Ws;F.exports.reduceBy=Sh;F.exports.reduceRight=Aj;F.exports.reduceWhile=bY;F.exports.reduced=_Y;F.exports.reject=ph;F.exports.remove=jS;F.exports.repeat=QY;F.exports.replace=IY;F.exports.reverse=Tv;F.exports.scan=zY;F.exports.sequence=lj;F.exports.set=nJ;F.exports.slice=Rr;F.exports.sort=aJ;F.exports.sortBy=oJ;F.exports.sortWith=uJ;F.exports.split=hJ;F.exports.splitAt=xJ;F.exports.splitEvery=wJ;F.exports.splitWhen=_J;F.exports.splitWhenever=NJ;F.exports.startsWith=UJ;F.exports.subtract=MJ;F.exports.sum=WS;F.exports.swap=OJ;F.exports.symmetricDifference=WJ;F.exports.symmetricDifferenceWith=YJ;F.exports.tail=Uv;F.exports.take=Pv;F.exports.takeLast=TS;F.exports.takeLastWhile=tZ;F.exports.takeWhile=uZ;F.exports.tap=vZ;F.exports.test=jZ;F.exports.andThen=FZ;F.exports.times=oj;F.exports.toLower=TZ;F.exports.toPairs=PZ;F.exports.toPairsIn=RZ;F.exports.toString=co;F.exports.toUpper=KZ;F.exports.transduce=qZ;F.exports.transpose=JZ;F.exports.traverse=ree;F.exports.trim=Aee;F.exports.tryCatch=dee;F.exports.type=Bv;F.exports.unapply=mee;F.exports.unary=vee;F.exports.uncurryN=Bee;F.exports.unfold=See;F.exports.union=Qee;F.exports.unionWith=Gee;F.exports.uniq=Rv;F.exports.uniqBy=PS;F.exports.uniqWith=dj;F.exports.unless=qee;F.exports.unnest=Zee;F.exports.until=nte;F.exports.unwind=ote;F.exports.update=zS;F.exports.useWith=aj;F.exports.values=lS;F.exports.valuesIn=ute;F.exports.view=mte;F.exports.when=xte;F.exports.where=fj;F.exports.whereAny=_te;F.exports.whereEq=Fte;F.exports.without=Mte;F.exports.xor=Hte;F.exports.xprod=Lte;F.exports.zip=zte;F.exports.zipObj=Vte;F.exports.zipWith=Yte;F.exports.thunkify=tne;var Qc=F.exports,hj={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.curried=void 0;const t=n=>r=>{if(r.length===0)return[[],[]];const s=[];r.forEach((o,l)=>{s.push([n[l],l,r[l]])}),s.sort(([o],[l])=>o-l);const a=[],A=[];return s.forEach(([o,l,u])=>{A.push(l),a.push(u)}),[a,A]};e.curried=t,e.default=(n,r)=>(0,e.curried)(n)(r)})(hj);var mj={},Eh={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.utilSumQ=ft.utilA=ft.sum=ft.score=ft.rankings=ft.ladderPairs=ft.gamma=ft.default=void 0;var nne=Qc,rne=sne(Ze);function sne(e){return e&&e.__esModule?e:{default:e}}const Zl=(e,t)=>e+t;ft.sum=Zl;const ane=(e,t)=>e<t?0:e>t?1:.5;ft.score=ane;const gj=(e,t=[])=>{const n=e.map((a,A)=>t[A]||A),r=new Array(e.length);let s=0;for(let a=0;a<n.length;a+=1)a>0&&n[a-1]<n[a]&&(s=a),r[a]=s;return r};ft.rankings=gj;const ine=e=>t=>{const n=gj(t,e.rank);return t.map((r,s)=>[r.map(({mu:a})=>a).reduce(Zl,0),r.map(({sigma:a})=>a*a).reduce(Zl,0),r,n[s]])},Ane=e=>{const t=e.length,n=[void 0,...e.slice(0,t-1)],r=[...e.slice(1),void 0];return(0,nne.zip)(n,r).map(([s,a])=>s!==void 0&&a!==void 0?[s,a]:s!==void 0&&a===void 0?[s]:s===void 0&&a!==void 0?[a]:[])};ft.ladderPairs=Ane;const one=e=>{const{BETASQ:t}=(0,rne.default)(e);return n=>Math.sqrt(n.map(([r,s,a,A])=>s+t).reduce(Zl,0))},lne=(e,t)=>e.map(([n,r,s,a])=>e.filter(([A,o,l,u])=>u>=a).map(([A,o,l,u])=>Math.exp(A/t)).reduce(Zl,0));ft.utilSumQ=lne;const cne=e=>e.map(([t,n,r,s])=>e.filter(([a,A,o,l])=>s===l).length);ft.utilA=cne;const pj=e=>e.gamma??((t,n,r,s,a,A)=>Math.sqrt(s)/t);ft.gamma=pj;var une=e=>({utilC:one(e),teamRating:ine(e),gamma:pj(e)});ft.default=une;Object.defineProperty(Eh,"__esModule",{value:!0});Eh.default=void 0;var rm=hne(ft),dne=fne(Ze);function fne(e){return e&&e.__esModule?e:{default:e}}function xj(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(xj=function(r){return r?n:t})(e)}function hne(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=xj(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var A=s?Object.getOwnPropertyDescriptor(e,a):null;A&&(A.get||A.set)?Object.defineProperty(r,a,A):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}const mne=(e,t={})=>{const{EPSILON:n}=(0,dne.default)(t),{utilC:r,teamRating:s,gamma:a}=(0,rm.default)(t),A=s(e),o=r(A),l=(0,rm.utilSumQ)(A,o),u=(0,rm.utilA)(A);return A.map((f,c)=>{const[d,h,m,x]=f,v=Math.exp(d/o),[g,p]=A.filter(([B,_,N,w])=>w<=x).reduce(([B,_],[N],w)=>{const E=v/l[w];return[B+(c===w?1-E:-E)/u[w],_+E*(1-E)/u[w]]},[0,0]),y=a(o,A.length,...f),b=g*(h/o),C=y*p*(h/o**2);return m.map(({mu:B,sigma:_})=>({mu:B+_**2/h*b,sigma:_*Math.sqrt(Math.max(1-_**2/h*C,n))}))})};var gne=mne;Eh.default=gne;var Fh={};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.default=void 0;var zw=vne(ft),pne=xne(Ze);function xne(e){return e&&e.__esModule?e:{default:e}}function vj(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(vj=function(r){return r?n:t})(e)}function vne(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=vj(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var A=s?Object.getOwnPropertyDescriptor(e,a):null;A&&(A.get||A.set)?Object.defineProperty(r,a,A):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}const yne=(e,t={})=>{const{TWOBETASQ:n,EPSILON:r}=(0,pne.default)(t),{teamRating:s,gamma:a}=(0,zw.default)(t),A=s(e);return A.map((o,l)=>{const[u,f,c,d]=o,[h,m]=A.filter((x,v)=>v!==l).reduce(([x,v],[g,p,y,b])=>{const C=Math.sqrt(f+p+n),B=1/(1+Math.exp((g-u)/C)),_=f/C,N=a(C,A.length,...o);return[x+_*((0,zw.score)(b,d)-B),v+N*_/C*B*(1-B)]},[0,0]);return c.map(({mu:x,sigma:v})=>{const g=v*v;return{mu:x+g/f*h,sigma:v*Math.sqrt(Math.max(1-g/f*m,r))}})})};var bne=yne;Fh.default=bne;var Qh={};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.default=void 0;var wne=Qc,sm=_ne(ft),Bne=Cne(Ze);function Cne(e){return e&&e.__esModule?e:{default:e}}function yj(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(yj=function(r){return r?n:t})(e)}function _ne(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=yj(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var A=s?Object.getOwnPropertyDescriptor(e,a):null;A&&(A.get||A.set)?Object.defineProperty(r,a,A):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}const Sne=(e,t={})=>{const{TWOBETASQ:n,EPSILON:r}=(0,Bne.default)(t),{teamRating:s,gamma:a}=(0,sm.default)(t),A=s(e),o=(0,sm.ladderPairs)(A);return(0,wne.zip)(A,o).map(([l,u])=>{const[f,c,d,h]=l,[m,x]=u.reduce(([v,g],[p,y,b,C])=>{const B=Math.sqrt(c+y+n),_=1/(1+Math.exp((p-f)/B)),N=c/B,w=a(B,A.length,...l);return[v+N*((0,sm.score)(C,h)-_),g+w*N/B*_*(1-_)]},[0,0]);return d.map(({mu:v,sigma:g})=>{const p=g*g;return{mu:v+p/c*m,sigma:g*Math.sqrt(Math.max(1-p/c*x,r))}})})};var jne=Sne;Qh.default=jne;var Uh={},It={},bj={exports:{}},wj={exports:{}};(function(e,t){(function(n){const r=Math.PI*2;function s(a,A,o=null){var l,u;o?(l=o(),u=o()):(l=Math.random(),u=Math.random());var f=Math.sqrt(-2*Math.log(l))*Math.cos(r*u);return f*A+a}n(s)})(function(n){e.exports=n})})(wj);var Nne=wj.exports;(function(e,t){(function(n){const r=Nne;var s=function(u){var f=Math.abs(u),c=1/(1+f/2),d=c*Math.exp(-f*f-1.26551223+c*(1.00002368+c*(.37409196+c*(.09678418+c*(-.18628806+c*(.27886807+c*(-1.13520398+c*(1.48851587+c*(-.82215223+c*.17087277)))))))));return u>=0?d:2-d},a=function(u){if(u>=2)return-100;if(u<=0)return 100;for(var f=u<1?u:2-u,c=Math.sqrt(-2*Math.log(f/2)),d=-.70711*((2.30753+c*.27061)/(1+c*(.99229+c*.04481))-c),h=0;h<2;h++){var m=s(d)-f;d+=m/(1.1283791670955126*Math.exp(-(d*d))-d*m)}return u<1?d:-d},A=function(u,f){if(f<=0)throw new Error("Variance must be > 0 (but was "+f+")");this.mean=u,this.variance=f,this.standardDeviation=Math.sqrt(f)};A.prototype.pdf=function(u){var f=this.standardDeviation*Math.sqrt(2*Math.PI),c=Math.exp(-Math.pow(u-this.mean,2)/(2*this.variance));return c/f},A.prototype.cdf=function(u){return .5*s(-(u-this.mean)/(this.standardDeviation*Math.sqrt(2)))},A.prototype.ppf=function(u){return this.mean-this.standardDeviation*Math.sqrt(2)*a(2*u)},A.prototype.mul=function(u){if(typeof u=="number")return this.scale(u);var f=1/this.variance,c=1/u.variance;return l(f+c,f*this.mean+c*u.mean)},A.prototype.div=function(u){if(typeof u=="number")return this.scale(1/u);var f=1/this.variance,c=1/u.variance;return l(f-c,f*this.mean-c*u.mean)},A.prototype.add=function(u){return o(this.mean+u.mean,this.variance+u.variance)},A.prototype.sub=function(u){return o(this.mean-u.mean,this.variance+u.variance)},A.prototype.scale=function(u){return o(this.mean*u,this.variance*u*u)},A.prototype.random=function(u,f=null){let c=this.mean,d=this.standardDeviation;return Array(u).fill(0).map(()=>r(c,d,f))};var o=function(u,f){return new A(u,f)},l=function(u,f){return o(f/u,1/u)};n(o)})(function(n){e.exports=n})})(bj);var kne=bj.exports;Object.defineProperty(It,"__esModule",{value:!0});It.wt=It.w=It.vt=It.v=It.phiMinor=It.phiMajorInverse=It.phiMajor=void 0;var Ene=Fne(kne);function Fne(e){return e&&e.__esModule?e:{default:e}}const Kv=(0,Ene.default)(0,1),bi=e=>Kv.cdf(e);It.phiMajor=bi;const Qne=e=>Kv.ppf(e);It.phiMajorInverse=Qne;const qA=e=>Kv.pdf(e);It.phiMinor=qA;const Vg=(e,t)=>{const n=e-t,r=bi(n);return r<Number.EPSILON?-n:qA(n)/r};It.v=Vg;const Une=(e,t)=>{const n=e-t;return bi(n)<Number.EPSILON?e<0?1:0:Vg(e,t)*(Vg(e,t)+n)};It.w=Une;const qg=(e,t)=>{const n=Math.abs(e),r=bi(t-n)-bi(-t-n);if(r<1e-5)return e<0?-e-t:-e+t;const s=qA(-t-n)-qA(t-n);return(e<0?-s:s)/r};It.vt=qg;const Tne=(e,t)=>{const n=Math.abs(e),r=bi(t-n)-bi(-t-n);return r<Number.EPSILON?1:((t-n)*qA(t-n)+(t+n)*qA(-t-n))/r+qg(e,t)*qg(e,t)};It.wt=Tne;Object.defineProperty(Uh,"__esModule",{value:!0});Uh.default=void 0;var Ine=Bj(ft),Mne=Bj(Ze),pu=It;function Bj(e){return e&&e.__esModule?e:{default:e}}const Dne=(e,t={})=>{const{TWOBETASQ:n,EPSILON:r}=(0,Mne.default)(t),{teamRating:s,gamma:a}=(0,Ine.default)(t),A=s(e);return A.map((o,l)=>{const[u,f,c,d]=o,[h,m]=A.filter((x,v)=>l!==v).reduce(([x,v],[g,p,y,b])=>{const C=Math.sqrt(f+p+n),B=(u-g)/C,_=f/C,N=a(C,A.length,...o);if(b===d)return[x+_*(0,pu.vt)(B,r/C),v+N*_/C*(0,pu.wt)(B,r/C)];const w=b>d?1:-1;return[x+w*_*(0,pu.v)(w*B,r/C),v+N*_/C*(0,pu.w)(w*B,r/C)]},[0,0]);return c.map(({mu:x,sigma:v})=>{const g=v*v;return{mu:x+g/f*h,sigma:v*Math.sqrt(Math.max(1-g/f*m,r))}})})};var Pne=Dne;Uh.default=Pne;var Th={};Object.defineProperty(Th,"__esModule",{value:!0});Th.default=void 0;var Hne=Qc,Gw=Lne(ft),xu=It,$ne=Rne(Ze);function Rne(e){return e&&e.__esModule?e:{default:e}}function Cj(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Cj=function(r){return r?n:t})(e)}function Lne(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Cj(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var A=s?Object.getOwnPropertyDescriptor(e,a):null;A&&(A.get||A.set)?Object.defineProperty(r,a,A):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}const One=(e,t={})=>{const{TWOBETASQ:n,EPSILON:r}=(0,$ne.default)(t),{teamRating:s,gamma:a}=(0,Gw.default)(t),A=s(e),o=(0,Gw.ladderPairs)(A);return(0,Hne.zip)(A,o).map(([l,u])=>{const[f,c,d,h]=l,[m,x]=u.reduce(([v,g],[p,y,b,C])=>{const B=2*Math.sqrt(c+y+n),_=(f-p)/B,N=c/B,w=a(B,A.length,...l);if(C===h)return[v+N*(0,xu.vt)(_,r/B),g+w*N/B*(0,xu.wt)(_,r/B)];const E=C>h?1:-1;return[v+E*N*(0,xu.v)(E*_,r/B),g+w*N/B*(0,xu.w)(E*_,r/B)]},[0,0]);return d.map(({mu:v,sigma:g})=>{const p=g*g;return{mu:v+p/c*m,sigma:g*Math.sqrt(Math.max(1-p/c*x,r))}})})};var Kne=One;Th.default=Kne;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"bradleyTerryFull",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"bradleyTerryPart",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"plackettLuce",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"thurstoneMostellerFull",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"thurstoneMostellerPart",{enumerable:!0,get:function(){return a.default}});var t=A(Eh),n=A(Fh),r=A(Qh),s=A(Uh),a=A(Th);function A(o){return o&&o.__esModule?o:{default:o}}})(mj);Object.defineProperty(hh,"__esModule",{value:!0});hh.default=void 0;var am=Qc,Ww=Gne(hj),zne=mj;function Gne(e){return e&&e.__esModule?e:{default:e}}const Wne=(e,t={})=>{var u;const n=t.model??zne.plackettLuce;let r=e;if(t.tau){const f=t.tau*t.tau;r=e.map(c=>c.map(d=>({...d,sigma:Math.sqrt(d.sigma*d.sigma+f)})))}const s=t.rank??((u=t.score)==null?void 0:u.map(f=>-f))??(0,am.range)(1,e.length+1),[a,A]=(0,Ww.default)(s,r),o=n(a,{...t,rank:(0,am.sortBy)(am.identity,s)});let[l]=(0,Ww.default)(A,o);return t.tau&&t.preventSigmaIncrease&&(l=l.map((f,c)=>f.map((d,h)=>({...d,sigma:Math.min(d.sigma,e[c][h].sigma)})))),l};var Vne=Wne;hh.default=Vne;var Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.default=void 0;var qne=Xne(Ze);function Xne(e){return e&&e.__esModule?e:{default:e}}const Yne=(e,t={})=>{const{sigma:n,mu:r}=e,{Z:s}=(0,qne.default)(t);return r-s*n};var Jne=Yne;Ih.default=Jne;var Mh={};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.default=void 0;var Zne=nre(Ze),Vw=tre(ft),ere=It;function _j(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(_j=function(r){return r?n:t})(e)}function tre(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=_j(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var A=s?Object.getOwnPropertyDescriptor(e,a):null;A&&(A.get||A.set)?Object.defineProperty(r,a,A):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function nre(e){return e&&e.__esModule?e:{default:e}}const rre=(e,t={})=>{const{teamRating:n}=(0,Vw.default)(t),{BETASQ:r}=(0,Zne.default)(t),s=n(e),a=e.length,A=a*(a-1)/2;return s.map(([o,l],u)=>s.filter((f,c)=>u!==c).map(([f,c])=>(0,ere.phiMajor)((o-f)/Math.sqrt(a*r+l**2+c**2))).reduce(Vw.sum,0)/A)};var sre=rre;Mh.default=sre;var Dh={};Object.defineProperty(Dh,"__esModule",{value:!0});Dh.default=void 0;var are=Qc,ire=ore(Ze),qw=Are(ft),im=It;function Sj(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Sj=function(r){return r?n:t})(e)}function Are(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Sj(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var A=s?Object.getOwnPropertyDescriptor(e,a):null;A&&(A.get||A.set)?Object.defineProperty(r,a,A):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function ore(e){return e&&e.__esModule?e:{default:e}}const lre=(e,t={})=>{const{teamRating:n}=(0,qw.default)(t),{BETASQ:r,BETA:s}=(0,ire.default)(t),a=e.length;if(a===0)return;if(a===1)return 1;const A=a*(a-1)/(a>2?1:2),o=n(e),l=Math.sqrt((0,are.flatten)(e).length)*s*(0,im.phiMajorInverse)((1+1/a)/2);return Math.abs(o.map(([u,f],c)=>o.filter((d,h)=>c!==h).map(([d,h])=>{const m=Math.sqrt(a*r+f**2+h**2);return(0,im.phiMajor)((l-u+d)/m)-(0,im.phiMajor)((u-d-l)/m)})).flat().reduce(qw.sum,0))/A};var cre=lre;Dh.default=cre;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ordinal",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"predictDraw",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"predictWin",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"rate",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"rating",{enumerable:!0,get:function(){return t.default}});var t=A(fh),n=A(hh),r=A(Ih),s=A(Mh),a=A(Dh);function A(o){return o&&o.__esModule?o:{default:o}}})(Ye);var jj={};Object.defineProperty(jj,"__esModule",{value:!0});var Xw=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},ure=function(){function e(t,n){t===void 0&&(t=0),n===void 0&&(n=1),this.mean=t,this.standardDeviation=n}return e.prototype.zScore=function(t){return(t-this.mean)/this.standardDeviation},e.prototype.pdf=function(t){var n=Math.pow(Math.E,-(Math.pow(t-this.mean,2)/(2*Math.pow(this.standardDeviation,2)))),r=this.standardDeviation*Math.sqrt(2*Math.PI);return n/r},e.prototype.cdf=function(t){var n=this.zScore(t);if(n=Xw(n,2),n===0)return .5;if(n<=-3.5)return 0;if(n>=3.5)return 1;var r=e.zTable,s=Math.abs(n),a=Math.floor(s*10)/10,A=Xw(Math.round(s*100)%10/100,2),o=r.z.indexOf(A),l=r[a][o];return n<0?1-l:l},e.prototype.probabilityBetween=function(t,n){return Math.abs(this.cdf(t)-this.cdf(n))},Object.defineProperty(e,"zTable",{get:function(){return{z:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09],0:[.5,.504,.508,.512,.516,.5199,.5239,.5279,.5319,.5359],"0.1":[.5398,.5438,.5478,.5517,.5557,.5596,.5636,.5675,.5714,.5753],"0.2":[.5793,.5832,.5871,.591,.5948,.5987,.6026,.6064,.6103,.6141],"0.3":[.6179,.6217,.6255,.6293,.6331,.6368,.6406,.6443,.648,.6517],"0.4":[.6554,.6591,.6628,.6664,.67,.6736,.6772,.6808,.6844,.6879],"0.5":[.6915,.695,.6985,.7019,.7054,.7088,.7123,.7157,.719,.7224],"0.6":[.7257,.7291,.7324,.7357,.7389,.7422,.7454,.7486,.7517,.7549],"0.7":[.758,.7611,.7642,.7673,.7704,.7734,.7764,.7794,.7823,.7852],"0.8":[.7881,.791,.7939,.7967,.7995,.8023,.8051,.8078,.8106,.8133],"0.9":[.8159,.8186,.8212,.8238,.8264,.8289,.8315,.834,.8365,.8389],1:[.8413,.8438,.8461,.8485,.8508,.8531,.8554,.8577,.8599,.8621],"1.1":[.8643,.8665,.8686,.8708,.8729,.8749,.877,.879,.881,.883],"1.2":[.8849,.8869,.8888,.8907,.8925,.8944,.8962,.898,.8997,.9015],"1.3":[.9032,.9049,.9066,.9082,.9099,.9115,.9131,.9147,.9162,.9177],"1.4":[.9192,.9207,.9222,.9236,.9251,.9265,.9279,.9292,.9306,.9319],"1.5":[.9332,.9345,.9357,.937,.9382,.9394,.9406,.9418,.9429,.9441],"1.6":[.9452,.9463,.9474,.9484,.9495,.9505,.9515,.9525,.9535,.9545],"1.7":[.9554,.9564,.9573,.9582,.9591,.9599,.9608,.9616,.9625,.9633],"1.8":[.9641,.9649,.9656,.9664,.9671,.9678,.9686,.9693,.9699,.9706],"1.9":[.9713,.9719,.9726,.9732,.9738,.9744,.975,.9756,.9761,.9767],2:[.9772,.9778,.9783,.9788,.9793,.9798,.9803,.9808,.9812,.9817],"2.1":[.9821,.9826,.983,.9834,.9838,.9842,.9846,.985,.9854,.9857],"2.2":[.9861,.9864,.9868,.9871,.9875,.9878,.9881,.9884,.9887,.989],"2.3":[.9893,.9896,.9898,.9901,.9904,.9906,.9909,.9911,.9913,.9916],"2.4":[.9918,.992,.9922,.9925,.9927,.9929,.9931,.9932,.9934,.9936],"2.5":[.9938,.994,.9941,.9943,.9945,.9946,.9948,.9949,.9951,.9952],"2.6":[.9953,.9955,.9956,.9957,.9959,.996,.9961,.9962,.9963,.9964],"2.7":[.9965,.9966,.9967,.9968,.9969,.997,.9971,.9972,.9973,.9974],"2.8":[.9974,.9975,.9976,.9977,.9977,.9978,.9979,.9979,.998,.9981],"2.9":[.9981,.9982,.9982,.9983,.9984,.9984,.9985,.9985,.9986,.9986],3:[.9987,.9987,.9987,.9988,.9988,.9989,.9989,.9989,.999,.999],"3.1":[.999,.9991,.9991,.9991,.9992,.9992,.9992,.9992,.9993,.9993],"3.2":[.9993,.9993,.9994,.9994,.9994,.9994,.9994,.9995,.9995,.9995],"3.3":[.9995,.9995,.9995,.9996,.9996,.9996,.9996,.9996,.9996,.9997],"3.4":[.9997,.9997,.9997,.9997,.9997,.9997,.9997,.9997,.9997,.9998]}},enumerable:!1,configurable:!0}),e}(),Yw=jj.default=ure;const dre="GuardsOfAtlantisStats",Jw=4,Fe={PLAYERS:"players",MATCHES:"matches",MATCH_PLAYERS:"matchPlayers"},Zw=1200,fs=25/6,Do=25/300;function vu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class fre{constructor(){ne(this,"db",null);ne(this,"playerRatings",{})}async initialize(){try{return this.db=await this.openDatabase(),await this.checkAndMigrateRatings(),!0}catch(t){return console.error("Failed to initialize database:",t),!1}}async checkAndMigrateRatings(){try{(await this.getAllPlayers()).some(r=>r.totalGames>0&&(r.mu===void 0||r.sigma===void 0||r.ordinal===void 0))&&(console.log("Migrating player ratings to TrueSkill system..."),await this.recalculatePlayerStats(),console.log("Migration complete!"))}catch(t){console.error("Error checking rating migration:",t)}}openDatabase(){return new Promise((t,n)=>{const r=indexedDB.open(dre,Jw);r.onupgradeneeded=s=>{const a=s.target.result;if(a.objectStoreNames.contains(Fe.PLAYERS)){const A=s.target.transaction;if(A){const o=A.objectStore(Fe.PLAYERS);o.indexNames.contains("ordinal")||o.createIndex("ordinal","ordinal",{unique:!1})}}else{const A=a.createObjectStore(Fe.PLAYERS,{keyPath:"id"});A.createIndex("name","name",{unique:!0}),A.createIndex("elo","elo",{unique:!1}),A.createIndex("ordinal","ordinal",{unique:!1})}if(!a.objectStoreNames.contains(Fe.MATCHES)){const A=a.createObjectStore(Fe.MATCHES,{keyPath:"id"});A.createIndex("date","date",{unique:!1}),A.createIndex("winningTeam","winningTeam",{unique:!1})}if(!a.objectStoreNames.contains(Fe.MATCH_PLAYERS)){const A=a.createObjectStore(Fe.MATCH_PLAYERS,{keyPath:"id"});A.createIndex("matchId","matchId",{unique:!1}),A.createIndex("playerId","playerId",{unique:!1}),A.createIndex("heroId","heroId",{unique:!1}),A.createIndex("heroName","heroName",{unique:!1}),A.createIndex("playerMatch",["playerId","matchId"],{unique:!0})}},r.onsuccess=s=>{const a=s.target.result;t(a)},r.onerror=s=>{n(s.target.error)}})}getDisplayRating(t){return t.ordinal!==void 0?Math.round((t.ordinal+25)*40+200):t.elo}getDeviceId(){const t="guards-of-atlantis-device-id";let n=localStorage.getItem(t);if(!n){const r=Date.now().toString(36),s=Math.random().toString(36).substring(2,10);n=`device_${r}_${s}`,localStorage.setItem(t,n)}return n}async getPlayer(t){return this.db||await this.initialize(),this.db?new Promise((n,r)=>{const A=this.db.transaction([Fe.PLAYERS],"readonly").objectStore(Fe.PLAYERS).get(t);A.onsuccess=()=>{n(A.result||null)},A.onerror=()=>{r(A.error)}}):null}async savePlayer(t){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");return t.deviceId||(t.deviceId=this.getDeviceId()),new Promise((n,r)=>{const A=this.db.transaction([Fe.PLAYERS],"readwrite").objectStore(Fe.PLAYERS).put(t);A.onsuccess=()=>{n()},A.onerror=()=>{r(A.error)}})}async getAllPlayers(){return this.db||await this.initialize(),this.db?new Promise((t,n)=>{const a=this.db.transaction([Fe.PLAYERS],"readonly").objectStore(Fe.PLAYERS).getAll();a.onsuccess=()=>{t(a.result||[])},a.onerror=()=>{n(a.error)}}):[]}async getHeroStats(t=1,n,r){try{const s=await this.getAllMatchPlayers();let a=await this.getAllMatches();(n||r)&&(a=a.filter(c=>{const d=new Date(c.date);return!(n&&d<n||r&&d>r)}));const A=new Set(a.map(c=>c.id)),o=s.filter(c=>A.has(c.matchId)),l=new Map(a.map(c=>[c.id,c])),u=new Map;for(const c of o){const d=c.heroId;if(d==null)continue;u.has(d)||u.set(d,{heroId:d,heroName:c.heroName,icon:`heroes/${c.heroName.toLowerCase()}.png`,roles:c.heroRoles,complexity:1,expansion:"Unknown",totalGames:0,wins:0,losses:0,teammates:new Map,opponents:new Map});const h=u.get(d);h.totalGames+=1;const m=l.get(c.matchId);if(!m)continue;c.team===m.winningTeam?h.wins+=1:h.losses+=1}for(const c of a){const d=o.filter(h=>h.matchId===c.id);for(const h of d){const m=h.heroId;if(m==null||!u.has(m))continue;const x=u.get(m),v=h.team,g=v===c.winningTeam,p=d.filter(b=>b.team===v&&b.heroId!==m),y=d.filter(b=>b.team!==v);for(const b of p){if(b.heroId===void 0||b.heroId===null)continue;let C=x.teammates.get(b.heroId);C||(C={wins:0,games:0},x.teammates.set(b.heroId,C)),C.games+=1,g&&(C.wins+=1)}for(const b of y){if(b.heroId===void 0||b.heroId===null)continue;let C=x.opponents.get(b.heroId);C||(C={wins:0,games:0},x.opponents.set(b.heroId,C)),C.games+=1,g&&(C.wins+=1)}}}const f=Array.from(u.values()).map(c=>{const d=c.totalGames>0?c.wins/c.totalGames*100:0,h=Array.from(c.teammates.entries()).filter(([v,g])=>g.games>=t).map(([v,g])=>{const p=u.get(v);return p?{heroId:v,heroName:p.heroName,icon:p.icon,winRate:g.games>0?g.wins/g.games*100:0,gamesPlayed:g.games}:null}).filter(v=>v!==null).sort((v,g)=>g.winRate-v.winRate).slice(0,3),m=Array.from(c.opponents.entries()).filter(([v,g])=>g.games>=t).map(([v,g])=>{const p=u.get(v);return p?{heroId:v,heroName:p.heroName,icon:p.icon,winRate:g.games>0?g.wins/g.games*100:0,gamesPlayed:g.games}:null}).filter(v=>v!==null).sort((v,g)=>g.winRate-v.winRate).slice(0,3),x=Array.from(c.opponents.entries()).filter(([v,g])=>g.games>=t).map(([v,g])=>{const p=u.get(v);return p?{heroId:v,heroName:p.heroName,icon:p.icon,winRate:g.games>0?g.wins/g.games*100:0,gamesPlayed:g.games}:null}).filter(v=>v!==null).sort((v,g)=>v.winRate-g.winRate).slice(0,3);return{...c,winRate:d,bestTeammates:h,bestAgainst:m,worstAgainst:x,teammates:void 0,opponents:void 0}});try{const{heroes:c}=await wI(()=>Promise.resolve().then(()=>FU),void 0);for(const d of f){const h=c.find(m=>m.name===d.heroName);h&&(d.complexity=h.complexity,d.expansion=h.expansion)}}catch(c){console.error("Error enriching hero stats with heroes.ts data:",c)}return f}catch(s){return console.error("Error getting hero stats:",s),[]}}async getFilteredPlayerStats(t,n,r=!1){try{const s=await this.getAllPlayers();let a=await this.getAllMatches();const A=await this.getAllMatchPlayers();let o=null;(t||n)&&(o={start:t||new Date(0),end:n||new Date}),(t||n)&&(a=a.filter(h=>{const m=new Date(h.date);return!(t&&m<t||n&&m>n)}));const l=new Set(a.map(h=>h.id)),u=A.filter(h=>l.has(h.matchId)),f=new Map(a.map(h=>[h.id,h]));let c={};r?c=await this.calculateTrueSkillForMatches(a):c=await this.getCurrentTrueSkillRatings();const d=[];for(const h of s){const m=u.filter(K=>K.playerId===h.id);if(m.length===0)continue;let x=0,v=0,g=0,p=0,y=0,b=0,C=0,B=!1,_=null;const N=new Map,w=new Map;for(const K of m){const M=f.get(K.matchId);if(!M)continue;const D=new Date(M.date);if((!_||D>_)&&(_=D),K.team===M.winningTeam?x++:v++,K.kills!==void 0&&(g+=K.kills,B=!0),K.deaths!==void 0&&(p+=K.deaths),K.assists!==void 0&&(y+=K.assists),K.goldEarned!==void 0&&(b+=K.goldEarned),K.minionKills!==void 0&&(C+=K.minionKills),K.heroId!==void 0){const k=N.get(K.heroId);k?k.count++:N.set(K.heroId,{heroId:K.heroId,heroName:K.heroName,count:1})}if(K.heroRoles)for(const k of K.heroRoles)w.set(k,(w.get(k)||0)+1)}const E=m.length,U=E>0?x/E*100:0,I=p>0?g/p:g,H=Array.from(N.values()).sort((K,M)=>M.count-K.count).slice(0,3),$=Array.from(w.entries()).map(([K,M])=>({role:K,count:M})).sort((K,M)=>M.count-K.count).slice(0,3);d.push({id:h.id,name:h.name,gamesPlayed:E,wins:x,losses:v,winRate:U,kills:g,deaths:p,assists:y,kdRatio:I,totalGold:b,totalMinionKills:C,averageGold:E>0?b/E:0,averageMinionKills:E>0?C/E:0,hasCombatStats:B,favoriteHeroes:H,favoriteRoles:$,displayRating:c[h.id]||1200,lastPlayed:_})}return{players:d,dateRange:o}}catch(s){return console.error("Error getting filtered player stats:",s),{players:[],dateRange:null}}}async calculateTrueSkillForMatches(t){try{const n=[...t].sort((A,o)=>{const l=new Date(A.date).getTime(),u=new Date(o.date).getTime();return l-u}),r=await this.getAllPlayers(),s={};for(const A of r)s[A.id]=Ye.rating();for(const A of n){const o=await this.getMatchPlayers(A.id),l=[],u=[],f=[],c=[];for(const m of o)m.team===G.Titans?(l.push(m.playerId),u.push(s[m.playerId]||Ye.rating())):(f.push(m.playerId),c.push(s[m.playerId]||Ye.rating()));if(u.length===0||c.length===0)continue;let d;A.winningTeam===G.Titans?d=[1,2]:d=[2,1];const h=Ye.rate([u,c],{rank:d,beta:fs,tau:Do});for(let m=0;m<l.length;m++)s[l[m]]=h[0][m];for(let m=0;m<f.length;m++)s[f[m]]=h[1][m]}const a={};for(const A in s){const o=s[A],l=Ye.ordinal(o);a[A]=Math.round((l+25)*40+200)}return a}catch(n){return console.error("Error calculating TrueSkill for matches:",n),{}}}async getAllMatchPlayers(){return this.db||await this.initialize(),this.db?new Promise((t,n)=>{const a=this.db.transaction([Fe.MATCH_PLAYERS],"readonly").objectStore(Fe.MATCH_PLAYERS).getAll();a.onsuccess=()=>{t(a.result||[])},a.onerror=()=>{n(a.error)}}):[]}async getAllMatches(){return this.db||await this.initialize(),this.db?new Promise((t,n)=>{const a=this.db.transaction([Fe.MATCHES],"readonly").objectStore(Fe.MATCHES).getAll();a.onsuccess=()=>{t(a.result||[])},a.onerror=()=>{n(a.error)}}):[]}async getMatch(t){return this.db||await this.initialize(),this.db?new Promise((n,r)=>{const A=this.db.transaction([Fe.MATCHES],"readonly").objectStore(Fe.MATCHES).get(t);A.onsuccess=()=>{n(A.result||null)},A.onerror=()=>{r(A.error)}}):null}async saveMatch(t){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");return t.id||(t.id=vu()),t.deviceId||(t.deviceId=this.getDeviceId()),new Promise((n,r)=>{const A=this.db.transaction([Fe.MATCHES],"readwrite").objectStore(Fe.MATCHES).put(t);A.onsuccess=()=>{n(t.id)},A.onerror=()=>{r(A.error)}})}async deleteMatch(t){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");try{if(!await this.getMatch(t))throw new Error("Match not found");const r=await this.getMatchPlayers(t);await this.deleteMatchAndPlayers(t,r),await this.recalculatePlayerStats()}catch(n){throw console.error("Error deleting match:",n),n}}async deleteMatchAndPlayers(t,n){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");return new Promise((r,s)=>{const a=this.db.transaction([Fe.MATCHES,Fe.MATCH_PLAYERS],"readwrite"),A=a.objectStore(Fe.MATCH_PLAYERS);n.forEach(l=>{A.delete(l.id)}),a.objectStore(Fe.MATCHES).delete(t),a.oncomplete=()=>{r()},a.onerror=()=>{s(a.error)}})}initializeTrueSkillRatings(t){this.playerRatings={};for(const n of t)n.mu!==void 0&&n.sigma!==void 0?this.playerRatings[n.id]={mu:n.mu,sigma:n.sigma}:this.playerRatings[n.id]=Ye.rating()}async recalculatePlayerStats(){try{console.log("Starting player statistics recalculation with TrueSkill...");const t=await this.getAllPlayers();console.log(`Found ${t.length} players for recalculation`);const n=new Map;for(const s of t)n.set(s.id,{totalGames:0,wins:0,losses:0});this.playerRatings={};for(const s of t)this.playerRatings[s.id]=Ye.rating();let r=await this.getAllMatches();r.sort((s,a)=>{const A=new Date(s.date).getTime(),o=new Date(a.date).getTime();return A-o}),console.log(`Processing ${r.length} matches in chronological order`);for(const s of r){const a=await this.getMatchPlayers(s.id),A=[],o=[],l=[],u=[];for(const d of a)d.team===G.Titans?(A.push(d.playerId),l.push(this.playerRatings[d.playerId])):(o.push(d.playerId),u.push(this.playerRatings[d.playerId]));if(l.length===0||u.length===0){console.warn(`Skipping match ${s.id} due to empty team`);continue}let f;s.winningTeam===G.Titans?f=[1,2]:f=[2,1];const c=Ye.rate([l,u],{rank:f,beta:fs,tau:Do});for(let d=0;d<A.length;d++)this.playerRatings[A[d]]=c[0][d];for(let d=0;d<o.length;d++)this.playerRatings[o[d]]=c[1][d];for(const d of a){const h=n.get(d.playerId);h&&(h.totalGames+=1,d.team===s.winningTeam?h.wins+=1:h.losses+=1)}}for(const s of t){const a=n.get(s.id),A=this.playerRatings[s.id],o={...s,totalGames:a.totalGames,wins:a.wins,losses:a.losses,mu:A.mu,sigma:A.sigma,ordinal:Ye.ordinal(A),elo:Math.round((Ye.ordinal(A)+25)*40+200),lastPlayed:a.totalGames>0?new Date:s.lastPlayed};await this.savePlayer(o)}console.log("Player statistics recalculation completed successfully")}catch(t){throw console.error("Error recalculating player stats:",t),t}}calculateNewELO(t,n,r,s,a=.7,A=32){return t}async saveMatchPlayer(t){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");return t.id||(t.id=vu()),t.deviceId||(t.deviceId=this.getDeviceId()),new Promise((n,r)=>{const A=this.db.transaction([Fe.MATCH_PLAYERS],"readwrite").objectStore(Fe.MATCH_PLAYERS).put(t);A.onsuccess=()=>{n(t.id)},A.onerror=()=>{r(A.error)}})}async getMatchPlayers(t){return this.db||await this.initialize(),this.db?new Promise((n,r)=>{const o=this.db.transaction([Fe.MATCH_PLAYERS],"readonly").objectStore(Fe.MATCH_PLAYERS).index("matchId").getAll(t);o.onsuccess=()=>{n(o.result||[])},o.onerror=()=>{r(o.error)}}):[]}async getPlayerMatches(t){return this.db||await this.initialize(),this.db?new Promise((n,r)=>{const o=this.db.transaction([Fe.MATCH_PLAYERS],"readonly").objectStore(Fe.MATCH_PLAYERS).index("playerId").getAll(t);o.onsuccess=()=>{n(o.result||[])},o.onerror=()=>{r(o.error)}}):[]}async recordMatch(t,n){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");if(Object.keys(this.playerRatings).length===0){const h=await this.getAllPlayers();this.initializeTrueSkillRatings(h)}const r=n.map(async h=>{const m=await this.getPlayer(h.id);if(!m){const x=Ye.rating(),v={id:h.id,name:h.id,totalGames:0,wins:0,losses:0,elo:Zw,mu:x.mu,sigma:x.sigma,ordinal:Ye.ordinal(x),lastPlayed:new Date,dateCreated:new Date,deviceId:this.getDeviceId(),level:h.level||1};return await this.savePlayer(v),this.playerRatings[h.id]=x,v}return this.playerRatings[h.id]||(m.mu!==void 0&&m.sigma!==void 0?this.playerRatings[h.id]={mu:m.mu,sigma:m.sigma}:this.playerRatings[h.id]=Ye.rating()),h.level!==void 0&&(m.level===void 0||h.level>m.level)&&(m.level=h.level,await this.savePlayer(m)),m}),s=await Promise.all(r),a=[],A=[],o=[],l=[];for(let h=0;h<n.length;h++)n[h].team===G.Titans?(a.push(n[h].id),A.push(this.playerRatings[n[h].id])):(o.push(n[h].id),l.push(this.playerRatings[n[h].id]));const u={id:vu(),date:t.date,winningTeam:t.winningTeam,gameLength:t.gameLength,doubleLanes:t.doubleLanes,titanPlayers:a.length,atlanteanPlayers:o.length,deviceId:this.getDeviceId()};await this.saveMatch(u);let f;t.winningTeam===G.Titans?f=[1,2]:f=[2,1];const c=Ye.rate([A,l],{rank:f,beta:fs,tau:Do}),d=n.map(async(h,m)=>{const x=s[m],v=h.team===t.winningTeam;let g;if(h.team===G.Titans){const b=a.indexOf(h.id);g=c[0][b]}else{const b=o.indexOf(h.id);g=c[1][b]}this.playerRatings[h.id]=g;const p={...x,totalGames:x.totalGames+1,wins:x.wins+(v?1:0),losses:x.losses+(v?0:1),mu:g.mu,sigma:g.sigma,ordinal:Ye.ordinal(g),elo:Math.round((Ye.ordinal(g)+25)*40+200),lastPlayed:new Date,level:h.level||x.level};await this.savePlayer(p);const y={id:vu(),matchId:u.id,playerId:x.id,team:h.team,heroId:h.heroId,heroName:h.heroName,heroRoles:h.heroRoles,kills:h.kills,deaths:h.deaths,assists:h.assists,goldEarned:h.goldEarned,minionKills:h.minionKills,level:h.level,deviceId:this.getDeviceId()};await this.saveMatchPlayer(y)});return await Promise.all(d),u.id}async getPlayerStats(t){const n=await this.getPlayer(t);if(!n)return{player:null,favoriteHeroes:[],allHeroesPlayed:[],favoriteRoles:[],allRolesPlayed:[],matchesPlayed:[]};const r=await this.getPlayerMatches(t),s=new Map;r.forEach(f=>{const c=s.get(f.heroId);c?c.count+=1:s.set(f.heroId,{heroId:f.heroId,heroName:f.heroName,count:1})});const a=Array.from(s.values()).sort((f,c)=>c.count-f.count).slice(0,3),A=Array.from(s.values()).sort((f,c)=>c.count-f.count),o=new Map;r.forEach(f=>{f.heroRoles.forEach(c=>{const d=o.get(c);d?d.count+=1:o.set(c,{role:c,count:1})})});const l=Array.from(o.values()).sort((f,c)=>c.count-f.count).slice(0,3),u=Array.from(o.values()).sort((f,c)=>c.count-f.count);return{player:n,favoriteHeroes:a,allHeroesPlayed:A,favoriteRoles:l,allRolesPlayed:u,matchesPlayed:r}}async calculateWinProbability(t,n){if(Object.keys(this.playerRatings).length===0){const h=await this.getAllPlayers();this.initializeTrueSkillRatings(h)}const r=[],s=[];for(const h of t)this.playerRatings[h]?r.push(this.playerRatings[h]):r.push(Ye.rating());for(const h of n)this.playerRatings[h]?s.push(this.playerRatings[h]):s.push(Ye.rating());const a=r.reduce((h,m)=>h+m.mu,0),A=r.reduce((h,m)=>h+m.sigma**2,0)+r.length*fs**2,o=s.reduce((h,m)=>h+m.mu,0),l=s.reduce((h,m)=>h+m.sigma**2,0)+s.length*fs**2,u=Math.sqrt(A+l),f=a-o,d=new Yw(0,u).cdf(f);return Math.round(d*100)}async calculateWinProbabilityWithCI(t,n){if(Object.keys(this.playerRatings).length===0){const _=await this.getAllPlayers();this.initializeTrueSkillRatings(_)}const r=[],s=[];for(const _ of t)this.playerRatings[_]?r.push(this.playerRatings[_]):r.push(Ye.rating());for(const _ of n)this.playerRatings[_]?s.push(this.playerRatings[_]):s.push(Ye.rating());const a=r.reduce((_,N)=>_+N.mu,0),A=r.reduce((_,N)=>_+N.sigma**2,0),o=A+r.length*fs**2,l=s.reduce((_,N)=>_+N.mu,0),u=s.reduce((_,N)=>_+N.sigma**2,0),f=u+s.length*fs**2,c=a-l,d=o+f,h=Math.sqrt(d),m=new Yw(0,h),x=m.cdf(c),v=A+u,p=1.96*Math.sqrt(v),y=c-p,b=m.cdf(y),C=c+p,B=m.cdf(C);return{team1Probability:Math.round(x*100),team1Lower:Math.round(b*100),team1Upper:Math.round(B*100),team2Probability:Math.round((1-x)*100),team2Lower:Math.round((1-B)*100),team2Upper:Math.round((1-b)*100)}}async generateBalancedTeams(t){const n=await this.getAllPlayers(),r=n.filter(A=>t.includes(A.id));if(r.length<4)return{team1:[],team2:[]};Object.keys(this.playerRatings).length===0&&this.initializeTrueSkillRatings(n),r.sort((A,o)=>{const l=this.getDisplayRating(A);return this.getDisplayRating(o)-l});const s=[],a=[];return r.forEach(A=>{const o=s.reduce((u,f)=>u+this.getDisplayRating(f),0),l=a.reduce((u,f)=>u+this.getDisplayRating(f),0);o<=l?s.push(A):a.push(A)}),{team1:s.map(A=>A.id),team2:a.map(A=>A.id)}}async generateBalancedTeamsByExperience(t){return this.getAllPlayers().then(n=>{const r=n.filter(A=>t.includes(A.id));if(r.length<4)return{team1:[],team2:[]};r.sort((A,o)=>o.totalGames-A.totalGames);const s=[],a=[];return r.forEach(A=>{const o=s.reduce((u,f)=>u+f.totalGames,0),l=a.reduce((u,f)=>u+f.totalGames,0);o<=l?s.push(A):a.push(A)}),{team1:s.map(A=>A.id),team2:a.map(A=>A.id)}})}async exportData(){const t=await this.getAllPlayers(),n=await this.getAllMatches(),r=[];for(const s of n){const a=await this.getMatchPlayers(s.id);r.push(...a)}return{players:t,matches:n,matchPlayers:r,exportDate:new Date,version:Jw}}async importData(t,n="replace"){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");try{if(n==="replace"){await this.clearAllData();for(const r of t.players)await this.savePlayer(r);for(const r of t.matches)await this.saveMatch(r);for(const r of t.matchPlayers)await this.saveMatchPlayer(r)}else await this.mergeData(t);return await this.recalculatePlayerStats(),!0}catch(r){return console.error("Error importing data:",r),!1}}async mergeData(t){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");try{const n=this.getDeviceId(),r=await this.getAllPlayers(),s=new Set(r.map(l=>l.id));for(const l of t.players)if(!s.has(l.id)){const u={id:l.id,name:l.name,totalGames:0,wins:0,losses:0,elo:Zw,mu:void 0,sigma:void 0,ordinal:void 0,lastPlayed:new Date,dateCreated:new Date,deviceId:`imported_${n}`,level:l.level||1};await this.savePlayer(u),s.add(l.id)}const a=await this.getAllMatches(),A=new Set(a.map(l=>l.id)),o=new Map;for(const l of t.matchPlayers)o.has(l.matchId)||o.set(l.matchId,[]),o.get(l.matchId).push(l);for(const l of t.matches){if(A.has(l.id))continue;l.deviceId||(l.deviceId=`imported_${n}`),await this.saveMatch(l);const u=o.get(l.id)||[];for(const f of u)f.deviceId||(f.deviceId=`imported_${n}`),await this.saveMatchPlayer(f)}return await this.recalculatePlayerStats(),!0}catch(n){return console.error("Error merging data:",n),!1}}async clearAllData(){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");try{const t=this.db.transaction([Fe.PLAYERS,Fe.MATCHES,Fe.MATCH_PLAYERS],"readwrite");return t.objectStore(Fe.PLAYERS).clear(),t.objectStore(Fe.MATCHES).clear(),t.objectStore(Fe.MATCH_PLAYERS).clear(),this.playerRatings={},new Promise((n,r)=>{t.oncomplete=()=>n(!0),t.onerror=()=>r(t.error)})}catch(t){return console.error("Error clearing database:",t),!1}}async getCurrentTrueSkillRatings(){try{let t=await this.getAllMatches();t.sort((a,A)=>{const o=new Date(a.date).getTime(),l=new Date(A.date).getTime();return o-l});const n=await this.getAllPlayers(),r={};for(const a of n)r[a.id]=Ye.rating();for(let a=0;a<t.length;a++){const A=t[a],o=await this.getMatchPlayers(A.id),l=[],u=[],f=[],c=[];for(const m of o)m.team===G.Titans?(l.push(m.playerId),u.push(r[m.playerId])):(f.push(m.playerId),c.push(r[m.playerId]));if(u.length===0||c.length===0)continue;let d;A.winningTeam===G.Titans?d=[1,2]:d=[2,1];const h=Ye.rate([u,c],{rank:d,beta:fs,tau:Do});for(let m=0;m<l.length;m++)r[l[m]]=h[0][m];for(let m=0;m<f.length;m++)r[f[m]]=h[1][m]}const s={};for(const a in r){const A=r[a],o=Ye.ordinal(A);s[a]=Math.round((o+25)*40+200)}return s}catch(t){return console.error("Error getting current TrueSkill ratings:",t),{}}}async getHistoricalRatings(){try{let t=await this.getAllMatches();t.sort((A,o)=>{const l=new Date(A.date).getTime(),u=new Date(o.date).getTime();return l-u});const n=await this.getAllPlayers(),r={};for(const A of n)r[A.id]=Ye.rating();const s=[],a={};for(const A in r){const o=r[A],l=Ye.ordinal(o),u=Math.round((l+25)*40+200);a[A]=u}s.push({date:t.length>0?t[0].date.toString():new Date().toISOString(),matchNumber:0,ratings:a,participants:[]});for(let A=0;A<t.length;A++){const o=t[A],l=await this.getMatchPlayers(o.id),u=[],f=[],c=[],d=[];for(const v of l)v.team===G.Titans?(u.push(v.playerId),f.push(r[v.playerId])):(c.push(v.playerId),d.push(r[v.playerId]));if(f.length===0||d.length===0)continue;let h;o.winningTeam===G.Titans?h=[1,2]:h=[2,1];const m=Ye.rate([f,d],{rank:h,beta:fs,tau:Do});for(let v=0;v<u.length;v++)r[u[v]]=m[0][v];for(let v=0;v<c.length;v++)r[c[v]]=m[1][v];const x={};for(const v in r){const g=r[v],p=Ye.ordinal(g),y=Math.round((p+25)*40+200);x[v]=y}s.push({date:o.date.toString(),matchNumber:A+1,ratings:x,participants:l.map(v=>v.playerId)})}return s}catch(t){return console.error("Error getting historical ratings:",t),[]}}async hasMatchData(){return(await this.getAllMatches()).length>0}async updateMatchPlayer(t,n){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");const s=this.db.transaction(["matchPlayers"],"readwrite").objectStore("matchPlayers"),a=await s.get(t);if(a){const A={...a,...n};await s.put(A)}}async getPlayersWithNoGames(){return this.db||await this.initialize(),this.db?(await this.getAllPlayers()).filter(n=>n.totalGames===0):[]}async deletePlayer(t){if(this.db||await this.initialize(),!this.db)return!1;try{const n=await this.getPlayer(t);if(!n)return console.warn(`Player with ID ${t} not found`),!1;if(n.totalGames!==0)return console.warn(`Cannot delete player ${t}: has ${n.totalGames} games recorded`),!1;const r=await this.getPlayerMatches(t);return r.length>0?(console.warn(`Cannot delete player ${t}: has ${r.length} match records`),!1):new Promise((s,a)=>{const l=this.db.transaction([Fe.PLAYERS],"readwrite").objectStore(Fe.PLAYERS).delete(t);l.onsuccess=()=>{console.log(`Successfully deleted player ${t}`),s(!0)},l.onerror=()=>{console.error(`Error deleting player ${t}:`,l.error),a(l.error)}})}catch(n){return console.error(`Error deleting player ${t}:`,n),!1}}async updateMatch(t,n){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");return new Promise((r,s)=>{const A=this.db.transaction([Fe.MATCHES],"readwrite").objectStore(Fe.MATCHES),o=A.get(t);o.onsuccess=()=>{const l=o.result;if(!l){s(new Error(`Match with ID ${t} not found`));return}const u={...l,...n},f=A.put(u);f.onsuccess=()=>r(),f.onerror=()=>s(f.error)},o.onerror=()=>s(o.error)})}async updateMatchPlayers(t){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");return new Promise((n,r)=>{const a=this.db.transaction([Fe.MATCH_PLAYERS],"readwrite").objectStore(Fe.MATCH_PLAYERS);let A=t.length,o=!1;if(A===0){n();return}t.forEach(l=>{const u=a.get(l.id);u.onsuccess=()=>{if(o)return;const f=u.result;if(!f){o=!0,r(new Error(`Match player with ID ${l.id} not found`));return}const c={...f,...l.updates},d=a.put(c);d.onsuccess=()=>{A--,A===0&&n()},d.onerror=()=>{o=!0,r(d.error)}},u.onerror=()=>{o=!0,r(u.error)}})})}validateMatchEdit(t,n){const r=[],s=[],a=n.filter(d=>d.team===G.Titans),A=n.filter(d=>d.team===G.Atlanteans);a.length===0&&r.push({field:"teams",message:"Titans team cannot be empty",severity:"error"}),A.length===0&&r.push({field:"teams",message:"Atlanteans team cannot be empty",severity:"error"}),Math.abs(a.length-A.length)>1&&s.push({field:"teams",message:`Team sizes are unbalanced (Titans: ${a.length}, Atlanteans: ${A.length})`,severity:"warning"});const l=new Map;n.forEach(d=>{l.has(d.heroId)||l.set(d.heroId,[]),l.get(d.heroId).push(d.playerId)}),l.forEach((d,h)=>{d.length>1&&r.push({field:"hero",message:`Hero ID ${h} is assigned to multiple players: ${d.join(", ")}`,severity:"error"})}),n.forEach(d=>{if(d.kills&&d.kills>0){const x=t.gameLength===Me.Quick?10:20;d.kills>x&&s.push({field:"kills",playerId:d.playerId,message:`${d.kills} kills seems high for ${t.gameLength} match`,severity:"warning"})}d.deaths&&d.deaths>15&&s.push({field:"deaths",playerId:d.playerId,message:`${d.deaths} deaths seems very high`,severity:"warning"}),["kills","deaths","assists","goldEarned","minionKills"].forEach(h=>{const m=d[h];m!==void 0&&m<0&&r.push({field:h,playerId:d.playerId,message:`${h} cannot be negative`,severity:"error"})}),d.level!==void 0&&(d.level<1||d.level>10)&&r.push({field:"level",playerId:d.playerId,message:"Level must be between 1 and 10",severity:"error"})});const u=new Date(t.date);u>new Date&&s.push({field:"date",message:"Match date is in the future",severity:"warning"});const c=new Date;return c.setFullYear(c.getFullYear()-1),u<c&&s.push({field:"date",message:"Match date is more than a year old",severity:"warning"}),{isValid:r.length===0,errors:r,warnings:s}}async editMatch(t,n,r){if(this.db||await this.initialize(),!this.db)throw new Error("Database not initialized");const s=await this.getMatch(t);if(!s)throw new Error(`Match with ID ${t} not found`);const a=await this.getMatchPlayers(t),A={...s,...n},o=a.map(u=>{const f=r.find(c=>c.id===u.id);return f?{...u,...f.updates}:u}),l=this.validateMatchEdit(A,o);if(!l.isValid)throw new Error(`Validation failed: ${l.errors.map(u=>u.message).join(", ")}`);try{await Promise.all([this.updateMatch(t,n),this.updateMatchPlayers(r)]),await this.recalculatePlayerStats(),console.log(`Successfully edited match ${t}`)}catch(u){throw console.error(`Error editing match ${t}:`,u),new Error(`Failed to edit match: ${u.message}`)}}async getEditableMatch(t){try{const n=await this.getMatch(t);if(!n)return null;const r=await this.getMatchPlayers(t),s=await Promise.all(r.map(async a=>{const A=await this.getPlayer(a.playerId);return{...a,playerName:(A==null?void 0:A.name)||"Unknown Player"}}));return{match:n,players:s}}catch(n){return console.error(`Error getting editable match ${t}:`,n),null}}async canEditMatch(t){try{if(!await this.getMatch(t))return{canEdit:!1,reason:"Match not found"};const r=await this.getMatchPlayers(t);if(r.length===0)return{canEdit:!1,reason:"Match has no player data"};for(const s of r)if(!await this.getPlayer(s.playerId))return{canEdit:!1,reason:`Player ${s.playerId} no longer exists`};return{canEdit:!0}}catch(n){return console.error(`Error checking if match ${t} can be edited:`,n),{canEdit:!1,reason:"Error checking match editability"}}}}const ye=new fre,hre=e=>ye.getDisplayRating(e),mre=({strategyTime:e,moveTime:t,gameLength:n,onStrategyTimeChange:r,onMoveTimeChange:s,onGameLengthChange:a,players:A,onAddPlayer:o,onRemovePlayer:l,onDraftHeroes:u,selectedExpansions:f,onToggleExpansion:c,onPlayerNameChange:d,duplicateNames:h,canStartDrafting:m,heroCount:x,maxComplexity:v,onMaxComplexityChange:g,strategyTimerEnabled:p,moveTimerEnabled:y,onStrategyTimerEnabledChange:b,onMoveTimerEnabledChange:C,useDoubleLaneFor6Players:B,onUseDoubleLaneFor6PlayersChange:_,onViewMatches:N})=>{const{playSound:w}=et(),[E,U]=j.useState([]),[I,H]=j.useState({timers:!0,"game-length":!0,complexity:!0,players:!0,names:!0,expansions:!1}),$=GA();j.useEffect(()=>{e!==90&&r(90),t!==30&&s(30),ye.hasMatchData(),(async()=>{try{const Te=(await ye.getAllPlayers()).filter($e=>$e.totalGames>0).map($e=>$e.name).filter(($e,Et,je)=>je.indexOf($e)===Et).sort();U(Te)}catch(le){console.error("Error loading player names:",le)}})()},[]);const K=A.filter(be=>be.team===G.Titans).length,M=A.filter(be=>be.team===G.Atlanteans).length,D=K+M,R=A.filter(be=>be.name.trim()!=="").length===D&&D>0,S=h.length===0,T=D<=6,W=D<10,V=K<5,Y=M<5,se=K>=2&&M>=2,ee=K>0&&M>0&&Math.abs(K-M)<=1&&se,q=D===6&&n===Me.Long,Z=ee&&R&&S&&m,Q=be=>{w("buttonClick"),H({...I,[be]:!I[be]})},O=be=>{W&&(be===G.Titans?V:Y)&&(w("buttonClick"),o(be))},z=be=>{w("toggleSwitch"),be?b(!p):C(!y)},L=be=>{be===Me.Quick&&!T||(w("buttonClick"),a(be))},ue=be=>{w("toggleSwitch"),c(be)},xe=be=>{w("buttonClick"),g(be)},ae=()=>{w("toggleSwitch"),_(!B)},ie=()=>{Z&&(w("buttonClick"),u())},Re=()=>{w("buttonClick"),N()};return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 sm:p-6 mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Game Setup"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl mb-3 cursor-pointer flex items-center",onClick:()=>Q("timers"),children:[i.jsx("span",{className:"mr-2",children:I.timers?"":""}),"Timer Settings"]}),I.timers&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("label",{className:"flex-grow",children:"Strategy Timer"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ke,{text:p?"Disable timer (unlimited time)":"Enable timer (timed phase)",position:"top",children:i.jsx("div",{className:`w-12 h-6 rounded-full flex items-center p-1 cursor-pointer transition-colors ${p?"bg-green-600 justify-end":"bg-gray-600 justify-start"}`,onClick:()=>z(!0),children:i.jsx("div",{className:"bg-white w-4 h-4 rounded-full"})})}),i.jsx("div",{className:"ml-2",children:p?i.jsx(WA,{size:16}):i.jsx(Xd,{size:16})})]})]}),i.jsx("div",{className:p?"":"opacity-50",children:i.jsx(qb,{value:e,onChange:r,tooltip:"This is the amount of time teams will have to publicly discuss what cards to play",minValue:30,maxValue:300,step:10,disabled:!p})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("label",{className:"flex-grow",children:"Action Timer"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ke,{text:y?"Disable timer (unlimited time)":"Enable timer (timed phase)",position:"top",children:i.jsx("div",{className:`w-12 h-6 rounded-full flex items-center p-1 cursor-pointer transition-colors ${y?"bg-green-600 justify-end":"bg-gray-600 justify-start"}`,onClick:()=>z(!1),children:i.jsx("div",{className:"bg-white w-4 h-4 rounded-full"})})}),i.jsx("div",{className:"ml-2",children:y?i.jsx(WA,{size:16}):i.jsx(Xd,{size:16})})]})]}),i.jsx("div",{className:y?"":"opacity-50",children:i.jsx(qb,{value:t,onChange:s,tooltip:"This is the time each player will have to resolve their cards once revealed",minValue:10,maxValue:120,step:10,disabled:!y})})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl mb-3 cursor-pointer flex items-center",onClick:()=>Q("game-length"),children:[i.jsx("span",{className:"mr-2",children:I["game-length"]?"":""}),"Game Length"]}),I["game-length"]&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[i.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"radio",name:"gameLength",value:Me.Quick,checked:n===Me.Quick,onChange:()=>L(Me.Quick),disabled:!T,className:"form-radio h-5 w-5 text-blue-600"}),i.jsxs("span",{className:`ml-2 ${T?"":"text-gray-500"}`,children:["Quick",!T&&i.jsx("span",{className:"ml-2 text-red-400 text-sm",children:"(Max 6 players)"})]})]}),i.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"radio",name:"gameLength",value:Me.Long,checked:n===Me.Long,onChange:()=>L(Me.Long),className:"form-radio h-5 w-5 text-blue-600"}),i.jsx("span",{className:"ml-2",children:"Long"})]})]}),q&&i.jsxs("div",{className:"mt-4 mb-4 bg-blue-900/30 p-3 rounded",children:[i.jsxs("label",{className:"flex items-center cursor-pointer mb-1",children:[i.jsx("input",{type:"checkbox",checked:B,onChange:ae,className:"form-checkbox h-5 w-5 text-blue-600 mr-2"}),i.jsx("span",{className:"font-medium",children:"Use Double Lane Map"})]}),i.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Enable this option to use two lanes (top and bottom) for 6 player games"})]}),i.jsxs("div",{className:"mt-4 bg-gray-700 p-3 rounded-md text-sm",children:[i.jsx("h4",{className:"font-semibold mb-1",children:"Current Configuration:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[i.jsx("li",{children:n===Me.Quick?"3 waves, single lane":D<=5||D===6&&!B?"5 waves, single lane":"7 waves per lane, two lanes"}),i.jsx("li",{children:n===Me.Quick?D<=5?"4 lives per team":"5 lives per team":D===6&&!B?"8 lives per team":D<=8?"6 lives per team":"7 lives per team"}),(D>=7||D===6&&B&&n===Me.Long)&&i.jsx("li",{className:"text-amber-300",children:"Using two separate lanes (top and bottom)"})]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl mb-3 cursor-pointer flex items-center",onClick:()=>Q("complexity"),children:[i.jsx("span",{className:"mr-2",children:I.complexity?"":""}),"Max Complexity"]}),I.complexity&&i.jsx(i.Fragment,{children:i.jsx("div",{className:"flex flex-col gap-3 mb-4",children:[1,2,3,4].map(be=>i.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"radio",name:"complexity",value:be,checked:v===be,onChange:()=>xe(be),className:"form-radio h-5 w-5 text-blue-600"}),i.jsxs("span",{className:"ml-2",children:[be," ",be===1?"(Simplest)":be===4?"(Most Complex)":""]})]},be))})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl mb-3 cursor-pointer flex items-center",onClick:()=>Q("players"),children:[i.jsx("span",{className:"mr-2",children:I.players?"":""}),"Players"]}),I.players&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsxs("span",{children:["Titans: ",K," players"]}),i.jsx("button",{className:`px-3 py-1 rounded text-sm ${W&&V?"bg-blue-700 hover:bg-blue-600":"bg-gray-600 cursor-not-allowed"}`,onClick:()=>O(G.Titans),disabled:!W||!V,children:"Add Player"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Atlanteans: ",M," players"]}),i.jsx("button",{className:`px-3 py-1 rounded text-sm ${W&&Y?"bg-red-700 hover:bg-red-600":"bg-gray-600 cursor-not-allowed"}`,onClick:()=>O(G.Atlanteans),disabled:!W||!Y,children:"Add Player"})]})]}),!W&&i.jsx("div",{className:"text-amber-400 text-sm mt-2",children:"Maximum 10 players allowed"}),!V&&K>=5&&i.jsx("div",{className:"text-amber-400 text-sm mt-2",children:"Maximum 5 Titans players allowed"}),!Y&&M>=5&&i.jsx("div",{className:"text-amber-400 text-sm mt-2",children:"Maximum 5 Atlanteans players allowed"}),K!==M&&i.jsx("div",{className:`text-amber-400 text-sm mt-2 ${Math.abs(K-M)>1?"text-red-400":""}`,children:Math.abs(K-M)>1?"Teams must have equal player counts or differ by only 1 player":"Teams are uneven. The team with more players will need to use handicap cards."}),D>0&&!se&&i.jsx("div",{className:"text-amber-400 text-sm mt-2",children:"Each team must have at least 2 players"}),D>0&&!R&&i.jsx("div",{className:"text-amber-400 text-sm mt-2",children:"All players must enter their names"}),h.length>0&&i.jsxs("div",{className:"text-red-400 text-sm mt-2",children:["Duplicate names found: ",h.join(", ")]}),D>0&&!m&&i.jsxs("div",{className:"text-red-400 text-sm mt-2",children:["Not enough heroes (",x,") for ",D," players. Select more expansions or increase complexity."]}),K>0&&K===M&&R&&se&&h.length===0&&i.jsxs("div",{className:"text-emerald-400 text-sm mt-2",children:["Teams are balanced with ",K," players each"]}),K>0&&M>0&&K!==M&&Math.abs(K-M)===1&&R&&se&&h.length===0&&i.jsxs("div",{className:"text-emerald-400 text-sm mt-2",children:["Teams are valid: ",K," Titans vs ",M," Atlanteans"]})]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-xl mb-3 cursor-pointer flex items-center",onClick:()=>Q("expansions"),children:[i.jsx("span",{className:"mr-2",children:I.expansions?"":""}),"Expansions"]}),I.expansions&&i.jsx(i.Fragment,{children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:$.map(be=>i.jsxs("label",{className:"flex items-center bg-gray-700 p-3 rounded-lg cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:f.includes(be),onChange:()=>ue(be),className:"mr-2 h-5 w-5"}),i.jsx("span",{children:be})]},be))})})]}),A.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-xl mb-3 cursor-pointer flex items-center",onClick:()=>Q("names"),children:[i.jsx("span",{className:"mr-2",children:I.names?"":""}),"Player Names"]}),I.names&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(be=>{const le=be.name.trim()!==""&&h.includes(be.name.trim());return i.jsx(K4,{player:be,onNameChange:Te=>d(be.id,Te),onRemove:()=>{w("buttonClick"),l(be.id)},isDuplicate:le,suggestedNames:E},be.id)})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[i.jsx("div",{className:"relative",children:i.jsx(ke,{text:"View match statistics and player records",position:"top",disableMobileTooltip:!0,children:i.jsx("button",{className:"px-6 py-3 rounded-lg font-medium text-white bg-green-600 hover:bg-green-500",onClick:Re,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(VU,{size:20,className:"mr-2"}),"View Matches"]})})})}),i.jsx("div",{className:"relative",children:i.jsx(ke,{text:"Click to select heroes for each player and start the game.",position:"top",disableMobileTooltip:!0,children:i.jsx("button",{className:`px-6 py-3 rounded-lg font-medium text-white ${Z?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 cursor-not-allowed"}`,onClick:ie,disabled:!Z,children:"Draft Heroes"})})})]}),i.jsx("div",{className:"text-sm text-center w-full mt-4",children:i.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[i.jsxs("span",{className:"text-blue-300",children:["Available heroes: ",x]}),D>0&&i.jsx("span",{className:"text-yellow-300",children:m?" Enough heroes for drafting":" Not enough heroes for drafting"})]})}),i.jsx("p",{className:"mt-4 text-xs text-gray-300 text-center mb-2",children:"Disclaimer: This is not a professional product and it is always recommended you back up your data (View Matches>Export Data). This is not an official product and has not been approved by Wolff Designa. All game content is the sole property of Wolff Designa."})]})},gre={kills:!1,deaths:!1,assists:!1,goldEarned:!1,minionKills:!1,level:!1},Nj=({players:e,onComplete:t,isVisible:n})=>{const{playSound:r}=et(),[s,a]=j.useState(!1),[A,o]=j.useState(gre),[l,u]=j.useState({}),[f,c]=j.useState(0),[d,h]=j.useState({minionBattle:!1,pushLane:!1,removeTokens:!1,retrieveCards:!1,levelUp:!1,pityCoins:!1});j.useEffect(()=>{if(n){const w={};e.forEach(E=>{var U;w[E.id]={goldCollected:0,kills:0,assists:0,deaths:0,minionKills:0,level:((U=E.stats)==null?void 0:U.level)||1}}),u(w),h({minionBattle:!1,pushLane:!1,removeTokens:!1,retrieveCards:!1,levelUp:!1,pityCoins:!1}),c(0),r("phaseChange")}},[e,n,r]);const m=(w,E,U)=>{r("buttonClick"),u(I=>{var K;const H=((K=I[w])==null?void 0:K[E])||0;if(E==="level"){const M=Math.max(1,Math.min(10,H+U));return{...I,[w]:{...I[w],[E]:M}}}const $=Math.max(0,H+U);return{...I,[w]:{...I[w],[E]:$}}})},x=w=>{r("buttonClick"),h(E=>({...E,[w]:!E[w]}))},v=(w,E)=>{r("toggleSwitch"),o(U=>({...U,[w]:E}))},g=()=>{r("phaseChange"),h({minionBattle:!0,pushLane:!0,removeTokens:!0,retrieveCards:!0,levelUp:!0,pityCoins:!0})},p=()=>{if(r("phaseChange"),s){const w={};Object.entries(l).forEach(([E,U])=>{const I=parseInt(E),H={goldCollected:A.goldEarned?U.goldCollected:void 0,kills:A.kills?U.kills:void 0,assists:A.assists?U.assists:void 0,deaths:A.deaths?U.deaths:void 0,minionKills:A.minionKills?U.minionKills:void 0,level:A.level?U.level:void 0};w[I]=H}),t(w)}else t()},y=w=>{r("buttonClick"),m(w,"kills",1);const E=e.find(U=>U.id===w);E&&e.forEach(U=>{U.id!==w&&U.team===E.team&&m(U.id,"assists",1)})},b=w=>{r("buttonClick"),c(w)},C=[{tab:0,enabled:A.kills,icon:i.jsx(vn,{size:16}),label:"Kills"},{tab:1,enabled:A.deaths,icon:i.jsx(ca,{size:16}),label:"Deaths"},{tab:2,enabled:A.minionKills,icon:i.jsx(lA,{size:16}),label:"Minions"},{tab:3,enabled:A.goldEarned,icon:i.jsx(Qr,{size:16}),label:"Gold"},{tab:4,enabled:A.level,icon:i.jsx(At,{size:16}),label:"Level"}].filter(w=>w.enabled);if(j.useEffect(()=>{s&&C.length>0&&!C.find(w=>w.tab===f)&&c(C[0].tab)},[A,f,C,s]),!n)return null;const B=Object.values(d).every(w=>w),_=e.filter(w=>w.team===G.Titans),N=e.filter(w=>w.team===G.Atlanteans);return i.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"End of Round Assistant"}),i.jsx("button",{onClick:()=>t(),className:"p-1 bg-gray-700 hover:bg-gray-600 rounded-full","aria-label":"Close",children:i.jsx(zs,{size:24})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"End of Round Checklist"}),i.jsxs("button",{onClick:g,className:"px-4 py-1 bg-green-600 hover:bg-green-500 rounded-lg flex items-center text-sm",children:[i.jsx(GT,{size:16,className:"mr-2"}),"Check All Items"]})]}),i.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg space-y-3",children:[i.jsxs("div",{className:`flex items-start p-3 rounded cursor-pointer ${d.minionBattle?"bg-blue-900/30":"hover:bg-gray-600/50"}`,onClick:()=>x("minionBattle"),children:[i.jsx("div",{className:`flex-shrink-0 rounded-full w-6 h-6 flex items-center justify-center mr-3 ${d.minionBattle?"bg-green-600":"bg-gray-600"}`,children:d.minionBattle?i.jsx(qa,{size:16}):i.jsx("span",{children:"1"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Minion Battle"}),i.jsx("p",{className:"text-sm text-gray-300",children:"Count minions in Battle Zone. Team with fewer minions removes the difference."})]})]}),i.jsxs("div",{className:`flex items-start p-3 rounded cursor-pointer ${d.pushLane?"bg-blue-900/30":"hover:bg-gray-600/50"}`,onClick:()=>x("pushLane"),children:[i.jsx("div",{className:`flex-shrink-0 rounded-full w-6 h-6 flex items-center justify-center mr-3 ${d.pushLane?"bg-green-600":"bg-gray-600"}`,children:d.pushLane?i.jsx(qa,{size:16}):i.jsx("span",{children:"2"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:["Push the Lane ",i.jsx("span",{className:"text-gray-400 font-normal",children:"(if applicable)"})]}),i.jsx("p",{className:"text-sm text-gray-300",children:"Flip Wave counter, move Battle Zone, respawn minions."})]})]}),i.jsxs("div",{className:`flex items-start p-3 rounded cursor-pointer ${d.removeTokens?"bg-blue-900/30":"hover:bg-gray-600/50"}`,onClick:()=>x("removeTokens"),children:[i.jsx("div",{className:`flex-shrink-0 rounded-full w-6 h-6 flex items-center justify-center mr-3 ${d.removeTokens?"bg-green-600":"bg-gray-600"}`,children:d.removeTokens?i.jsx(qa,{size:16}):i.jsx("span",{children:"3"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Remove Tokens, Return Markers"}),i.jsx("p",{className:"text-sm text-gray-300",children:"Clear the board of all tokens and return markers."})]})]}),i.jsxs("div",{className:`flex items-start p-3 rounded cursor-pointer ${d.retrieveCards?"bg-blue-900/30":"hover:bg-gray-600/50"}`,onClick:()=>x("retrieveCards"),children:[i.jsx("div",{className:`flex-shrink-0 rounded-full w-6 h-6 flex items-center justify-center mr-3 ${d.retrieveCards?"bg-green-600":"bg-gray-600"}`,children:d.retrieveCards?i.jsx(qa,{size:16}):i.jsx("span",{children:"4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Retrieve Cards"}),i.jsx("p",{className:"text-sm text-gray-300",children:"Take back all resolved and discarded cards into hand."})]})]}),i.jsxs("div",{className:`flex items-start p-3 rounded cursor-pointer ${d.levelUp?"bg-blue-900/30":"hover:bg-gray-600/50"}`,onClick:()=>x("levelUp"),children:[i.jsx("div",{className:`flex-shrink-0 rounded-full w-6 h-6 flex items-center justify-center mr-3 ${d.levelUp?"bg-green-600":"bg-gray-600"}`,children:d.levelUp?i.jsx(qa,{size:16}):i.jsx("span",{children:"5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Level Up"}),i.jsx("p",{className:"text-sm text-gray-300",children:"If you have enough coins, purchase level up(s). This is mandatory!"})]})]}),i.jsxs("div",{className:`flex items-start p-3 rounded cursor-pointer ${d.pityCoins?"bg-blue-900/30":"hover:bg-gray-600/50"}`,onClick:()=>x("pityCoins"),children:[i.jsx("div",{className:`flex-shrink-0 rounded-full w-6 h-6 flex items-center justify-center mr-3 ${d.pityCoins?"bg-green-600":"bg-gray-600"}`,children:d.pityCoins?i.jsx(qa,{size:16}):i.jsx("span",{children:"6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Collect Pity Coin"}),i.jsx("p",{className:"text-sm text-gray-300",children:"Players who did NOT level up collect 1 coin."})]})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("input",{type:"checkbox",id:"enableLogging",checked:s,onChange:w=>{r("toggleSwitch"),a(w.target.checked)},className:"mr-3 h-5 w-5"}),i.jsx("label",{htmlFor:"enableLogging",className:"text-xl font-medium",children:"Log Player Stats (Optional)"})]}),s&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-300 italic",children:"Enter stats for this round only. You only need to enter the stats you are interested in tracking."}),i.jsxs("div",{className:"mb-4 p-3 bg-gray-700/50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-3 text-gray-300",children:"Select Stats to Track"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[i.jsx(Yi,{icon:i.jsx(vn,{size:16}),label:"Kills",enabled:A.kills,onChange:w=>v("kills",w)}),i.jsx(Yi,{icon:i.jsx(ca,{size:16}),label:"Deaths",enabled:A.deaths,onChange:w=>v("deaths",w)}),i.jsx(Yi,{icon:i.jsx(st,{size:16}),label:"Assists",enabled:A.assists,onChange:w=>v("assists",w)}),i.jsx(Yi,{icon:i.jsx(Qr,{size:16}),label:"Gold Earned",enabled:A.goldEarned,onChange:w=>v("goldEarned",w)}),i.jsx(Yi,{icon:i.jsx(lA,{size:16}),label:"Minion Kills",enabled:A.minionKills,onChange:w=>v("minionKills",w)}),i.jsx(Yi,{icon:i.jsx(At,{size:16}),label:"Level",enabled:A.level,onChange:w=>v("level",w)})]})]}),C.length>0?i.jsx("div",{className:"flex border-b border-gray-700 flex-wrap",children:C.map(w=>i.jsxs("button",{className:`px-4 py-2 flex items-center ${f===w.tab?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-white"}`,onClick:()=>b(w.tab),children:[w.icon," ",i.jsx("span",{className:"ml-2",children:w.label})]},w.tab))}):i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx("p",{className:"mb-2",children:"No stats selected for tracking"}),i.jsx("p",{className:"text-sm",children:"Enable stat categories above to begin tracking data"})]}),i.jsxs("div",{className:"mt-4",children:[f===0&&i.jsxs("div",{children:[i.jsx("div",{className:"mb-4 text-sm text-gray-300",children:i.jsx("p",{children:"When a player gets a kill, their teammates automatically receive an assist. Click on the player who got the kill."})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-900/30 border border-blue-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-blue-500"}),"Titans"]}),i.jsx("div",{className:"space-y-2",children:_.map(w=>{var E,U,I,H,$;return i.jsxs("div",{className:"flex justify-between items-center bg-blue-900/40 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden mr-2",children:w.hero&&i.jsx("img",{src:w.hero.icon,alt:w.hero.name,className:"w-full h-full object-cover",onError:K=>{const M=K.target;M.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium flex items-center",children:[w.name,i.jsx(yi,{size:14,className:"ml-1 text-yellow-500"}),((E=w.hero)==null?void 0:E.complexity)||1,((U=w.stats)==null?void 0:U.level)&&i.jsxs("span",{className:"ml-1 flex items-center",children:[i.jsx(At,{size:14,className:"text-blue-300"})," ",w.stats.level]})]}),i.jsxs("div",{className:"text-xs flex space-x-2",children:[i.jsxs("span",{className:"flex items-center",title:"Kills",children:[i.jsx(vn,{size:12,className:"mr-1"}),((I=l[w.id])==null?void 0:I.kills)||0]}),i.jsxs("span",{className:"flex items-center",title:"Assists",children:[i.jsx(st,{size:12,className:"mr-1"}),((H=l[w.id])==null?void 0:H.assists)||0]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{className:"bg-blue-700 hover:bg-blue-600 px-3 py-1 rounded text-sm",onClick:()=>y(w.id),children:"Got Kill"}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"kills",-1),disabled:!(($=l[w.id])!=null&&$.kills),children:i.jsx(Gr,{size:16})})]})]},w.id)})})]}),i.jsxs("div",{className:"bg-red-900/30 border border-red-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-red-500"}),"Atlanteans"]}),i.jsx("div",{className:"space-y-2",children:N.map(w=>{var E,U,I,H,$;return i.jsxs("div",{className:"flex justify-between items-center bg-red-900/40 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden mr-2",children:w.hero&&i.jsx("img",{src:w.hero.icon,alt:w.hero.name,className:"w-full h-full object-cover",onError:K=>{const M=K.target;M.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium flex items-center",children:[w.name,i.jsx(yi,{size:14,className:"ml-1 text-yellow-500"}),((E=w.hero)==null?void 0:E.complexity)||1,((U=w.stats)==null?void 0:U.level)&&i.jsxs("span",{className:"ml-1 flex items-center",children:[i.jsx(At,{size:14,className:"text-red-300"})," ",w.stats.level]})]}),i.jsxs("div",{className:"text-xs flex space-x-2",children:[i.jsxs("span",{className:"flex items-center",title:"Kills",children:[i.jsx(vn,{size:12,className:"mr-1"}),((I=l[w.id])==null?void 0:I.kills)||0]}),i.jsxs("span",{className:"flex items-center",title:"Assists",children:[i.jsx(st,{size:12,className:"mr-1"}),((H=l[w.id])==null?void 0:H.assists)||0]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{className:"bg-red-700 hover:bg-red-600 px-3 py-1 rounded text-sm",onClick:()=>y(w.id),children:"Got Kill"}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"kills",-1),disabled:!(($=l[w.id])!=null&&$.kills),children:i.jsx(Gr,{size:16})})]})]},w.id)})})]})]})]}),f===1&&i.jsxs("div",{children:[i.jsx("div",{className:"mb-4 text-sm text-gray-300",children:i.jsx("p",{children:"Record player deaths."})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-900/30 border border-blue-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-blue-500"}),"Titans"]}),i.jsx("div",{className:"space-y-2",children:_.map(w=>{var E,U,I;return i.jsxs("div",{className:"flex justify-between items-center bg-blue-900/40 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden mr-2",children:w.hero&&i.jsx("img",{src:w.hero.icon,alt:w.hero.name,className:"w-full h-full object-cover",onError:H=>{const $=H.target;$.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium flex items-center",children:w.name}),i.jsx("div",{className:"text-xs flex items-center",children:i.jsxs("span",{className:"flex items-center",title:"Deaths",children:[i.jsx(ca,{size:12,className:"mr-1"}),((E=l[w.id])==null?void 0:E.deaths)||0]})})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"deaths",-1),disabled:!((U=l[w.id])!=null&&U.deaths),children:i.jsx(Gr,{size:16})}),i.jsx("div",{className:"w-8 text-center font-bold",children:((I=l[w.id])==null?void 0:I.deaths)||0}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"deaths",1),children:i.jsx(Zs,{size:16})})]})]},w.id)})})]}),i.jsxs("div",{className:"bg-red-900/30 border border-red-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-red-500"}),"Atlanteans"]}),i.jsx("div",{className:"space-y-2",children:N.map(w=>{var E,U,I;return i.jsxs("div",{className:"flex justify-between items-center bg-red-900/40 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden mr-2",children:w.hero&&i.jsx("img",{src:w.hero.icon,alt:w.hero.name,className:"w-full h-full object-cover",onError:H=>{const $=H.target;$.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium flex items-center",children:w.name}),i.jsx("div",{className:"text-xs flex items-center",children:i.jsxs("span",{className:"flex items-center",title:"Deaths",children:[i.jsx(ca,{size:12,className:"mr-1"}),((E=l[w.id])==null?void 0:E.deaths)||0]})})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"deaths",-1),disabled:!((U=l[w.id])!=null&&U.deaths),children:i.jsx(Gr,{size:16})}),i.jsx("div",{className:"w-8 text-center font-bold",children:((I=l[w.id])==null?void 0:I.deaths)||0}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"deaths",1),children:i.jsx(Zs,{size:16})})]})]},w.id)})})]})]})]}),f===2&&i.jsxs("div",{children:[i.jsx("div",{className:"mb-4 text-sm text-gray-300",children:i.jsx("p",{children:"Record minion kills."})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-900/30 border border-blue-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-blue-500"}),"Titans"]}),i.jsx("div",{className:"space-y-2",children:_.map(w=>{var E,U,I;return i.jsxs("div",{className:"flex justify-between items-center bg-blue-900/40 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden mr-2",children:w.hero&&i.jsx("img",{src:w.hero.icon,alt:w.hero.name,className:"w-full h-full object-cover",onError:H=>{const $=H.target;$.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium flex items-center",children:w.name}),i.jsx("div",{className:"text-xs flex items-center",children:i.jsxs("span",{className:"flex items-center",title:"Minion Kills",children:[i.jsx(lA,{size:12,className:"mr-1"}),((E=l[w.id])==null?void 0:E.minionKills)||0]})})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"minionKills",-1),disabled:!((U=l[w.id])!=null&&U.minionKills),children:i.jsx(Gr,{size:16})}),i.jsx("div",{className:"w-8 text-center font-bold",children:((I=l[w.id])==null?void 0:I.minionKills)||0}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"minionKills",1),children:i.jsx(Zs,{size:16})})]})]},w.id)})})]}),i.jsxs("div",{className:"bg-red-900/30 border border-red-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-red-500"}),"Atlanteans"]}),i.jsx("div",{className:"space-y-2",children:N.map(w=>{var E,U,I;return i.jsxs("div",{className:"flex justify-between items-center bg-red-900/40 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden mr-2",children:w.hero&&i.jsx("img",{src:w.hero.icon,alt:w.hero.name,className:"w-full h-full object-cover",onError:H=>{const $=H.target;$.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium flex items-center",children:w.name}),i.jsx("div",{className:"text-xs flex items-center",children:i.jsxs("span",{className:"flex items-center",title:"Minion Kills",children:[i.jsx(lA,{size:12,className:"mr-1"}),((E=l[w.id])==null?void 0:E.minionKills)||0]})})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"minionKills",-1),disabled:!((U=l[w.id])!=null&&U.minionKills),children:i.jsx(Gr,{size:16})}),i.jsx("div",{className:"w-8 text-center font-bold",children:((I=l[w.id])==null?void 0:I.minionKills)||0}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"minionKills",1),children:i.jsx(Zs,{size:16})})]})]},w.id)})})]})]})]}),f===3&&i.jsxs("div",{children:[i.jsx("div",{className:"mb-4 text-sm text-gray-300",children:i.jsx("p",{children:"Record gold collected this round (before spending on level-ups and including pity coins)."})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-900/30 border border-blue-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-blue-500"}),"Titans"]}),i.jsx("div",{className:"space-y-2",children:_.map(w=>{var E,U,I;return i.jsxs("div",{className:"flex justify-between items-center bg-blue-900/40 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden mr-2",children:w.hero&&i.jsx("img",{src:w.hero.icon,alt:w.hero.name,className:"w-full h-full object-cover",onError:H=>{const $=H.target;$.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium flex items-center",children:w.name}),i.jsx("div",{className:"text-xs flex items-center",children:i.jsxs("span",{className:"flex items-center",title:"Gold Collected",children:[i.jsx(Qr,{size:12,className:"mr-1"}),((E=l[w.id])==null?void 0:E.goldCollected)||0]})})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"goldCollected",-1),disabled:!((U=l[w.id])!=null&&U.goldCollected),children:i.jsx(Gr,{size:16})}),i.jsx("div",{className:"w-8 text-center font-bold",children:((I=l[w.id])==null?void 0:I.goldCollected)||0}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"goldCollected",1),children:i.jsx(Zs,{size:16})})]})]},w.id)})})]}),i.jsxs("div",{className:"bg-red-900/30 border border-red-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-red-500"}),"Atlanteans"]}),i.jsx("div",{className:"space-y-2",children:N.map(w=>{var E,U,I;return i.jsxs("div",{className:"flex justify-between items-center bg-red-900/40 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden mr-2",children:w.hero&&i.jsx("img",{src:w.hero.icon,alt:w.hero.name,className:"w-full h-full object-cover",onError:H=>{const $=H.target;$.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium flex items-center",children:w.name}),i.jsx("div",{className:"text-xs flex items-center",children:i.jsxs("span",{className:"flex items-center",title:"Gold Collected",children:[i.jsx(Qr,{size:12,className:"mr-1"}),((E=l[w.id])==null?void 0:E.goldCollected)||0]})})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"goldCollected",-1),disabled:!((U=l[w.id])!=null&&U.goldCollected),children:i.jsx(Gr,{size:16})}),i.jsx("div",{className:"w-8 text-center font-bold",children:((I=l[w.id])==null?void 0:I.goldCollected)||0}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"goldCollected",1),children:i.jsx(Zs,{size:16})})]})]},w.id)})})]})]})]}),f===4&&i.jsxs("div",{children:[i.jsx("div",{className:"mb-4 text-sm text-gray-300",children:i.jsx("p",{children:"Record player level after purchasing any level ups with gold."})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-900/30 border border-blue-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-blue-500"}),"Titans"]}),i.jsx("div",{className:"space-y-2",children:_.map(w=>{var E,U,I,H;return i.jsxs("div",{className:"flex justify-between items-center bg-blue-900/40 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden mr-2",children:w.hero&&i.jsx("img",{src:w.hero.icon,alt:w.hero.name,className:"w-full h-full object-cover",onError:$=>{const K=$.target;K.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium flex items-center",children:w.name}),i.jsx("div",{className:"text-xs flex items-center",children:i.jsxs("span",{className:"flex items-center",title:"Player Level",children:[i.jsx(At,{size:14,className:"mr-1 text-blue-300"}),"Current Level: ",((E=w.stats)==null?void 0:E.level)||1]})})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"level",-1),disabled:((U=l[w.id])==null?void 0:U.level)===1,children:i.jsx(Gr,{size:16})}),i.jsx("div",{className:"w-8 text-center font-bold",children:((I=l[w.id])==null?void 0:I.level)||1}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"level",1),disabled:((H=l[w.id])==null?void 0:H.level)===10,children:i.jsx(Zs,{size:16})})]})]},w.id)})})]}),i.jsxs("div",{className:"bg-red-900/30 border border-red-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-red-500"}),"Atlanteans"]}),i.jsx("div",{className:"space-y-2",children:N.map(w=>{var E,U,I,H;return i.jsxs("div",{className:"flex justify-between items-center bg-red-900/40 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full overflow-hidden mr-2",children:w.hero&&i.jsx("img",{src:w.hero.icon,alt:w.hero.name,className:"w-full h-full object-cover",onError:$=>{const K=$.target;K.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium flex items-center",children:w.name}),i.jsx("div",{className:"text-xs flex items-center",children:i.jsxs("span",{className:"flex items-center",title:"Player Level",children:[i.jsx(At,{size:14,className:"mr-1 text-red-300"}),"Current Level: ",((E=w.stats)==null?void 0:E.level)||1]})})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"level",-1),disabled:((U=l[w.id])==null?void 0:U.level)===1,children:i.jsx(Gr,{size:16})}),i.jsx("div",{className:"w-8 text-center font-bold",children:((I=l[w.id])==null?void 0:I.level)||1}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 p-1 rounded",onClick:()=>m(w.id,"level",1),disabled:((H=l[w.id])==null?void 0:H.level)===10,children:i.jsx(Zs,{size:16})})]})]},w.id)})})]})]})]}),C.length>1&&i.jsxs("div",{className:"flex justify-between mt-4",children:[i.jsxs("button",{className:"flex items-center px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded",onClick:()=>{const w=C.findIndex(U=>U.tab===f),E=Math.max(0,w-1);b(C[E].tab)},disabled:C.findIndex(w=>w.tab===f)===0,children:[i.jsx(bn,{size:16,className:"mr-1"})," Previous"]}),i.jsxs("button",{className:"flex items-center px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded",onClick:()=>{const w=C.findIndex(U=>U.tab===f),E=Math.min(C.length-1,w+1);b(C[E].tab)},disabled:C.findIndex(w=>w.tab===f)===C.length-1,children:["Next ",i.jsx(Vd,{size:16,className:"ml-1"})]})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-700/50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Stats Being Tracked This Round"}),Object.values(A).some(Boolean)?i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[A.kills&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center text-blue-300",children:[i.jsx(vn,{size:16,className:"mr-2"})," Total Kills"]}),i.jsx("div",{className:"text-xl",children:Object.values(l).reduce((w,E)=>w+(E.kills||0),0)})]}),A.deaths&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center text-red-300",children:[i.jsx(ca,{size:16,className:"mr-2"})," Total Deaths"]}),i.jsx("div",{className:"text-xl",children:Object.values(l).reduce((w,E)=>w+(E.deaths||0),0)})]}),A.assists&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center text-purple-300",children:[i.jsx(st,{size:16,className:"mr-2"})," Total Assists"]}),i.jsx("div",{className:"text-xl",children:Object.values(l).reduce((w,E)=>w+(E.assists||0),0)})]}),A.goldEarned&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center text-yellow-300",children:[i.jsx(Qr,{size:16,className:"mr-2"})," Gold Collected"]}),i.jsx("div",{className:"text-xl",children:Object.values(l).reduce((w,E)=>w+(E.goldCollected||0),0)})]}),A.minionKills&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center text-green-300",children:[i.jsx(lA,{size:16,className:"mr-2"})," Minion Kills"]}),i.jsx("div",{className:"text-xl",children:Object.values(l).reduce((w,E)=>w+(E.minionKills||0),0)})]}),A.level&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center text-indigo-300",children:[i.jsx(At,{size:16,className:"mr-2"})," Levels"]}),i.jsx("div",{className:"text-sm",children:e.map(w=>{var E;return`${w.name}: ${((E=l[w.id])==null?void 0:E.level)||1}`}).join(", ")})]})]}):i.jsxs("div",{className:"text-center py-4 text-gray-400",children:[i.jsx("p",{children:"No statistics will be tracked this round."}),i.jsx("p",{className:"text-sm",children:"Enable stat categories above to begin tracking."})]})]})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:`text-${B?"green":"yellow"}-400 font-medium`,children:B?"All steps completed!":"Please complete all steps"}),i.jsx("button",{onClick:p,className:`px-6 py-3 rounded-lg text-white font-medium ${B?"bg-green-600 hover:bg-green-500":"bg-blue-600 hover:bg-blue-500"}`,children:s?"Save Stats & Continue":"Continue"})]})]})})},Yi=({icon:e,label:t,enabled:n,onChange:r})=>i.jsxs("div",{className:`flex items-center p-2 rounded cursor-pointer transition-colors ${n?"bg-blue-900/30 border border-blue-500/50":"bg-gray-600 border border-gray-500"}`,onClick:()=>r(!n),children:[i.jsx("div",{className:`mr-2 ${n?"text-blue-400":"text-gray-400"}`,children:e}),i.jsx("span",{className:`text-sm flex-grow ${n?"text-blue-200":"text-gray-400"}`,children:t}),i.jsx("div",{className:"ml-auto",children:i.jsx("div",{className:`w-4 h-4 rounded-full ${n?"bg-blue-500":"bg-gray-500"}`})})]}),pre=({gameState:e,players:t,strategyTimeRemaining:n,moveTimeRemaining:r,strategyTimerActive:s,moveTimerActive:a,onStartStrategyTimer:A,onPauseStrategyTimer:o,onResetStrategyTimer:l,onEndStrategyPhase:u,onStartMoveTimer:f,onPauseMoveTimer:c,onResetMoveTimer:d,onSelectPlayer:h,onCompletePlayerTurn:m,onStartNextTurn:x,onAdjustTeamLife:v,onIncrementWave:g,onDecrementWave:p,onAdjustRound:y,onAdjustTurn:b,onDeclareVictory:C,onFlipCoin:B,strategyTimerEnabled:_,moveTimerEnabled:N,onSavePlayerStats:w})=>{var L,ue,xe,ae,ie,Re,be;const{playSound:E}=et(),[U,I]=j.useState(!1),H=le=>{const Te=Math.floor(le/60),$e=le%60;return`${Te}:${$e.toString().padStart(2,"0")}`},$=e.activeHeroIndex>=0?t[e.activeHeroIndex]:null;j.useEffect(()=>{s&&_&&(n===10&&E("timerWarning"),n>0&&E("timerTick"))},[n,s,_,E]),j.useEffect(()=>{a&&N&&(r===10&&E("timerWarning"),r>0&&E("timerTick"))},[r,a,N,E]);const K=()=>t.some(le=>le.stats&&((le.stats.totalKills??0)>0||(le.stats.totalAssists??0)>0||(le.stats.totalDeaths??0)>0||(le.stats.totalMinionKills??0)>0||(le.stats.totalGoldEarned??0)>0||le.stats.level!==void 0)),M=le=>t.some(Te=>Te.stats&&(le==="level"?Te.stats[le]!==void 0:(Te.stats[le]??0)>0)),D=()=>{E("buttonClick")},k=()=>{E("buttonClick"),A()},R=()=>{E("buttonClick"),o()},S=()=>{E("phaseChange"),u()},T=()=>{E("buttonClick"),f()},W=()=>{E("buttonClick"),c()},V=()=>{E("buttonClick"),l()},Y=()=>{E("buttonClick"),d()},se=()=>{E("turnComplete"),m()},ee=()=>{e.turn===4?I(!0):(E("turnStart"),x())},q=le=>{le&&w&&w(le),I(!1),E("turnStart"),x()},Z=le=>{E("victory"),C(le)},Q=()=>{E("coinFlip"),B()},O=(le,Te)=>{E("lifeChange"),v(le,Te)};return i.jsxs("div",{className:"game-timer",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-blue-900/50 rounded-lg p-4 text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:"Titans Lives"}),i.jsxs("div",{className:"flex justify-center items-center gap-4",children:[i.jsx("button",{className:"bg-blue-700 hover:bg-blue-600 rounded-full w-10 h-10 flex items-center justify-center text-2xl font-bold",onClick:()=>O(G.Titans,-1),children:"-"}),i.jsx("span",{className:"text-4xl font-bold",children:e.teamLives[G.Titans]}),i.jsx("button",{className:"bg-blue-700 hover:bg-blue-600 rounded-full w-10 h-10 flex items-center justify-center text-2xl font-bold",onClick:()=>O(G.Titans,1),children:"+"})]}),i.jsxs("button",{className:"mt-4 w-full bg-blue-700 hover:bg-blue-600 rounded-lg py-2 px-4 flex items-center justify-center",onClick:()=>Z(G.Titans),children:[i.jsx(Yl,{size:18,className:"mr-2"}),i.jsx("span",{children:"Declare Titan Victory"})]})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 text-center",children:[i.jsxs("div",{className:"flex justify-between mb-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-sm text-gray-400 mb-1",children:"Round"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 rounded-full w-7 h-7 flex items-center justify-center mr-2",onClick:()=>{D(),y(-1)},children:i.jsx(la,{size:14})}),i.jsx("div",{className:"text-2xl font-bold",children:e.round}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 rounded-full w-7 h-7 flex items-center justify-center ml-2",onClick:()=>{D(),y(1)},children:i.jsx(_s,{size:14})})]})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-sm text-gray-400 mb-1",children:"Turn"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 rounded-full w-7 h-7 flex items-center justify-center mr-2",onClick:()=>{D(),b(-1)},children:i.jsx(la,{size:14})}),i.jsxs("div",{className:"text-2xl font-bold",children:[e.turn,"/4"]}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 rounded-full w-7 h-7 flex items-center justify-center ml-2",onClick:()=>{D(),b(1)},children:i.jsx(_s,{size:14})})]})]}),!e.hasMultipleLanes&&i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-sm text-gray-400 mb-1",children:"Wave"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 rounded-full w-7 h-7 flex items-center justify-center mr-2",onClick:()=>{D(),p(Ne.Single)},disabled:!e.waves[Ne.Single]||e.waves[Ne.Single].currentWave<=1,children:i.jsx(la,{size:14})}),i.jsxs("div",{className:"text-2xl font-bold",children:[((L=e.waves[Ne.Single])==null?void 0:L.currentWave)||1,"/",((ue=e.waves[Ne.Single])==null?void 0:ue.totalWaves)||3]}),i.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 rounded-full w-7 h-7 flex items-center justify-center ml-2",onClick:()=>{D(),g(Ne.Single)},disabled:!e.waves[Ne.Single]||e.waves[Ne.Single].currentWave>=e.waves[Ne.Single].totalWaves,children:i.jsx(_s,{size:14})})]})]})]}),i.jsx("div",{className:"mt-2 mb-4",children:i.jsxs("span",{className:"px-3 py-1 rounded-full bg-gray-700 text-sm",children:[e.currentPhase==="strategy"&&"Strategy Phase",e.currentPhase==="move"&&"Action Phase",e.currentPhase==="turn-end"&&"Turn Complete"]})}),e.hasMultipleLanes&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[i.jsx("h4",{className:"text-lg font-bold mb-2",children:"Wave Counters"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative bg-gray-700/50 p-2 rounded",children:[i.jsx("span",{className:"text-sm text-gray-300",children:"Top Lane"}),i.jsxs("div",{className:"flex items-center justify-center mt-1",children:[i.jsx("button",{className:"bg-gray-600 hover:bg-gray-500 rounded-full w-6 h-6 flex items-center justify-center mr-2",onClick:()=>{D(),p(Ne.Top)},disabled:!e.waves[Ne.Top]||e.waves[Ne.Top].currentWave<=1,children:i.jsx(la,{size:12})}),i.jsxs("div",{className:"text-xl font-bold",children:[((xe=e.waves[Ne.Top])==null?void 0:xe.currentWave)||1,"/",((ae=e.waves[Ne.Top])==null?void 0:ae.totalWaves)||7]}),i.jsx("button",{className:"bg-gray-600 hover:bg-gray-500 rounded-full w-6 h-6 flex items-center justify-center ml-2",onClick:()=>{D(),g(Ne.Top)},disabled:!e.waves[Ne.Top]||e.waves[Ne.Top].currentWave>=e.waves[Ne.Top].totalWaves,children:i.jsx(_s,{size:12})})]})]}),i.jsxs("div",{className:"relative bg-gray-700/50 p-2 rounded",children:[i.jsx("span",{className:"text-sm text-gray-300",children:"Bottom Lane"}),i.jsxs("div",{className:"flex items-center justify-center mt-1",children:[i.jsx("button",{className:"bg-gray-600 hover:bg-gray-500 rounded-full w-6 h-6 flex items-center justify-center mr-2",onClick:()=>{D(),p(Ne.Bottom)},disabled:!e.waves[Ne.Bottom]||e.waves[Ne.Bottom].currentWave<=1,children:i.jsx(la,{size:12})}),i.jsxs("div",{className:"text-xl font-bold",children:[((ie=e.waves[Ne.Bottom])==null?void 0:ie.currentWave)||1,"/",((Re=e.waves[Ne.Bottom])==null?void 0:Re.totalWaves)||7]}),i.jsx("button",{className:"bg-gray-600 hover:bg-gray-500 rounded-full w-6 h-6 flex items-center justify-center ml-2",onClick:()=>{D(),g(Ne.Bottom)},disabled:!e.waves[Ne.Bottom]||e.waves[Ne.Bottom].currentWave>=e.waves[Ne.Bottom].totalWaves,children:i.jsx(_s,{size:12})})]})]})]})]}),i.jsx("div",{className:"mt-3",children:i.jsx(ke,{text:"Click to flip the tie-breaker coin",children:i.jsxs("button",{className:`flex items-center justify-center px-4 py-2 rounded-lg text-white ${e.coinSide===G.Titans?"bg-blue-700 hover:bg-blue-600":"bg-orange-600 hover:bg-orange-500"}`,onClick:Q,children:[i.jsx("span",{className:"mr-2",children:"Tiebreaker:"}),i.jsx("span",{className:"font-bold",children:e.coinSide===G.Titans?"Titans":"Atlanteans"})]})})})]}),i.jsxs("div",{className:"bg-red-900/50 rounded-lg p-4 text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:"Atlanteans Lives"}),i.jsxs("div",{className:"flex justify-center items-center gap-4",children:[i.jsx("button",{className:"bg-red-700 hover:bg-red-600 rounded-full w-10 h-10 flex items-center justify-center text-2xl font-bold",onClick:()=>O(G.Atlanteans,-1),children:"-"}),i.jsx("span",{className:"text-4xl font-bold",children:e.teamLives[G.Atlanteans]}),i.jsx("button",{className:"bg-red-700 hover:bg-red-600 rounded-full w-10 h-10 flex items-center justify-center text-2xl font-bold",onClick:()=>O(G.Atlanteans,1),children:"+"})]}),i.jsxs("button",{className:"mt-4 w-full bg-red-700 hover:bg-red-600 rounded-lg py-2 px-4 flex items-center justify-center",onClick:()=>Z(G.Atlanteans),children:[i.jsx(Yl,{size:18,className:"mr-2"}),i.jsx("span",{children:"Declare Atlantean Victory"})]})]})]}),i.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:e.currentPhase==="strategy"?i.jsxs("div",{className:"text-center",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Strategy Phase - Turn ",e.turn]}),i.jsx("div",{className:`text-6xl font-bold mb-6 flex justify-center items-center ${_&&n<=10?"text-red-500 animate-pulse":""}`,children:_?H(n):i.jsx(Xd,{size:64,className:"text-gray-300"})}),i.jsxs("div",{className:"flex justify-center gap-4",children:[_&&(s?i.jsx("button",{className:"bg-amber-600 hover:bg-amber-500 px-6 py-3 rounded-lg text-white font-medium",onClick:R,children:"Pause"}):i.jsx("button",{className:"bg-green-600 hover:bg-green-500 px-6 py-3 rounded-lg text-white font-medium",onClick:k,children:"Resume"})),_&&i.jsxs("button",{className:"bg-gray-600 hover:bg-gray-500 px-6 py-3 rounded-lg text-white font-medium flex items-center",onClick:V,children:[i.jsx(_l,{size:18,className:"mr-2"}),"Reset Timer"]}),i.jsx("button",{className:"bg-blue-600 hover:bg-blue-500 px-6 py-3 rounded-lg text-white font-medium",onClick:S,children:"End Strategy Phase"})]})]}):e.currentPhase==="move"?i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Action Phase"}),$&&$.hero?i.jsx(i.Fragment,{children:i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:`inline-block py-2 px-4 rounded-lg text-white font-medium ${$.team===G.Titans?"bg-blue-700":"bg-red-700"}`,children:$.team===G.Titans?"Titans":"Atlanteans"}),i.jsxs("div",{className:"flex items-center justify-center mt-2",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-full overflow-hidden mr-3",children:i.jsx("img",{src:$.hero.icon,alt:$.hero.name,className:"w-full h-full object-cover",onError:le=>{const Te=le.target;Te.src="https://via.placeholder.com/64?text=Hero"}})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center text-2xl font-bold",children:[$.hero.name,((be=$.stats)==null?void 0:be.level)&&i.jsxs("span",{className:"ml-2 flex items-center",title:"Player Level",children:[i.jsx(At,{size:18,className:`${$.team===G.Titans?"text-blue-300":"text-red-300"} mr-1`}),$.stats.level]})]}),i.jsx("div",{className:"text-lg text-gray-300",children:$.name})]})]}),i.jsx("div",{className:`text-6xl font-bold my-6 flex justify-center items-center ${N&&r<=10?"text-red-500 animate-pulse":""}`,children:N?H(r):i.jsx(Xd,{size:64,className:"text-gray-300"})}),i.jsxs("div",{className:"flex justify-center gap-4",children:[N&&(a?i.jsx("button",{className:"bg-amber-600 hover:bg-amber-500 px-6 py-3 rounded-lg text-white font-medium",onClick:W,children:"Pause"}):i.jsx("button",{className:"bg-green-600 hover:bg-green-500 px-6 py-3 rounded-lg text-white font-medium",onClick:T,children:"Resume"})),N&&i.jsxs("button",{className:"bg-gray-600 hover:bg-gray-500 px-6 py-3 rounded-lg text-white font-medium flex items-center",onClick:Y,children:[i.jsx(_l,{size:18,className:"mr-2"}),"Reset Timer"]}),i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-500 px-6 py-3 rounded-lg text-white font-medium flex items-center",onClick:se,children:[i.jsx(_a,{size:18,className:"mr-2"}),"Complete Turn"]})]})]})}):i.jsx("div",{className:"py-6 text-xl text-amber-300",children:"Select a player to start their action timer"})]}):i.jsxs("div",{className:"text-center",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Turn ",e.turn," Complete"]}),i.jsx("p",{className:"text-lg mb-6",children:"All players have completed their actions"}),i.jsxs("button",{className:"bg-green-600 hover:bg-green-500 px-8 py-4 rounded-lg text-white font-medium text-xl flex items-center mx-auto",onClick:ee,children:[i.jsx(_l,{size:20,className:"mr-2"}),e.turn===4?"End Round":"Start Next Turn"]})]})}),e.currentPhase!=="turn-end"&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-xl font-bold mb-3",children:e.currentPhase==="strategy"?"Players (waiting for strategy phase to end)":"Select Player"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((le,Te)=>le.hero&&z(le,Te))})]}),i.jsx(Nj,{players:t,onComplete:q,isVisible:U})]});function z(le,Te){var nn,ls,Ys,Oi,Oa,Ki,zi;const $e=e.activeHeroIndex===Te,Et=e.completedTurns.includes(Te),je=e.currentPhase==="move"&&!Et&&!$e,Xe=le.stats&&((le.stats.totalKills??0)>0||(le.stats.totalAssists??0)>0||(le.stats.totalDeaths??0)>0||(le.stats.totalMinionKills??0)>0||(le.stats.totalGoldEarned??0)>0||le.stats.level!==void 0);return i.jsx("div",{className:`p-5 rounded-lg transition-all relative shadow-md ${$e?le.team===G.Titans?"bg-blue-700 ring-4 ring-white":"bg-red-700 ring-4 ring-white":Et?"bg-gray-700/90 opacity-60":le.team===G.Titans?"bg-blue-900/70 hover:bg-blue-800":"bg-red-900/70 hover:bg-red-800"} ${je?"cursor-pointer transform hover:scale-[1.02] hover:shadow-lg":""}`,onClick:()=>{je&&(E("heroSelect"),h(Te))},children:i.jsxs("div",{className:"flex items-start",children:[le.hero&&i.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-full overflow-hidden mr-4 flex-shrink-0 border-2 border-gray-600",children:i.jsx("img",{src:le.hero.icon,alt:le.hero.name,className:"w-full h-full object-cover",onError:cs=>{const Gi=cs.target;Gi.src="https://via.placeholder.com/96?text=Hero"}})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"text-xl font-bold mb-1 flex items-center",children:[((nn=le.hero)==null?void 0:nn.name)||"Unknown Hero",((ls=le.stats)==null?void 0:ls.level)&&i.jsxs("span",{className:"ml-2 flex items-center",title:`Level ${le.stats.level}`,children:[i.jsx(At,{size:16,className:`${le.team===G.Titans?"text-blue-300":"text-red-300"} mr-1`}),le.stats.level]})]}),Et&&i.jsx("div",{className:"bg-green-600 rounded-full p-1.5 ml-2",title:"Completed",children:i.jsx(_a,{size:20})}),$e&&i.jsx("div",{className:"bg-yellow-500 rounded-full p-1.5 ml-2 animate-pulse",title:"Active",children:i.jsx(WA,{size:20})})]}),i.jsx("div",{className:"text-lg font-medium text-gray-100 mb-2",children:le.name||`Player ${le.id}`}),le.lane&&i.jsx("div",{className:"text-base text-gray-300 mb-2",children:le.lane===Ne.Top?"Top Lane":"Bottom Lane"}),Xe&&K()&&i.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-x-4 gap-y-2 text-base bg-black/20 p-2 rounded",children:[M("totalKills")&&i.jsxs("span",{className:"flex items-center",title:"Kills",children:[i.jsx(vn,{size:18,className:"mr-2 text-blue-400"}),i.jsx("span",{className:"font-bold",children:((Ys=le.stats)==null?void 0:Ys.totalKills)||0})]}),M("totalDeaths")&&i.jsxs("span",{className:"flex items-center",title:"Deaths",children:[i.jsx(ca,{size:18,className:"mr-2 text-red-400"}),i.jsx("span",{className:"font-bold",children:((Oi=le.stats)==null?void 0:Oi.totalDeaths)||0})]}),M("totalAssists")&&i.jsxs("span",{className:"flex items-center",title:"Assists",children:[i.jsx(st,{size:18,className:"mr-2 text-green-400"}),i.jsx("span",{className:"font-bold",children:((Oa=le.stats)==null?void 0:Oa.totalAssists)||0})]}),M("totalMinionKills")&&i.jsxs("span",{className:"flex items-center",title:"Minion Kills",children:[i.jsx(lA,{size:18,className:"mr-2 text-yellow-400"}),i.jsx("span",{className:"font-bold",children:((Ki=le.stats)==null?void 0:Ki.totalMinionKills)||0})]}),M("totalGoldEarned")&&i.jsxs("span",{className:"flex items-center col-span-2 mt-1 justify-center bg-amber-900/30 py-1 px-2 rounded",title:"Total Gold Earned",children:[i.jsx(Qr,{size:18,className:"mr-2 text-amber-400"}),i.jsx("span",{className:"font-bold",children:((zi=le.stats)==null?void 0:zi.totalGoldEarned)||0})]})]})]})]})},le.id)}},kj=()=>{const[e,t]=j.useState(!1),n=[{role:"Damager",description:"Damagers are heroes adept at forcing their opponents to discard cards. This weakens enemy heroes, making it easier for your allies to take them down."},{role:"Disabler",description:"Disablers possess the power to weaken enemy heroes by preventing or limiting their ability to perform certain actions."},{role:"Durable",description:"Durable heroes are best equipped to withstand the heat of battle and survive, usually achieve this through a combination of a high defense stat and self-healing abilities."},{role:"Farming",description:"Heroes with farming abilities can generate extra coins for themselves or their allies, enabling faster leveling and setting up stronger late game."},{role:"Healer",description:"Healers help their allies by letting them retrieve discarded cards, greatly increasing their chances of surviving the fight."},{role:"Melee",description:"These heroes are focused on attacking in close quarters. A team composed entirely of melee fighters is formidable in a brawl, but may struggle against fast ranged heroes and heroes capable of placing tokens."},{role:"Pusher",description:"These heroes are able to deal with more than two enemy minions each round, or protect and respawn their own minions, giving them an edge at pushing the lane."},{role:"Sniper",description:"Most heroes have access to some form of ranged attacks, while Snipers are capable of attacking enemy heroes and minions at a much longer range."},{role:"Tactician",description:"Tacticians specialize in controlling the battlefield by moving, pushing, or repositioning units. Their versatile abilities allow them to support allies and hinder enemies."},{role:"Tokens",description:"These heroes are capable of placing tokens  temporary obstacles with special qualities. Each such hero uses their own type of tokens and the icon will correspond to the ones used by this particular hero."}];return i.jsxs("div",{className:"bg-gray-700 rounded-lg mb-4 overflow-hidden",children:[i.jsxs("button",{className:"w-full px-4 py-3 flex items-center justify-between bg-gray-800 hover:bg-gray-700 transition-colors text-left",onClick:()=>t(!e),"aria-expanded":e,children:[i.jsxs("span",{className:"font-semibold flex items-center",children:[i.jsx("span",{className:"mr-2 text-yellow-400",children:""}),"Hero Role Explanations"]}),e?i.jsx(ns,{size:18}):i.jsx(gr,{size:18})]}),e&&i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(r=>i.jsxs("div",{className:"bg-gray-800 p-3 rounded",children:[i.jsx("h4",{className:"text-yellow-400 font-semibold mb-1",children:r.role}),i.jsx("p",{className:"text-sm text-gray-300",children:r.description})]},r.role))})})]})},Ej=({hero:e,onClose:t,isVisible:n,cardPosition:r})=>{const{isMobile:s}=xv(),a=j.useRef(null),A=j.useRef(null),[o,l]=j.useState({left:8,bottom:8,right:"auto",top:"auto"});if(j.useEffect(()=>{if(!s&&n&&A.current&&r){const c=A.current.getBoundingClientRect(),d=window.innerWidth,h=window.innerHeight;let m={left:8,bottom:8,right:"auto",top:"auto"};r.x<d/2?m={left:Math.min(r.x+r.width+20,d-c.width-8),top:Math.min(r.y,h-c.height-8),right:"auto",bottom:"auto"}:m={right:Math.min(d-r.x+20,d-8),top:Math.min(r.y,h-c.height-8),left:"auto",bottom:"auto"},r.y+c.height>h-20&&(m.top=Math.max(8,h-c.height-20)),l(m)}},[s,n,r]),!e||!n)return null;const u=c=>{a.current&&!a.current.contains(c.target)&&t()},f=(c,d=0,h=0)=>i.jsxs("div",{className:"mb-2",children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:c}),i.jsx("div",{className:"flex",children:Array.from({length:8}).map((m,x)=>i.jsx("div",{className:`h-5 w-5 transform skew-x-12 mr-0.5 flex-shrink-0 ${x<d?"bg-blue-600":x<h?"bg-blue-200":"bg-gray-700"}`},x))})]});return s?i.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:u,children:i.jsxs("div",{ref:a,className:"bg-gray-900 rounded-lg w-full max-w-md p-4 relative",onClick:c=>c.stopPropagation(),children:[i.jsx("button",{className:"absolute top-2 right-2 p-1 bg-gray-800 rounded-full",onClick:t,"aria-label":"Close hero information",children:i.jsx(zs,{size:18})}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-full overflow-hidden mb-3",children:i.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-cover",onError:c=>{c.target.src="https://via.placeholder.com/96?text=Hero"}})}),i.jsx("h3",{className:"text-xl font-bold mb-1",children:e.name}),i.jsx("div",{className:"text-sm text-gray-300 mb-1",children:e.roles.join("  ")}),e.additionalRoles&&e.additionalRoles.length>0&&i.jsx("div",{className:"text-xs text-gray-400 mb-2",children:e.additionalRoles.join("  ")}),i.jsxs("div",{className:"flex mb-3",children:[[...Array(e.complexity)].map((c,d)=>i.jsx("span",{className:"text-yellow-400 text-lg",children:""},d)),[...Array(4-e.complexity)].map((c,d)=>i.jsx("span",{className:"text-gray-600 text-lg",children:""},d+e.complexity))]}),i.jsxs("div",{className:"w-full mb-4 grid grid-cols-2 gap-3",children:[f("Attack",e.attack,e.attack_upgraded),f("Initiative",e.initiative,e.initiative_upgraded),f("Defence",e.defence,e.defence_upgraded),f("Movement",e.movement,e.movement_upgraded)]}),i.jsx("p",{className:"text-sm leading-relaxed",children:e.description||"This hero's abilities and playstyle are shrouded in mystery."})]})]})}):i.jsx("div",{ref:A,className:"fixed bg-gray-900/95 p-6 rounded-lg shadow-lg max-w-2xl z-50",style:{left:o.left!=="auto"?`${o.left}px`:"auto",right:o.right!=="auto"?`${o.right}px`:"auto",top:o.top!=="auto"?`${o.top}px`:"auto",bottom:o.bottom!=="auto"?`${o.bottom}px`:"auto"},children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"w-28 h-28 bg-gray-300 rounded-full overflow-hidden mr-6 flex-shrink-0",children:i.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-cover",onError:c=>{c.target.src="https://via.placeholder.com/192?text=Hero"}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold mb-2",children:e.name}),i.jsx("div",{className:"text-lg text-gray-300 mb-1",children:e.roles.join("  ")}),e.additionalRoles&&e.additionalRoles.length>0&&i.jsx("div",{className:"text-sm text-gray-400 mb-2",children:e.additionalRoles.join("  ")}),i.jsxs("div",{className:"flex mb-3",children:[[...Array(e.complexity)].map((c,d)=>i.jsx("span",{className:"text-yellow-400 text-xl",children:""},d)),[...Array(4-e.complexity)].map((c,d)=>i.jsx("span",{className:"text-gray-600 text-xl",children:""},d+e.complexity))]}),i.jsxs("div",{className:"w-full mb-4 grid grid-cols-2 gap-4",children:[f("Attack",e.attack,e.attack_upgraded),f("Initiative",e.initiative,e.initiative_upgraded),f("Defence",e.defence,e.defence_upgraded),f("Movement",e.movement,e.movement_upgraded)]}),i.jsx("p",{className:"text-base leading-relaxed",children:e.description||"This hero's abilities and playstyle are shrouded in mystery."})]})]})})},xre=({players:e,draftingState:t,onHeroSelect:n,onHeroBan:r,onFinishDrafting:s,onCancelDrafting:a,onUndoLastAction:A,onResetDraft:o,onBackToDraftSelection:l,canUndo:u})=>{const{isMobile:f}=xv(),{playSound:c}=et(),[d,h]=j.useState(null),[m,x]=j.useState(!1),[v,g]=j.useState(void 0),p=j.useRef(null),y=j.useRef(null),b=e.filter(q=>q.team===t.currentTeam&&!t.selectedHeroes.some(Z=>Z.playerId===q.id)),C=e.every(q=>t.selectedHeroes.some(Z=>Z.playerId===q.id)),B=q=>q===G.Titans?"Titans":"Atlanteans",_=()=>{if(t.mode!==oe.PickAndBan)return"Invalid Mode";if(t.currentStep>=t.pickBanSequence.length)return e.every(z=>t.selectedHeroes.some(L=>L.playerId===z.id))?"Draft Complete":"Drafting Paused/Error";const q=t.pickBanSequence[t.currentStep],Z=B(t.currentTeam),Q=q.action==="ban"?"Ban":"Pick";return`${Z} ${Q} - Round ${q.round}`},N=q=>[...q].sort((Z,Q)=>Z.complexity!==Q.complexity?Z.complexity-Q.complexity:Z.name.localeCompare(Q.name)),w=(q,Z)=>{c("heroSelect"),n(q,Z)},E=q=>{c("heroBan"),r(q)},U=()=>{c("phaseChange"),s()},I=()=>{c("buttonClick"),a()},H=()=>{u&&(c("buttonClick"),A())},$=()=>{c("buttonClick"),o()},K=()=>{c("buttonClick"),l()},M=q=>{f&&!C&&(c("buttonClick"),h(q),x(!0))},D=()=>{c("buttonClick"),x(!1)},k=(q,Z)=>{if(!f){h(q);const O=Z.currentTarget.getBoundingClientRect();g({x:O.left,y:O.top,width:O.width,height:O.height})}},R=()=>{f||(h(null),g(void 0))},S=(q,Z,Q)=>{var le,Te,$e,Et;const O=Z==="available",z=Z==="assigned",L=Z==="selected",ue=Z==="banned",xe=e.filter(je=>je.team===t.currentTeam&&!t.selectedHeroes.some(Xe=>Xe.playerId===je.id)),ae=C&&(O||z),ie=Q?((le=e.find(je=>je.id===Q))==null?void 0:le.name)||`Player ${Q}`:"",Re=Q?(Te=e.find(je=>je.id===Q))==null?void 0:Te.team:void 0,be=`
      relative p-5 rounded-lg transition-all
      ${ae?"opacity-40 pointer-events-none":""}
      ${O?"bg-gray-800 hover:bg-gray-700":""}
      ${z?"bg-amber-900/30 hover:bg-amber-800/40":""}
      ${L?Re===G.Titans?"bg-blue-900/30":"bg-red-900/30":""}
      ${ue?"bg-red-900/30 opacity-70":""}
    `;return i.jsxs("div",{className:be,onClick:()=>M(q),onMouseEnter:je=>k(q,je),onMouseLeave:R,children:[ue&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:i.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[i.jsx("div",{className:"absolute w-3/4 h-0.5 bg-red-500 transform rotate-45"}),i.jsx("div",{className:"absolute w-3/4 h-0.5 bg-red-500 transform -rotate-45"})]})}),i.jsxs("div",{className:"text-center mb-3",children:[i.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 bg-gray-300 rounded-full mx-auto overflow-hidden",children:i.jsx("img",{src:q.icon,alt:q.name,className:"w-full h-full object-cover",onError:je=>{const Xe=je.target;Xe.src="https://via.placeholder.com/112?text=Hero"}})}),i.jsx("div",{className:"mt-3 font-medium text-xl",children:q.name}),L&&ie&&i.jsx("div",{className:"mt-1 text-sm text-gray-300",children:ie})]}),i.jsxs("div",{className:"flex justify-center mb-2",children:[[...Array(q.complexity)].map((je,Xe)=>i.jsx("span",{className:"text-yellow-400 text-lg sm:text-xl",children:""},Xe)),[...Array(4-q.complexity)].map((je,Xe)=>i.jsx("span",{className:"text-gray-600 text-lg sm:text-xl",children:""},Xe+q.complexity))]}),i.jsx("div",{className:"text-sm sm:text-base text-center text-gray-300 mb-3",children:q.roles.join(", ")}),O&&t.mode===oe.PickAndBan&&i.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",onClick:je=>je.stopPropagation(),children:[(($e=t.pickBanSequence[t.currentStep])==null?void 0:$e.action)==="ban"&&i.jsx("button",{className:"w-full px-3 py-2 bg-red-700 hover:bg-red-600 rounded text-sm flex items-center justify-center",onClick:je=>{je.stopPropagation(),E(q)},children:"Ban Hero"}),((Et=t.pickBanSequence[t.currentStep])==null?void 0:Et.action)==="pick"&&xe.length>0&&i.jsx("div",{className:"grid grid-cols-1 gap-1",children:xe.map(je=>i.jsxs("button",{className:"w-full px-3 py-2 bg-green-700 hover:bg-green-600 rounded text-sm flex items-center justify-center",onClick:Xe=>{Xe.stopPropagation(),w(q,je.id)},children:[i.jsx("span",{className:"mr-1",children:"Pick for"}),i.jsx("span",{className:"font-bold",children:je.name})]},je.id))})]}),O&&t.mode===oe.AllPick&&i.jsx("div",{className:"mt-3",onClick:je=>je.stopPropagation(),children:xe.length>0&&i.jsx("div",{className:"grid grid-cols-1 gap-1",children:xe.map(je=>i.jsxs("button",{className:"w-full px-3 py-2 bg-green-700 hover:bg-green-600 rounded text-sm flex items-center justify-center",onClick:Xe=>{Xe.stopPropagation(),w(q,je.id)},children:[i.jsx("span",{className:"mr-1",children:"Pick for"}),i.jsx("span",{className:"font-bold",children:je.name})]},je.id))})}),O&&t.mode===oe.Random&&i.jsx("div",{className:"mt-3",onClick:je=>je.stopPropagation(),children:xe.length>0&&i.jsx("div",{className:"grid grid-cols-1 gap-1",children:xe.map(je=>i.jsxs("button",{className:"w-full px-3 py-2 bg-green-700 hover:bg-green-600 rounded text-sm flex items-center justify-center",onClick:Xe=>{Xe.stopPropagation(),w(q,je.id)},children:[i.jsx("span",{className:"mr-1",children:"Pick for"}),i.jsx("span",{className:"font-bold",children:je.name})]},je.id))})}),z&&i.jsx("div",{className:"mt-3",onClick:je=>je.stopPropagation(),children:i.jsx("button",{className:"w-full px-3 py-2 bg-green-700 hover:bg-green-600 rounded text-sm flex items-center justify-center",onClick:je=>{var nn;je.stopPropagation();const Xe=(nn=t.assignedHeroes.find(ls=>ls.heroOptions.some(Ys=>Ys.id===q.id)))==null?void 0:nn.playerId;Xe&&w(q,Xe)},children:"Select Hero"})})]},`${q.id}-${Z}-${Q||0}`)},T=()=>{const q=N(t.availableHeroes);return i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"All Pick"}),i.jsx("div",{className:"mb-6",children:C?i.jsxs("div",{className:"p-3 rounded-lg bg-green-900/50 border-2 border-green-400",children:[i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Start Game"}),i.jsx("div",{className:"text-md mb-3",children:"All players have selected heroes. Click Start Game."})]}):i.jsxs("div",{className:`p-3 rounded-lg ${t.currentTeam===G.Titans?"bg-blue-900/50 border-2 border-blue-400":"bg-red-900/50 border-2 border-red-400"}`,children:[i.jsxs("h4",{className:"text-lg font-semibold mb-2",children:[B(t.currentTeam)," Turn"]}),b.length>0?i.jsxs("div",{className:"text-md mb-3",children:["Select any hero for: ",b.map(Z=>Z.name).join(", ")]}):i.jsxs("div",{className:"text-md mb-3",children:["All ",B(t.currentTeam)," players have selected heroes"]})]})}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:q.map(Z=>S(Z,"available"))})]})},W=()=>i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"Single Draft"}),i.jsx("div",{className:"mb-6",children:C?i.jsxs("div",{className:"p-3 rounded-lg bg-green-900/50 border-2 border-green-400",children:[i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Start Game"}),i.jsx("div",{className:"text-md mb-3",children:"All players have selected heroes. Click Start Game."})]}):i.jsxs("div",{className:`p-3 rounded-lg ${t.currentTeam===G.Titans?"bg-blue-900/50 border-2 border-blue-400":"bg-red-900/50 border-2 border-red-400"}`,children:[i.jsxs("h4",{className:"text-lg font-semibold mb-2",children:[B(t.currentTeam)," Turn"]}),b.length>0?i.jsxs("div",{className:"text-md mb-3",children:["Any ",B(t.currentTeam)," player can select a hero from their options"]}):i.jsxs("div",{className:"text-md mb-3",children:["All ",B(t.currentTeam)," players have selected heroes"]})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("h4",{className:"text-lg font-medium mb-3 bg-blue-900/50 p-2 rounded flex items-center",children:[i.jsx("div",{className:"bg-blue-700 rounded-full p-1 mr-2",children:i.jsx(VA,{size:16})}),"Titans Team"]}),i.jsx("div",{ref:p,className:"max-h-96 overflow-y-auto pr-2 space-y-4 custom-scrollbar",children:t.assignedHeroes.filter(q=>{const Z=e.find(Q=>Q.id===q.playerId);return Z&&Z.team===G.Titans}).map(q=>{const Z=e.find(z=>z.id===q.playerId);if(!Z)return null;const Q=t.selectedHeroes.some(z=>z.playerId===Z.id),O=N(q.heroOptions);return i.jsxs("div",{className:`bg-gray-800 p-4 rounded-lg ${Q?"opacity-60":""}`,children:[i.jsxs("h5",{className:"text-lg font-medium mb-3 flex items-center",children:[Z.name,Q&&i.jsx("span",{className:"ml-2 bg-green-600 text-white text-xs px-2 py-1 rounded",children:"Selected"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:O.map(z=>i.jsxs("div",{className:`relative p-4 rounded-lg ${C?"opacity-40 pointer-events-none":t.currentTeam===G.Titans&&!Q?"bg-blue-900/30 hover:bg-blue-800/40 cursor-pointer":"bg-gray-800"}`,onClick:L=>{t.currentTeam===G.Titans&&!Q&&!C?(L.stopPropagation(),w(z,Z.id)):M(z)},onMouseEnter:L=>k(z,L),onMouseLeave:R,children:[i.jsxs("div",{className:"text-center mb-3",children:[i.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gray-300 rounded-full mx-auto overflow-hidden",children:i.jsx("img",{src:z.icon,alt:z.name,className:"w-full h-full object-cover",onError:L=>{const ue=L.target;ue.src="https://via.placeholder.com/96?text=Hero"}})}),i.jsx("div",{className:"mt-2 font-medium text-lg",children:z.name})]}),i.jsxs("div",{className:"flex justify-center mb-2",children:[[...Array(z.complexity)].map((L,ue)=>i.jsx("span",{className:"text-yellow-400 text-base sm:text-lg",children:""},ue)),[...Array(4-z.complexity)].map((L,ue)=>i.jsx("span",{className:"text-gray-600 text-base sm:text-lg",children:""},ue+z.complexity))]}),i.jsx("div",{className:"text-xs sm:text-sm text-center text-gray-300 mb-2",children:z.roles.join(", ")}),t.currentTeam===G.Titans&&!Q&&!C&&i.jsx("button",{className:"w-full mt-2 px-3 py-2 bg-blue-700 hover:bg-blue-600 rounded text-sm",onClick:L=>{L.stopPropagation(),w(z,Z.id)},children:"Select This Hero"})]},z.id))})]},Z.id)})})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-medium mb-3 bg-red-900/50 p-2 rounded flex items-center",children:[i.jsx("div",{className:"bg-red-700 rounded-full p-1 mr-2",children:i.jsx(VA,{size:16})}),"Atlanteans Team"]}),i.jsx("div",{ref:y,className:"max-h-96 overflow-y-auto pr-2 space-y-4 custom-scrollbar",children:t.assignedHeroes.filter(q=>{const Z=e.find(Q=>Q.id===q.playerId);return Z&&Z.team===G.Atlanteans}).map(q=>{const Z=e.find(z=>z.id===q.playerId);if(!Z)return null;const Q=t.selectedHeroes.some(z=>z.playerId===Z.id),O=N(q.heroOptions);return i.jsxs("div",{className:`bg-gray-800 p-4 rounded-lg ${Q?"opacity-60":""}`,children:[i.jsxs("h5",{className:"text-lg font-medium mb-3 flex items-center",children:[Z.name,Q&&i.jsx("span",{className:"ml-2 bg-green-600 text-white text-xs px-2 py-1 rounded",children:"Selected"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:O.map(z=>i.jsxs("div",{className:`relative p-4 rounded-lg ${C?"opacity-40 pointer-events-none":t.currentTeam===G.Atlanteans&&!Q?"bg-red-900/30 hover:bg-red-800/40 cursor-pointer":"bg-gray-800"}`,onClick:L=>{t.currentTeam===G.Atlanteans&&!Q&&!C?(L.stopPropagation(),w(z,Z.id)):M(z)},onMouseEnter:L=>k(z,L),onMouseLeave:R,children:[i.jsxs("div",{className:"text-center mb-3",children:[i.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gray-300 rounded-full mx-auto overflow-hidden",children:i.jsx("img",{src:z.icon,alt:z.name,className:"w-full h-full object-cover",onError:L=>{const ue=L.target;ue.src="https://via.placeholder.com/96?text=Hero"}})}),i.jsx("div",{className:"mt-2 font-medium text-lg",children:z.name})]}),i.jsxs("div",{className:"flex justify-center mb-2",children:[[...Array(z.complexity)].map((L,ue)=>i.jsx("span",{className:"text-yellow-400 text-base sm:text-lg",children:""},ue)),[...Array(4-z.complexity)].map((L,ue)=>i.jsx("span",{className:"text-gray-600 text-base sm:text-lg",children:""},ue+z.complexity))]}),i.jsx("div",{className:"text-xs sm:text-sm text-center text-gray-300 mb-2",children:z.roles.join(", ")}),t.currentTeam===G.Atlanteans&&!Q&&!C&&i.jsx("button",{className:"w-full mt-2 px-3 py-2 bg-red-700 hover:bg-red-600 rounded text-sm",onClick:L=>{L.stopPropagation(),w(z,Z.id)},children:"Select This Hero"})]},z.id))})]},Z.id)})})]})]}),V=()=>{const q=N(t.availableHeroes);return i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"Random Draft"}),i.jsx("div",{className:"mb-6",children:C?i.jsxs("div",{className:"p-3 rounded-lg bg-green-900/50 border-2 border-green-400",children:[i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Start Game"}),i.jsx("div",{className:"text-md mb-3",children:"All players have selected heroes. Click Start Game."})]}):i.jsxs("div",{className:`p-3 rounded-lg ${t.currentTeam===G.Titans?"bg-blue-900/50 border-2 border-blue-400":"bg-red-900/50 border-2 border-red-400"}`,children:[i.jsxs("h4",{className:"text-lg font-semibold mb-2",children:[B(t.currentTeam)," Turn"]}),b.length>0?i.jsxs("div",{className:"text-md mb-3",children:[b.map(Z=>Z.name).join(", ")," need to select a hero"]}):i.jsxs("div",{className:"text-md mb-3",children:["All ",B(t.currentTeam)," players have selected heroes"]})]})}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:q.map(Z=>i.jsxs("div",{className:`relative p-4 rounded-lg transition-all ${C?"opacity-40 pointer-events-none":t.currentTeam===G.Titans?"bg-blue-900/30 hover:bg-blue-800/40":"bg-red-900/30 hover:bg-red-800/40"}`,onClick:()=>M(Z),onMouseEnter:Q=>k(Z,Q),onMouseLeave:R,children:[i.jsxs("div",{className:"text-center mb-3",children:[i.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gray-300 rounded-full mx-auto overflow-hidden",children:i.jsx("img",{src:Z.icon,alt:Z.name,className:"w-full h-full object-cover",onError:Q=>{const O=Q.target;O.src="https://via.placeholder.com/96?text=Hero"}})}),i.jsx("div",{className:"mt-2 font-medium text-lg",children:Z.name})]}),i.jsxs("div",{className:"flex justify-center mb-2",children:[[...Array(Z.complexity)].map((Q,O)=>i.jsx("span",{className:"text-yellow-400 text-base sm:text-lg",children:""},O)),[...Array(4-Z.complexity)].map((Q,O)=>i.jsx("span",{className:"text-gray-600 text-base sm:text-lg",children:""},O+Z.complexity))]}),i.jsx("div",{className:"text-xs sm:text-sm text-center text-gray-300 mb-3",children:Z.roles.join(", ")}),b.length>0&&!C&&i.jsx("div",{className:"grid grid-cols-1 gap-1 mt-2",onClick:Q=>Q.stopPropagation(),children:b.map(Q=>i.jsxs("button",{className:"w-full px-3 py-2 rounded text-sm bg-green-600 hover:bg-green-500 flex items-center justify-center",onClick:O=>{O.stopPropagation(),w(Z,Q.id)},children:[i.jsx("span",{className:"mr-1",children:"Pick for"}),i.jsx("span",{className:"font-bold",children:Q.name})]},Q.id))})]},Z.id))})]})},Y=()=>{if(t.mode!==oe.PickAndBan)return null;const q=N(t.availableHeroes),Z=N(t.bannedHeroes),Q=t.currentStep<t.pickBanSequence.length?t.pickBanSequence[t.currentStep]:null;if(!Q&&!C)return i.jsx("div",{children:"Draft complete"});const O=(Q==null?void 0:Q.action)==="pick",z=(Q==null?void 0:Q.action)==="ban";return i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"Pick and Ban"}),i.jsx("div",{className:"mb-6",children:C?i.jsxs("div",{className:"p-4 rounded-lg bg-green-900/50 border-2 border-green-400",children:[i.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Start Game"}),i.jsx("div",{className:"text-md mb-3",children:"All players have selected heroes. Click Start Game."})]}):i.jsxs("div",{className:`p-4 rounded-lg ${t.currentTeam===G.Titans?"bg-blue-900/50 border-2 border-blue-400":"bg-red-900/50 border-2 border-red-400"}`,children:[i.jsx("h4",{className:"text-xl font-semibold mb-2",children:_()}),i.jsxs("div",{className:"text-md mb-3",children:[z&&"Select a hero to ban from the pool",O&&b.length>0&&`${b.map(L=>L.name).join(", ")} need to pick a hero`,O&&b.length===0&&"All players on this team have selected heroes"]})]})}),Z.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-lg font-medium mb-3 bg-red-900/30 p-2 rounded",children:"Banned Heroes"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:Z.map(L=>S(L,"banned"))})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:q.map(L=>i.jsxs("div",{className:`relative p-4 rounded-lg transition-all ${C?"opacity-40 pointer-events-none":t.currentTeam===G.Titans?"bg-blue-900/30 hover:bg-blue-800/40":"bg-red-900/30 hover:bg-red-800/40"} cursor-pointer`,onClick:()=>M(L),onMouseEnter:ue=>k(L,ue),onMouseLeave:R,children:[i.jsxs("div",{className:"text-center mb-3",children:[i.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gray-300 rounded-full mx-auto overflow-hidden",children:i.jsx("img",{src:L.icon,alt:L.name,className:"w-full h-full object-cover",onError:ue=>{const xe=ue.target;xe.src="https://via.placeholder.com/96?text=Hero"}})}),i.jsx("div",{className:"mt-2 font-medium text-lg",children:L.name})]}),i.jsxs("div",{className:"flex justify-center mb-2",children:[[...Array(L.complexity)].map((ue,xe)=>i.jsx("span",{className:"text-yellow-400 text-base sm:text-lg",children:""},xe)),[...Array(4-L.complexity)].map((ue,xe)=>i.jsx("span",{className:"text-gray-600 text-base sm:text-lg",children:""},xe+L.complexity))]}),i.jsx("div",{className:"text-xs sm:text-sm text-center text-gray-300 mb-3",children:L.roles.join(", ")}),!C&&i.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",onClick:ue=>ue.stopPropagation(),children:[z&&i.jsx("button",{className:"w-full px-3 py-2 bg-red-600 hover:bg-red-500 rounded text-sm flex items-center justify-center",onClick:ue=>{ue.stopPropagation(),E(L)},children:"Ban Hero"}),O&&b.length>0&&i.jsx("div",{className:"grid grid-cols-1 gap-1",children:b.map(ue=>i.jsxs("button",{className:"w-full px-3 py-2 bg-green-600 hover:bg-green-500 rounded text-sm flex items-center justify-center",onClick:xe=>{xe.stopPropagation(),w(L,ue.id)},children:[i.jsx("span",{className:"mr-1",children:"Pick for"}),i.jsx("span",{className:"font-bold",children:ue.name})]},ue.id))})]})]},L.id))})]})},se=()=>{switch(t.mode){case oe.AllPick:return T();case oe.Single:return W();case oe.Random:return V();case oe.PickAndBan:return Y();default:return i.jsx("div",{children:"Invalid drafting mode"})}},ee=()=>{if(t.selectedHeroes.length===0)return null;const q=t.selectedHeroes.filter(Q=>{var O;return((O=e.find(z=>z.id===Q.playerId))==null?void 0:O.team)===G.Titans}),Z=t.selectedHeroes.filter(Q=>{var O;return((O=e.find(z=>z.id===Q.playerId))==null?void 0:O.team)===G.Atlanteans});return i.jsxs("div",{className:"mb-8 bg-gray-800 p-6 rounded-lg",children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"Selected Heroes"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-blue-900/30 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-lg font-medium mb-3 border-b border-blue-700 pb-2",children:"Titans"}),q.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:q.map(Q=>S(Q.hero,"selected",Q.playerId))}):i.jsx("p",{className:"text-gray-400 italic",children:"No heroes selected yet"})]}),i.jsxs("div",{className:"bg-red-900/30 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-lg font-medium mb-3 border-b border-red-700 pb-2",children:"Atlanteans"}),Z.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Z.map(Q=>S(Q.hero,"selected",Q.playerId))}):i.jsx("p",{className:"text-gray-400 italic",children:"No heroes selected yet"})]})]})]})};return i.jsxs("div",{className:"drafting-system",children:[i.jsx("div",{className:"bg-gray-800 rounded-lg p-4 sm:p-6 mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-3 sm:mb-0",children:t.mode===oe.AllPick?"All Pick":t.mode===oe.Single?"Single Draft":t.mode===oe.Random?"Random Draft":"Pick and Ban Draft"}),i.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[i.jsx(ke,{text:"Undo the last hero selection",children:i.jsxs("button",{className:`px-3 py-2 ${u?"bg-gray-700 hover:bg-gray-600":"bg-gray-800 opacity-50 cursor-not-allowed"} rounded-lg flex items-center`,onClick:H,disabled:!u,children:[i.jsx(_l,{size:16,className:"mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Undo"})]})}),i.jsx(ke,{text:"Reset all selections and restart with the same draft mode",children:i.jsxs("button",{className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg flex items-center",onClick:$,children:[i.jsx(Jl,{size:16,className:"mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Reset"})]})}),i.jsx(ke,{text:"Go back to draft mode selection without rerolling tiebreaker",children:i.jsxs("button",{className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg flex items-center",onClick:K,children:[i.jsx(Kg,{size:16,className:"mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Back"})]})}),i.jsx(ke,{text:"Return to game setup screen",children:i.jsxs("button",{className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg flex items-center",onClick:I,children:[i.jsx(zs,{size:16,className:"mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Cancel"})]})}),(t.isComplete||C)&&i.jsx(ke,{text:"Finish drafting and start the game",children:i.jsxs("button",{className:"px-3 py-2 bg-green-700 hover:bg-green-600 rounded-lg flex items-center",onClick:U,children:[i.jsx(gv,{size:16,className:"mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Start Game"})]})})]})]})}),i.jsx(kj,{}),t.selectedHeroes.length>0&&ee(),i.jsx("div",{className:"bg-gray-800 rounded-lg p-4 sm:p-6",children:se()}),i.jsx(Ej,{hero:d,onClose:D,isVisible:(f?m:!!d)&&!C,cardPosition:v}),i.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(0, 0, 0, 0.2);
          border-radius: 4px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(255, 255, 255, 0.3);
          border-radius: 4px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: rgba(255, 255, 255, 0.5);
        }
        
        /* Add smooth height transitions */
        .transition-height {
          transition: max-height 0.3s ease-in-out;
        }
      `})]})},vre=({result:e,onComplete:t})=>{const[n,r]=j.useState(!1),[s,a]=j.useState(!1),{playSound:A}=et();j.useEffect(()=>{r(!0),A("coinFlip");const l=setTimeout(()=>{a(!0),A("buttonClick")},3e3);return()=>clearTimeout(l)},[]);const o=()=>{A("buttonClick"),t()};return i.jsxs("div",{className:"fixed top-0 left-0 w-full h-full bg-black/80 flex flex-col items-center justify-center z-50",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-3xl font-bold mb-8 text-white",children:"Randomizing Tiebreaker"}),i.jsx("div",{className:"coin-flip-container",children:i.jsxs("div",{className:`coin ${n?"flipping":""} ${e===G.Titans?"flip-titans":"flip-atlanteans"}`,children:[i.jsxs("div",{className:"coin-face heads",children:[i.jsx("div",{className:"coin-emblem",children:"Titans"}),i.jsx("div",{className:"coin-shine"})]}),i.jsxs("div",{className:"coin-face tails",children:[i.jsx("div",{className:"coin-emblem",children:"Atlanteans"}),i.jsx("div",{className:"coin-shine"})]})]})}),i.jsx("div",{className:"text-2xl font-bold mt-8 text-white",children:e===G.Titans?"Titans go first!":"Atlanteans go first!"}),i.jsx("button",{className:`continue-button ${s?"visible":""}`,onClick:o,children:"Continue to Draft"})]}),i.jsx("style",{children:`
        .coin.flipping.flip-titans {
          animation: flipCoinTitans 3s ease-out forwards;
        }
        
        .coin.flipping.flip-atlanteans {
          animation: flipCoinAtlanteans 3s ease-out forwards;
        }
        
        @keyframes flipCoinTitans {
          0% { transform: rotateY(0) rotateX(0); }
          20% { transform: rotateY(180deg) rotateX(10deg); }
          40% { transform: rotateY(360deg) rotateX(-10deg); }
          60% { transform: rotateY(540deg) rotateX(10deg); }
          80% { transform: rotateY(720deg) rotateX(-10deg); }
          100% { transform: rotateY(0deg) rotateX(10deg); } /* End on Titans side (heads) */
        }
        
        @keyframes flipCoinAtlanteans {
          0% { transform: rotateY(0) rotateX(0); }
          20% { transform: rotateY(180deg) rotateX(10deg); }
          40% { transform: rotateY(360deg) rotateX(-10deg); }
          60% { transform: rotateY(540deg) rotateX(10deg); }
          80% { transform: rotateY(720deg) rotateX(-10deg); }
          100% { transform: rotateY(180deg) rotateX(10deg); } /* End on Atlanteans side (tails) */
        }
        
 
      `})]})},yre=({onSelectMode:e,onCancel:t,playerCount:n,availableDraftModes:r,heroCount:s,handicapTeam:a})=>{const{playSound:A}=et(),o={[oe.AllPick]:"Teams take turns selecting any available hero for their players.",[oe.Single]:"Randomly deal 3 unique heroes to each player. Teams alternate selections.",[oe.Random]:`Randomly select ${n+2} heroes from the pool. Teams alternate picks from this pool.`,[oe.PickAndBan]:"Full drafting experience with pick and ban phases. The draft sequence varies based on the number of players."},l={[oe.AllPick]:n,[oe.Single]:n*3,[oe.Random]:n+2,[oe.PickAndBan]:n*2},u={[oe.AllPick]:"Default draft",[oe.Single]:"Forces players to try new heroes",[oe.Random]:"Good for balanced hero selection",[oe.PickAndBan]:"Best for competitive play"},f=d=>{r[d]&&(A("buttonClick"),e(d))},c=()=>{A("buttonClick"),t()};return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Select Draft Mode"}),a&&i.jsx("div",{className:"bg-amber-900/30 border border-amber-600 p-4 rounded-lg mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(cA,{size:20,className:"text-amber-400 mr-2 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-amber-400",children:"Warning: Uneven Teams"}),i.jsxs("p",{className:"text-sm text-gray-300",children:["All players on the ",a===G.Titans?"Titans":"Atlanteans"," team must replace one of their basic cards with a handicap card."]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:`relative ${r[oe.AllPick]?"bg-gray-700 hover:bg-gray-600 cursor-pointer":"bg-gray-800 opacity-50 cursor-not-allowed"} p-5 rounded-lg transition-colors`,onClick:()=>f(oe.AllPick),children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"All Pick"}),i.jsx("p",{className:"text-gray-300 mb-4",children:o[oe.AllPick]}),i.jsx("div",{className:"bg-blue-900/30 p-2 rounded text-sm",children:u[oe.AllPick]}),!r[oe.AllPick]&&i.jsxs("div",{className:"absolute top-2 right-2 text-yellow-400 flex items-center",children:[i.jsx(cA,{size:16,className:"mr-1"}),i.jsxs("span",{className:"text-xs",children:["Requires ",l[oe.AllPick]," heroes"]})]})]}),i.jsxs("div",{className:`relative ${r[oe.Single]?"bg-gray-700 hover:bg-gray-600 cursor-pointer":"bg-gray-800 opacity-50 cursor-not-allowed"} p-5 rounded-lg transition-colors`,onClick:()=>f(oe.Single),children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Single Draft"}),i.jsx("p",{className:"text-gray-300 mb-4",children:o[oe.Single]}),i.jsx("div",{className:"bg-blue-900/30 p-2 rounded text-sm",children:u[oe.Single]}),!r[oe.Single]&&i.jsxs("div",{className:"absolute top-2 right-2 text-yellow-400 flex items-center",children:[i.jsx(cA,{size:16,className:"mr-1"}),i.jsxs("span",{className:"text-xs",children:["Requires ",l[oe.Single]," heroes"]})]})]}),i.jsxs("div",{className:`relative ${r[oe.Random]?"bg-gray-700 hover:bg-gray-600 cursor-pointer":"bg-gray-800 opacity-50 cursor-not-allowed"} p-5 rounded-lg transition-colors`,onClick:()=>f(oe.Random),children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Random Draft"}),i.jsx("p",{className:"text-gray-300 mb-4",children:o[oe.Random]}),i.jsx("div",{className:"bg-blue-900/30 p-2 rounded text-sm",children:u[oe.Random]}),!r[oe.Random]&&i.jsxs("div",{className:"absolute top-2 right-2 text-yellow-400 flex items-center",children:[i.jsx(cA,{size:16,className:"mr-1"}),i.jsxs("span",{className:"text-xs",children:["Requires ",l[oe.Random]," heroes"]})]})]}),i.jsxs("div",{className:`relative ${r[oe.PickAndBan]?"bg-gray-700 hover:bg-gray-600 cursor-pointer":"bg-gray-800 opacity-50 cursor-not-allowed"} p-5 rounded-lg transition-colors`,onClick:()=>f(oe.PickAndBan),children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Pick and Ban"}),i.jsx("p",{className:"text-gray-300 mb-4",children:o[oe.PickAndBan]}),i.jsx("div",{className:"bg-blue-900/30 p-2 rounded text-sm",children:u[oe.PickAndBan]}),!r[oe.PickAndBan]&&i.jsxs("div",{className:"absolute top-2 right-2 text-yellow-400 flex items-center",children:[i.jsx(cA,{size:16,className:"mr-1"}),i.jsxs("span",{className:"text-xs",children:["Requires ",l[oe.PickAndBan]," heroes"]})]})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"text-sm text-gray-400",children:["Available heroes: ",s]}),i.jsx("button",{className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",onClick:c,children:"Cancel"})]})]})},bre=({feedbackUrl:e})=>{const[t,n]=j.useState(()=>{const s=localStorage.getItem("feedbackBar_expanded");return s!==null?s==="true":!0}),r=()=>{n(s=>{const a=!s;return localStorage.setItem("feedbackBar_expanded",String(a)),a})};return i.jsx("div",{className:"fixed bottom-0 left-0 z-50 transition-all duration-300",children:t?i.jsxs("div",{className:"w-full bg-gray-800 bg-opacity-90 backdrop-blur-sm text-center text-base text-white py-3 px-4 flex items-center justify-between shadow-lg",children:[i.jsx("div",{className:"flex-1"}),i.jsx("div",{className:"flex-1 text-center",children:i.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-300",children:"Share Feedback"})}),i.jsx("div",{className:"flex-1 flex justify-end",children:i.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-white/10 transition-colors","aria-label":"Collapse feedback bar",children:i.jsx(gr,{size:16})})})]}):i.jsx("button",{onClick:r,className:"fixed bottom-2 left-2 bg-blue-600 hover:bg-blue-500 p-2 rounded-full shadow-lg","aria-label":"Expand feedback bar",children:i.jsx(ns,{size:20,className:"text-white"})})})},wre=()=>{const{isSoundEnabled:e,toggleSound:t,playSound:n}=et(),r=()=>{t(),n("toggleSwitch")};return i.jsx("button",{onClick:r,className:`fixed bottom-2 right-2 z-50 p-2 rounded-full shadow-lg transition-colors ${e?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,"aria-label":e?"Mute sound":"Unmute sound",title:e?"Mute sound":"Unmute sound",children:e?i.jsx(lI,{size:20,className:"text-white"}):i.jsx(uI,{size:20,className:"text-white"})})},Bre=()=>(j.useEffect(()=>{const e=()=>{qr.Howler.ctx&&qr.Howler.ctx.state!=="running"&&qr.Howler.ctx.resume().then(()=>{console.log("AudioContext resumed successfully on user interaction")}).catch(t=>{console.error("Failed to resume AudioContext:",t)}),document.removeEventListener("click",e),document.removeEventListener("keydown",e),document.removeEventListener("touchstart",e)};return document.addEventListener("click",e),document.addEventListener("keydown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",e),document.removeEventListener("touchstart",e)}},[]),null),Cre=({winningTeam:e,onReturnToSetup:t,players:n,gameLength:r,doubleLanes:s,onUpdatePlayerStats:a})=>{const[A,o]=j.useState(!1),[l,u]=j.useState(!1),[f,c]=j.useState(!1),[d,h]=j.useState(null),[m,x]=j.useState(!1),[v,g]=j.useState(!1),{playSound:p}=et();j.useEffect(()=>{p("victory");const B=setTimeout(()=>{o(!0),p("buttonClick")},3e3);return()=>clearTimeout(B)},[]);const y=()=>{p("buttonClick"),t()},b=async()=>{u(!0),h(null);try{p("buttonClick");const B={date:new Date,winningTeam:e,gameLength:r,doubleLanes:s},_=n.map(N=>{var w,E,U,I,H,$,K,M,D;return{id:N.name,team:N.team,heroId:((w=N.hero)==null?void 0:w.id)||0,heroName:((E=N.hero)==null?void 0:E.name)||"Unknown Hero",heroRoles:((U=N.hero)==null?void 0:U.roles)||[],kills:(I=N.stats)==null?void 0:I.totalKills,deaths:(H=N.stats)==null?void 0:H.totalDeaths,assists:($=N.stats)==null?void 0:$.totalAssists,goldEarned:(K=N.stats)==null?void 0:K.totalGoldEarned,minionKills:(M=N.stats)==null?void 0:M.totalMinionKills,level:(D=N.stats)==null?void 0:D.level}});await ye.recordMatch(B,_),c(!0),p("phaseChange")}catch(B){console.error("Error saving match data:",B),h("Failed to save match data. Please try again.")}finally{u(!1)}},C=B=>{p("buttonClick"),B&&a&&a(B),g(!0),x(!1),p("phaseChange")};return i.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center",children:[i.jsx("div",{className:`absolute inset-0 ${e===G.Titans?"bg-blue-900 bg-opacity-95":"bg-red-900 bg-opacity-95"}`}),i.jsxs("div",{className:"relative z-10 text-center",children:[i.jsx("div",{className:"mb-8 transform scale-100 animate-bounce",children:i.jsx(Zd,{size:120,className:`${e===G.Titans?"text-blue-300":"text-red-300"}`})}),i.jsxs("h1",{className:"text-6xl font-bold mb-4 animate-in fade-in",children:[e===G.Titans?"Titan":"Atlantean"," Victory!"]}),i.jsxs("p",{className:"text-2xl mb-12 opacity-75",children:["The ",e===G.Titans?"Titan":"Atlantean","s have emerged victorious!"]}),i.jsx("div",{className:"victory-stars",children:[...Array(20)].map((B,_)=>i.jsx("div",{className:`absolute star-${_} text-${e===G.Titans?"blue":"red"}-200`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,opacity:Math.random()*.5+.5,animation:`twinkle ${Math.random()*2+1}s infinite alternate`},children:""},_))}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center mt-4",children:[i.jsxs("button",{onClick:y,className:`px-6 py-3 rounded-lg text-white font-medium flex items-center mx-auto ${A?"opacity-100":"opacity-0"} transition-opacity duration-500 ${e===G.Titans?"bg-blue-600 hover:bg-blue-500":"bg-red-600 hover:bg-red-500"}`,children:[i.jsx(ST,{size:20,className:"mr-2"}),"Return to Setup"]}),!v&&A&&i.jsx(ke,{text:"Record statistics for the final round before saving",children:i.jsxs("button",{onClick:()=>{p("buttonClick"),x(!0)},className:`px-6 py-3 rounded-lg text-white font-medium flex items-center mx-auto ${e===G.Titans?"bg-blue-700 hover:bg-blue-600":"bg-red-700 hover:bg-red-600"}`,children:[i.jsx(ld,{size:20,className:"mr-2"}),"Record Final Round Stats"]})}),A&&i.jsx(ke,{text:f?"Match data saved successfully":"Save match results to your statistics",children:i.jsx("button",{onClick:b,disabled:l||f,className:`px-6 py-3 rounded-lg text-white font-medium flex items-center mx-auto
                  ${f?"bg-green-600 cursor-default":e===G.Titans?"bg-blue-700 hover:bg-blue-600":"bg-red-700 hover:bg-red-600"} ${l?"opacity-70 cursor-wait":"opacity-100"}`,children:l?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Saving..."]}):f?i.jsxs(i.Fragment,{children:[i.jsx(ld,{size:20,className:"mr-2"}),"Saved Successfully"]}):i.jsxs(i.Fragment,{children:[i.jsx(ld,{size:20,className:"mr-2"}),"Save Match Data"]})})})]}),v&&A&&i.jsx("div",{className:"mt-4 px-5 py-3 bg-green-800/70 rounded-lg inline-block",children:i.jsxs("p",{className:"flex items-center text-green-200",children:[i.jsx(qa,{size:16,className:"mr-2"}),"Final round statistics recorded"]})}),d&&i.jsx("div",{className:"mt-4 px-5 py-3 bg-red-800/70 rounded-lg inline-block",children:i.jsxs("p",{className:"flex items-center text-red-200",children:[i.jsx(Ns,{size:16,className:"mr-2"}),d]})})]}),i.jsx(Nj,{players:n,onComplete:C,isVisible:m}),i.jsx("style",{children:`
        @keyframes twinkle {
          0% { transform: scale(0.5); opacity: 0.3; }
          100% { transform: scale(1.5); opacity: 0.9; }
        }
        
        .animate-in {
          animation: fadeIn 1s ease-out forwards;
        }
        
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .victory-stars div {
          position: absolute;
          font-size: 1.5rem;
        }
      `})]})},_re=({gameState:e,players:t,onResume:n,onDiscard:r,savedTime:s})=>{const{playSound:a}=et(),A=()=>{a("buttonClick"),n()},o=()=>{a("buttonClick"),r()},l=t.filter(c=>c.team===G.Titans).length,u=t.filter(c=>c.team===G.Atlanteans).length,f=c=>{switch(c){case"strategy":return"Strategy Phase";case"move":return"Action Phase";case"turn-end":return"Turn Complete";default:return c}};return i.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full shadow-lg border border-blue-500",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center",children:[i.jsx(WA,{size:24,className:"mr-2 text-blue-400"}),"Resume Previous Game?"]}),i.jsxs("p",{className:"mb-4",children:["You have an ongoing game session from ",i.jsx("span",{className:"font-medium text-blue-300",children:s}),". Would you like to resume where you left off?"]}),i.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg mb-6",children:[i.jsx("h3",{className:"font-semibold mb-2 text-blue-200",children:"Game Summary:"}),i.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[i.jsxs("li",{className:"flex items-center",children:[i.jsx(At,{size:16,className:"mr-2 text-yellow-400"}),i.jsxs("span",{children:["Round ",e.round,", Turn ",e.turn,"/4"]})]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx(VA,{size:16,className:"mr-2 text-green-400"}),i.jsxs("span",{children:[l," Titans vs ",u," Atlanteans"]})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),"Titans: ",e.teamLives.titans," lives"]}),i.jsxs("span",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),"Atlanteans: ",e.teamLives.atlanteans," lives"]})]}),i.jsxs("li",{children:["Current Phase: ",i.jsx("span",{className:"text-yellow-300",children:f(e.currentPhase)})]})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("button",{className:"flex-1 bg-green-600 hover:bg-green-500 px-4 py-3 rounded-lg text-white font-medium flex items-center justify-center shadow-md",onClick:A,children:[i.jsx(gv,{size:18,className:"mr-2"})," Resume Game"]}),i.jsxs("button",{className:"flex-1 bg-gray-600 hover:bg-gray-500 px-4 py-3 rounded-lg text-white font-medium flex items-center justify-center shadow-md",onClick:o,children:[i.jsx(zs,{size:18,className:"mr-2"})," New Game"]})]})]})})};class Sre{constructor(){ne(this,"dbName","guards-of-atlantis-timer");ne(this,"storeName","game-state");ne(this,"version",1);ne(this,"dbPromise",null);this.initDB()}initDB(){return this.dbPromise?this.dbPromise:(this.dbPromise=new Promise((t,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=s=>{console.error("IndexedDB error:",s),n(s)},r.onsuccess=s=>{t(s.target.result)},r.onupgradeneeded=s=>{const a=s.target.result;a.objectStoreNames.contains(this.storeName)||a.createObjectStore(this.storeName,{keyPath:"id"})}}),this.dbPromise)}async saveGame(t){try{const r=(await this.initDB()).transaction(this.storeName,"readwrite"),s=r.objectStore(this.storeName),a={...t,timestamp:Date.now()};return s.put({id:"current",...a}),new Promise((A,o)=>{r.oncomplete=()=>A(),r.onerror=l=>o(l)})}catch(n){throw console.error("Error saving game:",n),n}}async loadGame(){try{const s=(await this.initDB()).transaction(this.storeName,"readonly").objectStore(this.storeName).get("current");return new Promise((a,A)=>{s.onsuccess=()=>{const o=s.result;if(o){const{id:l,...u}=o;a(u)}else a(null)},s.onerror=o=>A(o)})}catch(t){return console.error("Error loading game:",t),null}}async clearGame(){try{const n=(await this.initDB()).transaction(this.storeName,"readwrite");return n.objectStore(this.storeName).delete("current"),new Promise((s,a)=>{n.oncomplete=()=>s(),n.onerror=A=>a(A)})}catch(t){throw console.error("Error clearing game:",t),t}}isSupported(){return!!window.indexedDB}}const Ji=new Sre,Kn=class Kn{async runMigrations(){const t=Date.now();try{const n=this.getLastMigrationVersion();if(n>=Kn.CURRENT_VERSION)return{success:!0,version:n,matchesAnalyzed:0,statsConverted:0,playersAffected:0,duration:Date.now()-t};const r=this.runLegacyStatsMigration(),s=new Promise((A,o)=>{setTimeout(()=>o(new Error("Migration timeout")),Kn.TIMEOUT_MS)}),a=await Promise.race([r,s]);return this.setMigrationVersion(Kn.CURRENT_VERSION),{success:!0,version:Kn.CURRENT_VERSION,duration:Date.now()-t,...a}}catch(n){return console.error("Migration failed:",n),{success:!1,version:this.getLastMigrationVersion(),matchesAnalyzed:0,statsConverted:0,playersAffected:0,error:n instanceof Error?n.message:"Unknown migration error",duration:Date.now()-t}}}async runLegacyStatsMigration(){console.log(" Starting legacy stats migration...");const t=await ye.getAllMatches();console.log(` Found ${t.length} matches to analyze`);let n=0;const r=new Set;for(const a of t){const A=await ye.getMatchPlayers(a.id),o=["kills","deaths","assists","goldEarned","minionKills","level"];for(const l of o){const u=A.map(h=>h[l]),f=u.every(h=>h===0),c=u.some(h=>h==null),d=u.some(h=>h!==0&&h!==void 0&&h!==null);if(f&&!c&&!d)for(const h of A)await ye.updateMatchPlayer(h.id,{...h,[l]:void 0}),n++,r.add(h.playerId)}}const s={matchesAnalyzed:t.length,statsConverted:n,playersAffected:r.size};return console.log(" Legacy stats migration completed:",s),s}getLastMigrationVersion(){try{const t=localStorage.getItem(Kn.MIGRATION_VERSION_KEY);return parseInt(t||"0")}catch(t){return console.warn("Failed to read migration version:",t),0}}setMigrationVersion(t){try{localStorage.setItem(Kn.MIGRATION_VERSION_KEY,t.toString())}catch(n){console.warn("Failed to save migration version:",n)}}isMigrationNeeded(){return this.getLastMigrationVersion()<Kn.CURRENT_VERSION}resetMigrationVersion(){try{localStorage.removeItem(Kn.MIGRATION_VERSION_KEY)}catch(t){console.warn("Failed to reset migration version:",t)}}};ne(Kn,"MIGRATION_VERSION_KEY","goa_migration_version"),ne(Kn,"CURRENT_VERSION",1),ne(Kn,"TIMEOUT_MS",3e4);let Xg=Kn;const jre=new Xg;class Nre{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return kre(t).buffer}}function kre(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e){const a=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(a,r),r+=s.byteLength}return n}function Fj(e){return new Ere(e).unpack()}function Qj(e){const t=new Fre,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class Ere{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,s="",a,A;for(;r<t;)a=n[r],a<160?(A=a,r++):(a^192)<32?(A=(a&31)<<6|n[r+1]&63,r+=2):(a^224)<16?(A=(a&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(A=(a&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(A);return this.index+=t,s}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,s=t&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,s=(t>>20&2047)-1023,A=(t&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*A}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class Fre{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const a=this.pack(t[s]);return a instanceof Promise?a.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),s=t/2**r-1,a=Math.floor(s*2**52),A=2**32,o=n<<31|r+1023<<20|a/A&1048575,l=a%A;this._bufferBuilder.append(203),this.pack_int32(o),this.pack_int32(l)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=a=>{if(a<n.length){const A=n[a];if(t.hasOwnProperty(A)){this.pack(A);const o=this.pack(t[A]);if(o instanceof Promise)return o.then(()=>s(a+1))}return s(a+1)}};return s(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new Nre,this._textEncoder=new TextEncoder}}let Uj=!0,Tj=!0;function tl(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function Fi(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(A,o){if(A!==t)return s.apply(this,arguments);const l=u=>{const f=n(u);f&&(o.handleEvent?o.handleEvent(f):o(f))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(o,l),s.apply(this,[A,l])};const a=r.removeEventListener;r.removeEventListener=function(A,o){if(A!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(o))return a.apply(this,arguments);const l=this._eventMap[t].get(o);return this._eventMap[t].delete(o),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,a.apply(this,[A,l])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(A){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),A&&this.addEventListener(t,this["_on"+t]=A)},enumerable:!0,configurable:!0})}function Qre(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Uj=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Ure(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Tj=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Ij(){if(typeof window=="object"){if(Uj)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function zv(e,t){Tj&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Tre(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(tl(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(tl(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(tl(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=tl(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function eB(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mj(e){return eB(e)?Object.keys(e).reduce(function(t,n){const r=eB(e[n]),s=r?Mj(e[n]):e[n],a=r&&!Object.keys(s).length;return s===void 0||a?t:Object.assign(t,{[n]:s})},{}):e}function Yg(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?Yg(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(s=>{Yg(e,e.get(s),n)})}))}function tB(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(t===null)return s;const a=[];return e.forEach(A=>{A.type==="track"&&A.trackIdentifier===t.id&&a.push(A)}),a.forEach(A=>{e.forEach(o=>{o.type===r&&o.trackId===A.id&&Yg(e,o,s)})}),s}const nB=Ij;function Dj(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(o){if(typeof o!="object"||o.mandatory||o.optional)return o;const l={};return Object.keys(o).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const f=typeof o[u]=="object"?o[u]:{ideal:o[u]};f.exact!==void 0&&typeof f.exact=="number"&&(f.min=f.max=f.exact);const c=function(d,h){return d?d+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(f.ideal!==void 0){l.optional=l.optional||[];let d={};typeof f.ideal=="number"?(d[c("min",u)]=f.ideal,l.optional.push(d),d={},d[c("max",u)]=f.ideal,l.optional.push(d)):(d[c("",u)]=f.ideal,l.optional.push(d))}f.exact!==void 0&&typeof f.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[c("",u)]=f.exact):["min","max"].forEach(d=>{f[d]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[c(d,u)]=f[d])})}),o.advanced&&(l.optional=(l.optional||[]).concat(o.advanced)),l},s=function(o,l){if(t.version>=61)return l(o);if(o=JSON.parse(JSON.stringify(o)),o&&typeof o.audio=="object"){const u=function(f,c,d){c in f&&!(d in f)&&(f[d]=f[c],delete f[c])};o=JSON.parse(JSON.stringify(o)),u(o.audio,"autoGainControl","googAutoGainControl"),u(o.audio,"noiseSuppression","googNoiseSuppression"),o.audio=r(o.audio)}if(o&&typeof o.video=="object"){let u=o.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const f=t.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!f)){delete o.video.facingMode;let c;if(u.exact==="environment"||u.ideal==="environment"?c=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(c=["front"]),c)return n.mediaDevices.enumerateDevices().then(d=>{d=d.filter(m=>m.kind==="videoinput");let h=d.find(m=>c.some(x=>m.label.toLowerCase().includes(x)));return!h&&d.length&&c.includes("back")&&(h=d[d.length-1]),h&&(o.video.deviceId=u.exact?{exact:h.deviceId}:{ideal:h.deviceId}),o.video=r(o.video),nB("chrome: "+JSON.stringify(o)),l(o)})}o.video=r(o.video)}return nB("chrome: "+JSON.stringify(o)),l(o)},a=function(o){return t.version>=64?o:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[o.name]||o.name,message:o.message,constraint:o.constraint||o.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},A=function(o,l,u){s(o,f=>{n.webkitGetUserMedia(f,l,c=>{u&&u(a(c))})})};if(n.getUserMedia=A.bind(n),n.mediaDevices.getUserMedia){const o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return s(l,u=>o(u).then(f=>{if(u.audio&&!f.getAudioTracks().length||u.video&&!f.getVideoTracks().length)throw f.getTracks().forEach(c=>{c.stop()}),new DOMException("","NotFoundError");return f},f=>Promise.reject(a(f))))}}}function Pj(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Hj(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let a;e.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(o=>o.track&&o.track.id===s.track.id):a={track:s.track};const A=new Event("track");A.track=s.track,A.receiver=a,A.transceiver={receiver:a},A.streams=[r.stream],this.dispatchEvent(A)}),r.stream.getTracks().forEach(s=>{let a;e.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(o=>o.track&&o.track.id===s.id):a={track:s};const A=new Event("track");A.track=s,A.receiver=a,A.transceiver={receiver:a},A.streams=[r.stream],this.dispatchEvent(A)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Fi(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function $j(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(s,a){return{track:a,get dtmf(){return this._dtmf===void 0&&(a.kind==="audio"?this._dtmf=s.createDTMFSender(a):this._dtmf=null),this._dtmf},_pc:s}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,l){let u=s.apply(this,arguments);return u||(u=t(this,o),this._senders.push(u)),u};const a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){a.apply(this,arguments);const l=this._senders.indexOf(o);l!==-1&&this._senders.splice(l,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],n.apply(this,[a]),a.getTracks().forEach(A=>{this._senders.push(t(this,A))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],r.apply(this,[a]),a.getTracks().forEach(A=>{const o=this._senders.find(l=>l.track===A);o&&this._senders.splice(this._senders.indexOf(o),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Rj(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const a=n.apply(this,[]);return a.forEach(A=>A._pc=this),a});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const a=r.apply(this,arguments);return a._pc=this,a}),e.RTCRtpSender.prototype.getStats=function(){const a=this;return this._pc.getStats().then(A=>tB(A,a.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(a=>a._pc=this),s}),Fi(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(a=>tB(a,s.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let s,a,A;return this.getSenders().forEach(o=>{o.track===r&&(s?A=!0:s=o)}),this.getReceivers().forEach(o=>(o.track===r&&(a?A=!0:a=o),o.track===r)),A||s&&a?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():a?a.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Lj(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(A=>this._shimmedLocalStreams[A][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(A,o){if(!o)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=t.apply(this,arguments);return this._shimmedLocalStreams[o.id]?this._shimmedLocalStreams[o.id].indexOf(l)===-1&&this._shimmedLocalStreams[o.id].push(l):this._shimmedLocalStreams[o.id]=[o,l],l};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(A){this._shimmedLocalStreams=this._shimmedLocalStreams||{},A.getTracks().forEach(u=>{if(this.getSenders().find(c=>c.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const o=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(u=>o.indexOf(u)===-1);this._shimmedLocalStreams[A.id]=[A].concat(l)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(A){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[A.id],r.apply(this,arguments)};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(A){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},A&&Object.keys(this._shimmedLocalStreams).forEach(o=>{const l=this._shimmedLocalStreams[o].indexOf(A);l!==-1&&this._shimmedLocalStreams[o].splice(l,1),this._shimmedLocalStreams[o].length===1&&delete this._shimmedLocalStreams[o]}),s.apply(this,arguments)}}function Oj(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Lj(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const f=n.apply(this);return this._reverseStreams=this._reverseStreams||{},f.map(c=>this._reverseStreams[c.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(f){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},f.getTracks().forEach(c=>{if(this.getSenders().find(h=>h.track===c))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[f.id]){const c=new e.MediaStream(f.getTracks());this._streams[f.id]=c,this._reverseStreams[c.id]=f,f=c}r.apply(this,[f])};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(f){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[f.id]||f]),delete this._reverseStreams[this._streams[f.id]?this._streams[f.id].id:f.id],delete this._streams[f.id]},e.RTCPeerConnection.prototype.addTrack=function(f,c){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const d=[].slice.call(arguments,1);if(d.length!==1||!d[0].getTracks().find(x=>x===f))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(x=>x.track===f))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const m=this._streams[c.id];if(m)m.addTrack(f),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const x=new e.MediaStream([f]);this._streams[c.id]=x,this._reverseStreams[x.id]=c,this.addStream(x)}return this.getSenders().find(x=>x.track===f)};function a(u,f){let c=f.sdp;return Object.keys(u._reverseStreams||[]).forEach(d=>{const h=u._reverseStreams[d],m=u._streams[h.id];c=c.replace(new RegExp(m.id,"g"),h.id)}),new RTCSessionDescription({type:f.type,sdp:c})}function A(u,f){let c=f.sdp;return Object.keys(u._reverseStreams||[]).forEach(d=>{const h=u._reverseStreams[d],m=u._streams[h.id];c=c.replace(new RegExp(h.id,"g"),m.id)}),new RTCSessionDescription({type:f.type,sdp:c})}["createOffer","createAnswer"].forEach(function(u){const f=e.RTCPeerConnection.prototype[u],c={[u](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?f.apply(this,[m=>{const x=a(this,m);d[0].apply(null,[x])},m=>{d[1]&&d[1].apply(null,m)},arguments[2]]):f.apply(this,arguments).then(m=>a(this,m))}};e.RTCPeerConnection.prototype[u]=c[u]});const o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?o.apply(this,arguments):(arguments[0]=A(this,arguments[0]),o.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const u=l.get.apply(this);return u.type===""?u:a(this,u)}}),e.RTCPeerConnection.prototype.removeTrack=function(f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!f._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(f._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let d;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(x=>f.track===x)&&(d=this._streams[h])}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(f.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Jg(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=s[n]})}function Kj(e,t){Fi(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const rB=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Kj,shimAddTrackRemoveTrack:Oj,shimAddTrackRemoveTrackWithNative:Lj,shimGetSendersWithDtmf:$j,shimGetUserMedia:Dj,shimMediaStream:Pj,shimOnTrack:Hj,shimPeerConnection:Jg,shimSenderReceiverGetStats:Rj},Symbol.toStringTag,{value:"Module"}));function zj(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(s,a,A){zv("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(a,A)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(A,o,l){o in A&&!(l in A)&&(A[l]=A[o],delete A[o])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(A){return typeof A=="object"&&typeof A.audio=="object"&&(A=JSON.parse(JSON.stringify(A)),s(A.audio,"autoGainControl","mozAutoGainControl"),s(A.audio,"noiseSuppression","mozNoiseSuppression")),a(A)},r&&r.prototype.getSettings){const A=r.prototype.getSettings;r.prototype.getSettings=function(){const o=A.apply(this,arguments);return s(o,"mozAutoGainControl","autoGainControl"),s(o,"mozNoiseSuppression","noiseSuppression"),o}}if(r&&r.prototype.applyConstraints){const A=r.prototype.applyConstraints;r.prototype.applyConstraints=function(o){return this.kind==="audio"&&typeof o=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o,"autoGainControl","mozAutoGainControl"),s(o,"noiseSuppression","mozNoiseSuppression")),A.apply(this,[o])}}}}function Ire(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function Gj(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Zg(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const a=e.RTCPeerConnection.prototype[s],A={[s](){return arguments[0]=new(s==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}};e.RTCPeerConnection.prototype[s]=A[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[a,A,o]=arguments;return r.apply(this,[a||null]).then(l=>{if(t.version<53&&!A)try{l.forEach(u=>{u.type=n[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;l.forEach((f,c)=>{l.set(c,Object.assign({},f,{type:n[f.type]||f.type}))})}return l}).then(A,o)}}function Wj(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(a=>a._pc=this),s});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Vj(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r}),Fi(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function qj(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){zv("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Xj(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Yj(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(A=>{if("rid"in A&&!/^[a-z0-9]{0,16}$/i.test(A.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in A&&!(parseFloat(A.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in A&&!(parseFloat(A.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const a=t.apply(this,arguments);if(s){const{sender:A}=a,o=A.getParameters();(!("encodings"in o)||o.encodings.length===1&&Object.keys(o.encodings[0]).length===0)&&(o.encodings=r,A.sendEncodings=r,this.setParametersPromises.push(A.setParameters(o).then(()=>{delete A.sendEncodings}).catch(()=>{delete A.sendEncodings})))}return a})}function Jj(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Zj(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function eN(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const sB=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Yj,shimCreateAnswer:eN,shimCreateOffer:Zj,shimGetDisplayMedia:Ire,shimGetParameters:Jj,shimGetUserMedia:zj,shimOnTrack:Gj,shimPeerConnection:Zg,shimRTCDataChannel:Xj,shimReceiverGetStats:Vj,shimRemoveStream:qj,shimSenderGetStats:Wj},Symbol.toStringTag,{value:"Module"}));function tN(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>t.call(this,s,r)),r.getVideoTracks().forEach(s=>t.call(this,s,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(a=>{s.includes(a.track)&&this.removeTrack(a)})})}}function nN(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const a=new Event("addstream");a.stream=s,this.dispatchEvent(a)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(a=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(a)>=0)return;r._remoteStreams.push(a);const A=new Event("addstream");A.stream=a,r.dispatchEvent(A)})}),t.apply(r,arguments)}}}function rN(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,s=t.setLocalDescription,a=t.setRemoteDescription,A=t.addIceCandidate;t.createOffer=function(u,f){const c=arguments.length>=2?arguments[2]:arguments[0],d=n.apply(this,[c]);return f?(d.then(u,f),Promise.resolve()):d},t.createAnswer=function(u,f){const c=arguments.length>=2?arguments[2]:arguments[0],d=r.apply(this,[c]);return f?(d.then(u,f),Promise.resolve()):d};let o=function(l,u,f){const c=s.apply(this,[l]);return f?(c.then(u,f),Promise.resolve()):c};t.setLocalDescription=o,o=function(l,u,f){const c=a.apply(this,[l]);return f?(c.then(u,f),Promise.resolve()):c},t.setRemoteDescription=o,o=function(l,u,f){const c=A.apply(this,[l]);return f?(c.then(u,f),Promise.resolve()):c},t.addIceCandidate=o}function sN(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=s=>r(aN(s))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,s,a){t.mediaDevices.getUserMedia(r).then(s,a)}).bind(t))}function aN(e){return e&&e.video!==void 0?Object.assign({},e,{video:Mj(e.video)}):e}function iN(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const a=[];for(let A=0;A<r.iceServers.length;A++){let o=r.iceServers[A];o.urls===void 0&&o.url?(zv("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,a.push(o)):a.push(r.iceServers[A])}r.iceServers=a}return new t(r,s)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function AN(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function oN(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(A=>A.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const a=this.getTransceivers().find(A=>A.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):r.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function lN(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const aB=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:lN,shimCallbacksAPI:rN,shimConstraints:aN,shimCreateOfferLegacy:oN,shimGetUserMedia:sN,shimLocalStreamsAPI:tN,shimRTCIceServerUrls:iN,shimRemoteStreamsAPI:nN,shimTrackEventTransceiver:AN},Symbol.toStringTag,{value:"Module"}));var cN={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((s,a)=>(a>0?"m="+s:s).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(s=>s.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let a=8;a<r.length;a+=2)switch(r[a]){case"raddr":s.relatedAddress=r[a+1];break;case"rport":s.relatedPort=parseInt(r[a+1],10);break;case"tcptype":s.tcpType=r[a+1];break;case"ufrag":s.ufrag=r[a+1],s.usernameFragment=r[a+1];break;default:s[r[a]]===void 0&&(s[r[a]]=r[a+1]);break}return s},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const a=n.type;return r.push("typ"),r.push(a),a!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let s;const a=n.substring(n.indexOf(" ")+1).split(";");for(let A=0;A<a.length;A++)s=a[A].trim().split("="),r[s[0].trim()]=s[1];return r},t.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const a=[];Object.keys(n.parameters).forEach(A=>{n.parameters[A]!==void 0?a.push(A+"="+n.parameters[A]):a.push(A)}),r+="a=fmtp:"+s+" "+a.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(a=>{r+="a=rtcp-fb:"+s+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},a=n.indexOf(":",r);return a>-1?(s.attribute=n.substring(r+1,a),s.value=n.substring(a+1)):s.attribute=n.substring(r+1),s},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(a=>{s+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),s},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const s=t.matchPrefix(n+r,"a=ice-ufrag:")[0],a=t.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&a?{usernameFragment:s.substring(12),password:a.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=t.splitLines(n)[0].split(" ");r.profile=a[2];for(let o=3;o<a.length;o++){const l=a[o],u=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(u){const f=t.parseRtpMap(u),c=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(f.parameters=c.length?t.parseFmtp(c[0]):{},f.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(f),f.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(f.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(o=>{r.headerExtensions.push(t.parseExtmap(o))});const A=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(o=>{A.forEach(l=>{o.rtcpFeedback.find(f=>f.type===l.type&&f.parameter===l.parameter)||o.rtcpFeedback.push(l)})}),r},t.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(A=>A.preferredPayloadType!==void 0?A.preferredPayloadType:A.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(A=>{s+=t.writeRtpMap(A),s+=t.writeFmtp(A),s+=t.writeRtcpFb(A)});let a=0;return r.codecs.forEach(A=>{A.maxptime>a&&(a=A.maxptime)}),a>0&&(s+="a=maxptime:"+a+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(A=>{s+=t.writeExtmap(A)}),s},t.parseRtpEncodingParameters=function(n){const r=[],s=t.parseRtpParameters(n),a=s.fecMechanisms.indexOf("RED")!==-1,A=s.fecMechanisms.indexOf("ULPFEC")!==-1,o=t.matchPrefix(n,"a=ssrc:").map(d=>t.parseSsrcMedia(d)).filter(d=>d.attribute==="cname"),l=o.length>0&&o[0].ssrc;let u;const f=t.matchPrefix(n,"a=ssrc-group:FID").map(d=>d.substring(17).split(" ").map(m=>parseInt(m,10)));f.length>0&&f[0].length>1&&f[0][0]===l&&(u=f[0][1]),s.codecs.forEach(d=>{if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){let h={ssrc:l,codecPayloadType:parseInt(d.parameters.apt,10)};l&&u&&(h.rtx={ssrc:u}),r.push(h),a&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:l,mechanism:A?"red+ulpfec":"red"},r.push(h))}}),r.length===0&&l&&r.push({ssrc:l});let c=t.matchPrefix(n,"b=");return c.length&&(c[0].indexOf("b=TIAS:")===0?c=parseInt(c[0].substring(7),10):c[0].indexOf("b=AS:")===0?c=parseInt(c[0].substring(5),10)*1e3*.95-50*40*8:c=void 0,r.forEach(d=>{d.maxBitrate=c})),r},t.parseRtcpParameters=function(n){const r={},s=t.matchPrefix(n,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const a=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=a.length>0,r.compound=a.length===0;const A=t.matchPrefix(n,"a=rtcp-mux");return r.mux=A.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const s=t.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const a=t.matchPrefix(n,"a=ssrc:").map(A=>t.parseSsrcMedia(A)).filter(A=>A.attribute==="msid");if(a.length>0)return r=a[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),s=t.matchPrefix(n,"a=max-message-size:");let a;s.length>0&&(a=parseInt(s[0].substring(19),10)),isNaN(a)&&(a=65536);const A=t.matchPrefix(n,"a=sctp-port:");if(A.length>0)return{port:parseInt(A[0].substring(12),10),protocol:r.fmt,maxMessageSize:a};const o=t.matchPrefix(n,"a=sctpmap:");if(o.length>0){const l=o[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:a}}},t.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,s){let a;const A=r!==void 0?r:2;return n?a=n:a=t.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+a+" "+A+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const s=t.splitLines(n);for(let a=0;a<s.length;a++)switch(s[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[a].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const s=t.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},t.parseOLine=function(n){const s=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},e.exports=t})(cN);var uN=cN.exports;const TA=xt(uN),Mre=sF({__proto__:null,default:TA},[uN]);function cd(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new t(r),a=TA.parseCandidate(r.candidate);for(const A in a)A in s||Object.defineProperty(s,A,{value:a[A]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Fi(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function ep(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Fi(e,"icecandidate",t=>{if(t.candidate){const n=TA.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function ud(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(o){if(!o||!o.sdp)return!1;const l=TA.splitSections(o.sdp);return l.shift(),l.some(u=>{const f=TA.parseMLine(u);return f&&f.kind==="application"&&f.protocol.indexOf("SCTP")!==-1})},r=function(o){const l=o.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const u=parseInt(l[1],10);return u!==u?-1:u},s=function(o){let l=65536;return t.browser==="firefox"&&(t.version<57?o===-1?l=16384:l=2147483637:t.version<60?l=t.version===57?65535:65536:l=2147483637),l},a=function(o,l){let u=65536;t.browser==="firefox"&&t.version===57&&(u=65535);const f=TA.matchPrefix(o.sdp,"a=max-message-size:");return f.length>0?u=parseInt(f[0].substring(19),10):t.browser==="firefox"&&l!==-1&&(u=2147483637),u},A=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),u=s(l),f=a(arguments[0],l);let c;u===0&&f===0?c=Number.POSITIVE_INFINITY:u===0||f===0?c=Math.max(u,f):c=Math.min(u,f);const d={};Object.defineProperty(d,"maxMessageSize",{get(){return c}}),this._sctp=d}return A.apply(this,arguments)}}function dd(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,s){const a=r.send;r.send=function(){const o=arguments[0],l=o.length||o.size||o.byteLength;if(r.readyState==="open"&&s.sctp&&l>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return a.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return t(s,this),s},Fi(e,"datachannel",r=>(t(r.channel,r.target),r))}function tp(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const a=s.target;if(a._lastConnectionState!==a.connectionState){a._lastConnectionState=a.connectionState;const A=new Event("connectionstatechange",s);a.dispatchEvent(A)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function np(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const a=s.sdp.split(`
`).filter(A=>A.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&s instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:s.type,sdp:a}):s.sdp=a}return n.apply(this,arguments)}}function fd(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function hd(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(A=>n.apply(this,[A]))})}const Dre=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:np,shimAddIceCandidateNullOrEmpty:fd,shimConnectionState:tp,shimMaxMessageSize:ud,shimParameterlessSetLocalDescription:hd,shimRTCIceCandidate:cd,shimRTCIceCandidateRelayProtocol:ep,shimSendThrowTypeError:dd},Symbol.toStringTag,{value:"Module"}));function Pre({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=Ij,r=Tre(e),s={browserDetails:r,commonShim:Dre,extractVersion:tl,disableLog:Qre,disableWarnings:Ure,sdp:Mre};switch(r.browser){case"chrome":if(!rB||!Jg||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=rB,fd(e,r),hd(e),Dj(e,r),Pj(e),Jg(e,r),Hj(e),Oj(e,r),$j(e),Rj(e),Kj(e,r),cd(e),ep(e),tp(e),ud(e,r),dd(e),np(e,r);break;case"firefox":if(!sB||!Zg||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=sB,fd(e,r),hd(e),zj(e,r),Zg(e,r),Gj(e),qj(e),Wj(e),Vj(e),Xj(e),Yj(e),Jj(e),Zj(e),eN(e),cd(e),tp(e),ud(e,r),dd(e);break;case"safari":if(!aB||!t.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=aB,fd(e,r),hd(e),iN(e),oN(e),rN(e),tN(e),nN(e),AN(e),sN(e),lN(e),cd(e),ep(e),ud(e,r),dd(e),np(e,r);break;default:n("Unsupported browser!");break}return s}const iB=Pre({window:typeof window>"u"?void 0:window});function Qi(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class dN{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,s=Math.ceil(r/this.chunkedMTU);let a=0,A=0;for(;A<r;){const o=Math.min(r,A+this.chunkedMTU),l=t.slice(A,o),u={__peerData:this._dataCount,n:a,data:l,total:s};n.push(u),A=o,a++}return this._dataCount++,n}}}function Hre(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.byteLength;return n}const Am=iB.default||iB,Po=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return Am.browserDetails.browser}getVersion(){return Am.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=Am.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},$re=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),fN=()=>Math.random().toString(36).slice(2),AB={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Rre extends dN{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=AB,this.browser=Po.getBrowser(),this.browserVersion=Po.getVersion(),this.pack=Qj,this.unpack=Fj,this.supports=function(){const n={browser:Po.isBrowserSupported(),webRTC:Po.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(AB),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!Po.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=$re,this.randomToken=fN}}const Fn=new Rre,Lre="PeerJS: ";var oB;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(oB||(oB={}));class Ore{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[Lre,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var ve=new Ore,Gv={},Kre=Object.prototype.hasOwnProperty,Cn="~";function ec(){}Object.create&&(ec.prototype=Object.create(null),new ec().__proto__||(Cn=!1));function zre(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function hN(e,t,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var a=new zre(n,r||e,s),A=Cn?Cn+t:t;return e._events[A]?e._events[A].fn?e._events[A]=[e._events[A],a]:e._events[A].push(a):(e._events[A]=a,e._eventsCount++),e}function md(e,t){--e._eventsCount===0?e._events=new ec:delete e._events[t]}function fn(){this._events=new ec,this._eventsCount=0}fn.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)Kre.call(n,r)&&t.push(Cn?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};fn.prototype.listeners=function(t){var n=Cn?Cn+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,a=r.length,A=new Array(a);s<a;s++)A[s]=r[s].fn;return A};fn.prototype.listenerCount=function(t){var n=Cn?Cn+t:t,r=this._events[n];return r?r.fn?1:r.length:0};fn.prototype.emit=function(t,n,r,s,a,A){var o=Cn?Cn+t:t;if(!this._events[o])return!1;var l=this._events[o],u=arguments.length,f,c;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,s),!0;case 5:return l.fn.call(l.context,n,r,s,a),!0;case 6:return l.fn.call(l.context,n,r,s,a,A),!0}for(c=1,f=new Array(u-1);c<u;c++)f[c-1]=arguments[c];l.fn.apply(l.context,f)}else{var d=l.length,h;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,n);break;case 3:l[c].fn.call(l[c].context,n,r);break;case 4:l[c].fn.call(l[c].context,n,r,s);break;default:if(!f)for(h=1,f=new Array(u-1);h<u;h++)f[h-1]=arguments[h];l[c].fn.apply(l[c].context,f)}}return!0};fn.prototype.on=function(t,n,r){return hN(this,t,n,r,!1)};fn.prototype.once=function(t,n,r){return hN(this,t,n,r,!0)};fn.prototype.removeListener=function(t,n,r,s){var a=Cn?Cn+t:t;if(!this._events[a])return this;if(!n)return md(this,a),this;var A=this._events[a];if(A.fn)A.fn===n&&(!s||A.once)&&(!r||A.context===r)&&md(this,a);else{for(var o=0,l=[],u=A.length;o<u;o++)(A[o].fn!==n||s&&!A[o].once||r&&A[o].context!==r)&&l.push(A[o]);l.length?this._events[a]=l.length===1?l[0]:l:md(this,a)}return this};fn.prototype.removeAllListeners=function(t){var n;return t?(n=Cn?Cn+t:t,this._events[n]&&md(this,n)):(this._events=new ec,this._eventsCount=0),this};fn.prototype.off=fn.prototype.removeListener;fn.prototype.addListener=fn.prototype.on;fn.prefixed=Cn;fn.EventEmitter=fn;Gv=fn;var Ui={};Qi(Ui,"ConnectionType",()=>es);Qi(Ui,"PeerErrorType",()=>bt);Qi(Ui,"BaseConnectionErrorType",()=>tc);Qi(Ui,"DataConnectionErrorType",()=>nc);Qi(Ui,"SerializationType",()=>XA);Qi(Ui,"SocketEventType",()=>Yr);Qi(Ui,"ServerMessageType",()=>Lt);var es;(function(e){e.Data="data",e.Media="media"})(es||(es={}));var bt;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(bt||(bt={}));var tc;(function(e){e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed"})(tc||(tc={}));var nc;(function(e){e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big"})(nc||(nc={}));var XA;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw"})(XA||(XA={}));var Yr;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(Yr||(Yr={}));var Lt;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(Lt||(Lt={}));var Wv={};Wv=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class Gre extends Gv.EventEmitter{constructor(t,n,r,s,a,A=5e3){super(),this.pingInterval=A,this._disconnected=!0,this._messagesQueue=[];const o=t?"wss://":"ws://";this._baseUrl=o+n+":"+r+s+"peerjs?key="+a}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+Wv.version),this._disconnected=!1,this._socket.onmessage=s=>{let a;try{a=JSON.parse(s.data),ve.log("Server message received:",a)}catch{ve.log("Invalid server message",s.data);return}this.emit(Yr.Message,a)},this._socket.onclose=s=>{this._disconnected||(ve.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(Yr.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ve.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ve.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:Lt.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(Yr.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class mN{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===es.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,s={ordered:!!t.reliable},a=n.createDataChannel(r.label,s);r._initializeDataChannel(a),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){ve.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,a=this.connection.provider;ve.log("Listening for ICE candidates."),t.onicecandidate=A=>{!A.candidate||!A.candidate.candidate||(ve.log(`Received ICE candidates for ${n}:`,A.candidate),a.socket.send({type:Lt.Candidate,payload:{candidate:A.candidate,type:s,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":ve.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(tc.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":ve.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(tc.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":ve.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},ve.log("Listening for data channel"),t.ondatachannel=A=>{ve.log("Received data channel");const o=A.channel;a.getConnection(n,r)._initializeDataChannel(o)},ve.log("Listening for remote stream"),t.ontrack=A=>{ve.log("Received remote stream");const o=A.streams[0],l=a.getConnection(n,r);if(l.type===es.Media){const u=l;this._addStreamToMediaConnection(o,u)}}}cleanup(){ve.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);ve.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),ve.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===es.Data){const a=this.connection;s={...s,label:a.label,reliable:a.reliable,serialization:a.serialization}}n.socket.send({type:Lt.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(bt.WebRTC,s),ve.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(bt.WebRTC,r),ve.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();ve.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),ve.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:Lt.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(bt.WebRTC,s),ve.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(bt.WebRTC,r),ve.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;ve.log("Setting remote description",n);const a=this;try{await r.setRemoteDescription(n),ve.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await a._makeAnswer()}catch(A){s.emitError(bt.WebRTC,A),ve.log("Failed to setRemoteDescription, ",A)}}async handleCandidate(t){ve.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),ve.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(bt.WebRTC,n),ve.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(ve.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return ve.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){ve.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class gN extends Gv.EventEmitter{emitError(t,n){ve.error("Error:",n),this.emit("error",new Wre(`${t}`,n))}}class Wre extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class pN extends gN{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var gx;const Ql=class Ql extends pN{get type(){return es.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Ql.ID_PREFIX+Fn.randomToken(),this._negotiator=new mN(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{ve.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ve.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){ve.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case Lt.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case Lt.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:ve.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){ve.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};gx=new WeakMap,_o(Ql,gx,Ql.ID_PREFIX="mc_");let tf=Ql;class Vre{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:s,path:a,key:A}=this._options,o=new URL(`${n}://${r}:${s}${a}${A}/${t}`);return o.searchParams.set("ts",`${Date.now()}${Math.random()}`),o.searchParams.set("version",Wv.version),fetch(o.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){ve.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Fn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Fn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw ve.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var px,xx;const Za=class Za extends pN{get type(){return es.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||Za.ID_PREFIX+fN(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new mN(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{ve.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{ve.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{ve.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(nc.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case Lt.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case Lt.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:ve.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};px=new WeakMap,xx=new WeakMap,_o(Za,px,Za.ID_PREFIX="dc_"),_o(Za,xx,Za.MAX_BUFFERED_AMOUNT=8388608);let nf=Za;class Vv extends nf{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>nf.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return ve.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class om extends Vv{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new dN,this.serialization=XA.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=Fj(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=Hre(r.data);this._handleDataMessage({data:s})}}_send(t,n){const r=Qj(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);ve.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class qre extends Vv{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=XA.None}}class Xre extends Vv{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=Fn.chunkedMTU){this.emitError(nc.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=XA.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var vx;const Ul=class Ul extends gN{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:qre,json:Xre,binary:om,"binary-utf8":om,default:om},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:Fn.CLOUD_HOST,port:Fn.CLOUD_PORT,path:"/",key:Ul.DEFAULT_KEY,token:Fn.randomToken(),config:Fn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Fn.CLOUD_HOST?this._options.secure=Fn.isSecure():this._options.host==Fn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ve.setLogFunction(this._options.logFunction),ve.logLevel=this._options.debug||0,this._api=new Vre(n),this._socket=this._createServerConnection(),!Fn.supports.audioVideo&&!Fn.supports.data){this._delayedAbort(bt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Fn.validateId(r)){this._delayedAbort(bt.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(bt.ServerError,s))}_createServerConnection(){const t=new Gre(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(Yr.Message,n=>{this._handleMessage(n)}),t.on(Yr.Error,n=>{this._abort(bt.SocketError,n)}),t.on(Yr.Disconnected,()=>{this.disconnected||(this.emitError(bt.Network,"Lost connection to server."),this.disconnect())}),t.on(Yr.Close,()=>{this.disconnected||this._abort(bt.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,s=t.src;switch(n){case Lt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Lt.Error:this._abort(bt.ServerError,r.msg);break;case Lt.IdTaken:this._abort(bt.UnavailableID,`ID "${this.id}" is taken`);break;case Lt.InvalidKey:this._abort(bt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Lt.Leave:ve.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case Lt.Expire:this.emitError(bt.PeerUnavailable,`Could not connect to peer ${s}`);break;case Lt.Offer:{const a=r.connectionId;let A=this.getConnection(s,a);if(A&&(A.close(),ve.warn(`Offer received for existing Connection ID:${a}`)),r.type===es.Media){const l=new tf(s,this,{connectionId:a,_payload:r,metadata:r.metadata});A=l,this._addConnection(s,A),this.emit("call",l)}else if(r.type===es.Data){const l=new this._serializers[r.serialization](s,this,{connectionId:a,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});A=l,this._addConnection(s,A),this.emit("connection",l)}else{ve.warn(`Received malformed connection type:${r.type}`);return}const o=this._getMessages(a);for(const l of o)A.handleMessage(l);break}default:{if(!r){ve.warn(`You received a malformed message from ${s} of type ${n}`);return}const a=r.connectionId,A=this.getConnection(s,a);A&&A.peerConnection?A.handleMessage(t):a?this._storeMessage(a,t):ve.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){ve.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(bt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){ve.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(bt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){ve.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new tf(t,this,{...r,_stream:n});return this._addConnection(t,s),s}_addConnection(t,n){ve.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){ve.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ve.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;ve.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)ve.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ve.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(bt.ServerError,n))}};vx=new WeakMap,_o(Ul,vx,Ul.DEFAULT_KEY="peerjs");let rp=Ul;var lB=rp;class Yre{constructor(t={}){ne(this,"peer",null);ne(this,"connections",new Map);ne(this,"dataListeners",new Set);ne(this,"connectionStateChangeHandler",null);ne(this,"connectionState",{isConnecting:!1,isConnected:!1,error:null,connectionCode:null,isHost:!1,peerCount:0,detailedStatus:"Initialized"});ne(this,"options");ne(this,"reconnectAttempts",0);ne(this,"maxReconnectAttempts",3);this.options={debug:!1,...t},t.onData&&this.dataListeners.add(t.onData),this.logConnectionStatus("P2PService initialized")}async initAsHost(){const t=this.generateConnectionCode();return this.updateState({isHost:!0,isConnecting:!0,connectionCode:t,detailedStatus:"Initializing as host"}),this.log("Generated connection code:",t),new Promise((n,r)=>{try{this.cleanupPeer();const s=setTimeout(()=>{r(new Error("PeerJS initialization timeout"))},15e3);this.peer=new lB(t,{debug:this.options.debug?2:0}),this.peer.on("open",a=>{clearTimeout(s),this.log("Host initialized with ID:",a),this.logConnectionStatus("Host peer opened, waiting for connections"),this.setupPeerListeners(),n(a)}),this.peer.on("error",a=>{if(clearTimeout(s),a.type==="unavailable-id"){this.log("Connection code already in use, generating new one"),this.logConnectionStatus("Connection code in use, retrying"),this.initAsHost().then(n).catch(r);return}this.handleError("Failed to initialize as host",a),r(a)})}catch(s){this.handleError("Failed to initialize as host",s),r(s)}})}async connect(t){if(!t)throw new Error("Connection code is required");if(t=t.trim().toUpperCase(),this.connectionState.isConnected&&this.connectionState.connectionCode===t&&this.connections.size>0)if(console.log("Already connected to",t),await this.checkConnectionHealth()){console.log("Connection is healthy, no need to reconnect");return}else console.log("Connection is not healthy despite appearing connected, will reconnect"),this.cleanupPeer();return this.updateState({isHost:!1,isConnecting:!0,connectionCode:t,detailedStatus:`Connecting to host: ${t}`}),new Promise((n,r)=>{try{this.cleanupPeer();const s=setTimeout(()=>{r(new Error("PeerJS initialization timeout")),this.updateState({isConnecting:!1,error:"Connection timed out. Please try again.",detailedStatus:"Connection timeout"})},15e3);this.peer=new lB({debug:this.options.debug?2:0}),this.peer.on("open",a=>{if(this.log("Initialized with ID:",a),this.logConnectionStatus(`Client peer opened with ID ${a}, connecting to ${t}`),this.setupPeerListeners(),!this.peer){clearTimeout(s),r(new Error("Peer connection was lost"));return}try{this.log(`Attempting to connect to host ${t}`);const A=this.peer.connect(t,{reliable:!0,serialization:"json"});this.handleOutgoingConnection(A,()=>{clearTimeout(s),n()},o=>{clearTimeout(s),r(o)})}catch(A){clearTimeout(s),this.handleError("Failed to connect to peer",A),r(A)}}),this.peer.on("error",a=>{clearTimeout(s),this.handleError("Connection error",a),r(a)})}catch(s){this.handleError("Failed to connect",s),r(s)}})}async checkConnectionHealth(){if(this.connections.size===0)return!1;try{return new Promise(t=>{const n=setTimeout(()=>{this.log("Health check timed out"),t(!1)},3e3),r=a=>{a&&a.type==="health-check-response"&&(clearTimeout(n),this.removeDataListener(r),t(!0))};this.onData(r),this.send({type:"health-check-request",timestamp:Date.now()})||(clearTimeout(n),this.removeDataListener(r),t(!1))})}catch(t){return this.log("Error during health check:",t),!1}}send(t){if(this.logConnectionStatus(`Attempting to send data, connections: ${this.connections.size}`),!this.validateConnections())return this.updateState({error:"Cannot send data: not connected to any peers",detailedStatus:"No active connections for sending"}),!1;try{let n=0;for(const r of this.connections.values())r.open?(this.log(`Sending data to peer: ${r.peer}`),r.send(t),n++):this.log(`Connection to ${r.peer} exists but is not open, skipping`);return n===0?(this.updateState({error:"Cannot send data: all connections are closed",detailedStatus:"All connections closed"}),!1):(this.log(`Successfully sent data to ${n} peer(s)`),!0)}catch(n){return this.handleError("Failed to send data",n),!1}}getState(){return{...this.connectionState}}onData(t){this.dataListeners.add(t)}removeDataListener(t){this.dataListeners.delete(t)}disconnect(){this.log("Disconnecting from all peers"),this.cleanupPeer(),this.updateState({isConnecting:!1,isConnected:!1,connectionCode:null,error:null,peerCount:0,detailedStatus:"Disconnected"})}validateConnections(){if(this.connections.size===0)return this.log("No connections in the connections map"),!1;let t=!1;for(const n of this.connections.values())if(n.open){t=!0;break}return t||this.log("No open connections found despite having connection objects"),t}setupPeerListeners(){this.peer&&(this.peer.on("connection",t=>{this.log("Incoming connection from peer:",t.peer),this.logConnectionStatus(`Incoming connection from: ${t.peer}`),this.handleIncomingConnection(t)}),this.peer.on("disconnected",()=>{this.log("Disconnected from PeerJS server"),this.logConnectionStatus("Disconnected from signaling server, attempting reconnect"),this.peer&&this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,this.log(`Attempting reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.peer.reconnect()):this.reconnectAttempts>=this.maxReconnectAttempts&&(this.log("Max reconnect attempts reached, giving up"),this.updateState({isConnected:!1,isConnecting:!1,error:"Connection lost and could not reconnect automatically",detailedStatus:"Max reconnect attempts reached"}))}),this.peer.on("close",()=>{this.log("Peer connection closed"),this.logConnectionStatus("Peer closed"),this.updateState({isConnected:!1,isConnecting:!1,peerCount:0,detailedStatus:"Peer connection closed"})}),this.peer.on("error",t=>{this.handleError("Peer error",t)}))}handleIncomingConnection(t){this.log(`Handling incoming connection from ${t.peer}`),this.connections.set(t.peer,t),this.log(`Added connection to map, current size: ${this.connections.size}`),t.on("open",()=>{this.log("Connection opened to peer:",t.peer),this.logConnectionStatus(`Connection opened with peer: ${t.peer}`),this.updateConnectionStateFromMap()}),t.on("data",n=>{this.log("Received data from peer:",t.peer),this.notifyDataListeners(n)}),t.on("close",()=>{this.log("Connection closed from peer:",t.peer),this.logConnectionStatus(`Connection closed from peer: ${t.peer}`),this.connections.delete(t.peer),this.log(`Removed connection from map, current size: ${this.connections.size}`),this.updateConnectionStateFromMap()}),t.on("error",n=>{this.handleError(`Connection error with peer ${t.peer}`,n),this.connections.delete(t.peer),this.log(`Removed errored connection, current size: ${this.connections.size}`),this.updateConnectionStateFromMap()})}updateConnectionStateFromMap(){const t=[...this.connections.values()].filter(n=>n.open).length;this.log(`Updating connection state based on map: ${t} open connections`),this.updateState({isConnected:t>0,isConnecting:!1,error:null,peerCount:t,detailedStatus:t>0?`Connected with ${t} peer(s)`:"No active connections"})}handleOutgoingConnection(t,n,r){const s=setTimeout(()=>{r(new Error("Connection timeout"))},15e3);this.log(`Attempting outgoing connection to ${t.peer}`),t.on("open",()=>{clearTimeout(s),this.log("Connection opened to host:",t.peer),this.logConnectionStatus(`Connection opened to host: ${t.peer}`),this.connections.set(t.peer,t),this.log(`Added connection to map, current size: ${this.connections.size}`),this.updateConnectionStateFromMap(),n()}),t.on("data",a=>{this.log("Received data from host:",t.peer),this.notifyDataListeners(a)}),t.on("close",()=>{this.log("Connection closed from host:",t.peer),this.logConnectionStatus(`Connection closed from host: ${t.peer}`),this.connections.delete(t.peer),this.log(`Removed connection from map, current size: ${this.connections.size}`),this.updateConnectionStateFromMap()}),t.on("error",a=>{clearTimeout(s),this.handleError(`Connection error with host ${t.peer}`,a),this.connections.delete(t.peer),this.log(`Removed errored connection, current size: ${this.connections.size}`),this.updateConnectionStateFromMap(),r(a instanceof Error?a:new Error(String(a)))})}cleanupPeer(){this.log(`Cleaning up peer and ${this.connections.size} connections`);for(const t of this.connections.values())try{this.log(`Closing connection to ${t.peer}`),t.close()}catch(n){this.log(`Error closing connection: ${n}`)}if(this.connections.clear(),this.log("Cleared all connections from map"),this.peer){try{this.log("Destroying peer instance"),this.peer.destroy()}catch(t){this.log(`Error destroying peer: ${t}`)}this.peer=null}this.reconnectAttempts=0}handleError(t,n){let r,s;if(n&&typeof n=="object"&&n.type)switch(n.type){case"peer-unavailable":r=`${t}: The connection code is invalid or the host is no longer available`,s="Host unavailable";break;case"disconnected":r=`${t}: Connection to signaling server lost`,s="Signaling server disconnected";break;case"server-error":r=`${t}: WebRTC server error`,s="WebRTC server error";break;case"socket-error":r=`${t}: Network connection issue`,s="Network connection issue";break;case"socket-closed":r=`${t}: Connection closed unexpectedly`,s="Connection closed unexpectedly";break;default:r=`${t}: ${n.type||n.message||"Unknown error"}`,s=`Error: ${n.type||"Unknown"}`}else r=`${t}: ${(n==null?void 0:n.message)||n||"Unknown error"}`,s="Unknown error occurred";this.log("ERROR:",r,n),this.updateState({isConnecting:!1,error:r,detailedStatus:s})}set onConnectionStateChange(t){this.connectionStateChangeHandler=t}updateState(t){this.connectionState={...this.connectionState,...t},(t.isConnected!==void 0||t.isConnecting!==void 0||t.error!==void 0||t.peerCount!==void 0)&&this.log(`State updated: connected=${this.connectionState.isConnected}, connecting=${this.connectionState.isConnecting}, peers=${this.connectionState.peerCount}, error=${this.connectionState.error?"yes":"no"}`),this.options.onConnectionStateChange&&this.options.onConnectionStateChange(this.connectionState),this.connectionStateChangeHandler&&this.connectionStateChangeHandler(this.connectionState)}notifyDataListeners(t){this.dataListeners.forEach(n=>{try{n(t)}catch(r){this.log("Error in data listener:",r)}})}generateConnectionCode(t=6){const n="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="";for(let s=0;s<t;s++){const a=Math.floor(Math.random()*n.length);r+=n[a]}return r}logConnectionStatus(t){this.log(`CONNECTION STATUS: ${t} (connections: ${this.connections.size}, connected: ${this.connectionState.isConnected})`)}log(...t){(t[0]==="ERROR:"||this.options.debug)&&console.log("[P2PService]",...t)}}class Jre{constructor(t){ne(this,"p2pService");ne(this,"onProgressCallback",null);ne(this,"chunkSize",10*1024);ne(this,"syncInProgress",!1);ne(this,"receivedChunks",new Map);ne(this,"totalExpectedChunks",0);ne(this,"transferStartTime",0);ne(this,"currentOperationId",null);ne(this,"currentProgress",{percent:0,status:"idle",message:"Ready to sync"});ne(this,"retryCount",0);ne(this,"maxRetries",5);ne(this,"chunkRetryCount",new Map);ne(this,"maxChunkRetries",3);ne(this,"healthcheckInterval",null);this.p2pService=t,console.log("[DatabaseSyncService] Initialized"),this.p2pService.onData(this.handleSyncMessage.bind(this))}async requestData(){console.log("[DatabaseSyncService] requestData called");const t=this.p2pService.getState();if(console.log("[DatabaseSyncService] Current connection state:",t.isConnected?"connected":"disconnected","peers:",t.peerCount),!t.isConnected)throw console.error("[DatabaseSyncService] Not connected to any peers"),this.updateProgress({percent:0,status:"error",message:"Not connected to any peers",error:"Connection is not active"}),new Error("Not connected to any peers");if(this.syncInProgress)throw console.error("[DatabaseSyncService] Sync already in progress"),this.updateProgress({percent:0,status:"error",message:"Sync already in progress",error:"Sync operation is already running"}),new Error("Sync already in progress");if(!await this.performConnectionHealthCheck())throw console.error("[DatabaseSyncService] Connection health check failed"),this.updateProgress({percent:0,status:"error",message:"Connection health check failed. Try disconnecting and reconnecting.",error:"Connection health check failed"}),new Error("Connection health check failed");if(this.syncInProgress=!0,this.currentOperationId=this.generateOperationId(),this.retryCount=0,console.log("[DatabaseSyncService] Starting data request with operation ID:",this.currentOperationId),this.updateProgress({percent:0,status:"awaiting-confirmation",message:"Waiting for the other device to approve data request",isDataRequest:!0}),!this.p2pService.send({type:"db-sync-request-data",payload:{operationId:this.currentOperationId}}))throw console.error("[DatabaseSyncService] Failed to send data request"),this.syncInProgress=!1,this.currentOperationId=null,this.updateProgress({percent:0,status:"error",message:"Failed to send data request. Try reconnecting.",error:"Message sending failed"}),new Error("Failed to send data request");this.startHealthcheckInterval()}async sendData(){console.log("[DatabaseSyncService] sendData called");const t=this.p2pService.getState();if(console.log("[DatabaseSyncService] Current connection state:",t.isConnected?"connected":"disconnected","peers:",t.peerCount),!t.isConnected)throw console.error("[DatabaseSyncService] Not connected to any peers"),this.updateProgress({percent:0,status:"error",message:"Not connected to any peers",error:"Connection is not active"}),new Error("Not connected to any peers");if(this.syncInProgress)throw console.error("[DatabaseSyncService] Sync already in progress"),this.updateProgress({percent:0,status:"error",message:"Sync already in progress",error:"Sync operation is already running"}),new Error("Sync already in progress");if(!await this.performConnectionHealthCheck())throw console.error("[DatabaseSyncService] Connection health check failed"),this.updateProgress({percent:0,status:"error",message:"Connection health check failed. Try disconnecting and reconnecting.",error:"Connection health check failed"}),new Error("Connection health check failed");if(this.syncInProgress=!0,this.currentOperationId=this.generateOperationId(),this.retryCount=0,this.chunkRetryCount.clear(),console.log("[DatabaseSyncService] Starting data send with operation ID:",this.currentOperationId),this.updateProgress({percent:0,status:"awaiting-confirmation",message:"Waiting for the other device to accept data",isDataRequest:!1}),!this.p2pService.send({type:"db-sync-send-data-request",payload:{operationId:this.currentOperationId}}))throw console.error("[DatabaseSyncService] Failed to send data request"),this.syncInProgress=!1,this.currentOperationId=null,this.updateProgress({percent:0,status:"error",message:"Failed to send data request. Try reconnecting.",error:"Message sending failed"}),new Error("Failed to send data request");this.startHealthcheckInterval()}async performConnectionHealthCheck(){return new Promise(t=>{console.log("[DatabaseSyncService] Performing connection health check");const n=setTimeout(()=>{console.error("[DatabaseSyncService] Health check timed out"),this.p2pService.removeDataListener(r),t(!1)},8e3),r=a=>{a&&a.type==="db-sync-healthcheck-response"&&(console.log("[DatabaseSyncService] Received health check response in listener"),clearTimeout(n),this.p2pService.removeDataListener(r),t(!0))};this.p2pService.onData(r),this.p2pService.send({type:"db-sync-healthcheck"})||(console.error("[DatabaseSyncService] Failed to send health check"),clearTimeout(n),this.p2pService.removeDataListener(r),t(!1))})}startHealthcheckInterval(){this.stopHealthcheckInterval(),this.healthcheckInterval=setInterval(()=>{this.syncInProgress&&(this.currentProgress.status==="awaiting-confirmation"||this.currentProgress.status==="pending-confirmation")?(console.log("[DatabaseSyncService] Performing periodic health check"),this.performConnectionHealthCheck().then(t=>{if(t)this.retryCount=0;else{if(console.error("[DatabaseSyncService] Periodic health check failed"),this.retryCount<this.maxRetries){this.retryCount++,console.log(`[DatabaseSyncService] Retrying health check (${this.retryCount}/${this.maxRetries})`),this.updateProgress({percent:0,status:"reconnecting",message:`Connection issue detected, retrying (${this.retryCount}/${this.maxRetries})...`,isDataRequest:this.currentProgress.isDataRequest});return}(this.currentProgress.status==="awaiting-confirmation"||this.currentProgress.status==="pending-confirmation")&&(this.updateProgress({percent:0,status:"error",message:"Connection was lost while waiting for confirmation",error:"Connection health check failed after multiple attempts"}),this.syncInProgress=!1,this.currentOperationId=null,this.stopHealthcheckInterval())}})):this.stopHealthcheckInterval()},2e4)}stopHealthcheckInterval(){this.healthcheckInterval&&(clearInterval(this.healthcheckInterval),this.healthcheckInterval=null)}confirmDataOperation(){if(console.log("[DatabaseSyncService] confirmDataOperation called, current status:",this.currentProgress.status),this.currentProgress.status==="pending-confirmation"){const t=this.p2pService.getState();if(!t.isConnected||t.peerCount===0){console.error("[DatabaseSyncService] Cannot confirm - connection lost");const r=t.connectionCode;r?this.attemptReconnection(r).then(s=>{s?(console.log("[DatabaseSyncService] Reconnection successful, retrying confirm"),setTimeout(()=>this.confirmDataOperation(),1e3)):(this.updateProgress({percent:0,status:"error",message:"Connection lost and reconnection failed. Please try again.",error:"Reconnection failed"}),this.syncInProgress=!1,this.currentOperationId=null)}):(this.updateProgress({percent:0,status:"error",message:"Connection lost. Please reconnect and try again.",error:"Connection lost"}),this.syncInProgress=!1,this.currentOperationId=null);return}if(this.currentProgress.isDataRequest)console.log("[DatabaseSyncService] Confirming data request, sending data"),this.handleSendDataAfterConfirmation();else{if(console.log("[DatabaseSyncService] Confirming data send request, ready to receive"),!this.p2pService.send({type:"db-sync-send-data-confirm",payload:{operationId:this.currentOperationId}})){console.error("[DatabaseSyncService] Failed to send confirmation");const s=this.p2pService.getState().connectionCode;if(s){this.attemptReconnection(s).then(a=>{a?(console.log("[DatabaseSyncService] Reconnection successful, retrying confirm"),setTimeout(()=>this.confirmDataOperation(),1e3)):(this.updateProgress({percent:0,status:"error",message:"Failed to send confirmation and reconnection failed. Please try again.",error:"Confirmation failed"}),this.syncInProgress=!1,this.currentOperationId=null)});return}this.updateProgress({percent:0,status:"error",message:"Failed to send confirmation. Try reconnecting.",error:"Message sending failed"}),this.syncInProgress=!1,this.currentOperationId=null;return}this.updateProgress({percent:0,status:"preparing",message:"Preparing to receive data"})}}else console.warn("[DatabaseSyncService] confirmDataOperation called when not in pending-confirmation state")}async attemptReconnection(t){this.updateProgress({percent:0,status:"reconnecting",message:"Connection lost - attempting to reconnect..."}),console.log(`[DatabaseSyncService] Attempting to reconnect with code: ${t}`);try{const n=this.p2pService.getState();if(n.isConnected&&n.peerCount>0)return console.log("[DatabaseSyncService] Already connected, no need to reconnect"),!0;for(let r=1;r<=3;r++){console.log(`[DatabaseSyncService] Reconnection attempt ${r}/3`),r>1&&await new Promise(s=>setTimeout(s,1e3*r));try{await this.p2pService.connect(t);const s=this.p2pService.getState();if(s.isConnected&&s.peerCount>0)return console.log("[DatabaseSyncService] Reconnection successful"),!0}catch(s){console.error(`[DatabaseSyncService] Reconnection attempt ${r} failed:`,s)}}return console.error("[DatabaseSyncService] All reconnection attempts failed"),!1}catch(n){return console.error("[DatabaseSyncService] Error during reconnection:",n),!1}}rejectDataOperation(){console.log("[DatabaseSyncService] rejectDataOperation called, current status:",this.currentProgress.status),this.currentProgress.status==="pending-confirmation"?this.currentProgress.isDataRequest?(console.log("[DatabaseSyncService] Rejecting data request"),this.p2pService.send({type:"db-sync-request-reject",payload:{operationId:this.currentOperationId}})||console.warn("[DatabaseSyncService] Failed to send rejection, but continuing with local state reset")):(console.log("[DatabaseSyncService] Rejecting data send request"),this.p2pService.send({type:"db-sync-send-data-reject",payload:{operationId:this.currentOperationId}})||console.warn("[DatabaseSyncService] Failed to send rejection, but continuing with local state reset")):this.currentProgress.status==="awaiting-confirmation"?console.log("[DatabaseSyncService] Cancelling our own operation while awaiting confirmation"):console.warn("[DatabaseSyncService] rejectDataOperation called when not in expected state"),this.syncInProgress=!1,this.currentOperationId=null,this.stopHealthcheckInterval(),this.updateProgress({percent:0,status:"idle",message:"Ready to sync"})}onProgress(t){this.onProgressCallback=t}handleSyncMessage(t){var n,r,s;if(!t||!t.type){console.warn("[DatabaseSyncService] Received malformed message:",t);return}switch(console.log("[DatabaseSyncService] Received message type:",t.type),t.type){case"db-sync-healthcheck":console.log("[DatabaseSyncService] Responding to health check"),this.p2pService.send({type:"db-sync-healthcheck-response"});break;case"db-sync-healthcheck-response":console.log("[DatabaseSyncService] Received health check response");break;case"db-sync-request-data":this.handleDataRequest(t.payload);break;case"db-sync-request-confirm":this.handleDataRequestConfirmation(t.payload);break;case"db-sync-request-reject":this.handleDataRequestRejection(t.payload);break;case"db-sync-send-data-request":this.handleSendDataRequest(t.payload);break;case"db-sync-send-data-confirm":this.handleSendDataConfirmation(t.payload);break;case"db-sync-send-data-reject":this.handleSendDataRejection(t.payload);break;case"db-sync-data":this.handleDirectData(t.payload);break;case"db-sync-chunk":this.handleDataChunk(t);break;case"db-sync-chunk-ack":console.log("[DatabaseSyncService] Received chunk acknowledgment");break;case"db-sync-error":console.error("[DatabaseSyncService] Received error from peer:",(n=t.payload)==null?void 0:n.message),this.updateProgress({percent:0,status:"error",message:`Peer error: ${((r=t.payload)==null?void 0:r.message)||"Unknown error"}`,error:(s=t.payload)==null?void 0:s.message}),this.syncInProgress=!1,this.currentOperationId=null,this.stopHealthcheckInterval();break;case"db-sync-info":console.log("[DatabaseSyncService] Info from peer:",t.payload);break;default:console.warn("[DatabaseSyncService] Received unknown message type:",t.type)}}handleDataRequest(t){if(console.log("[DatabaseSyncService] Handling data request:",t),this.syncInProgress){console.warn("[DatabaseSyncService] Rejecting data request because sync is already in progress"),this.p2pService.send({type:"db-sync-request-reject",payload:{operationId:t==null?void 0:t.operationId,message:"Sync already in progress"}});return}this.syncInProgress=!0,this.currentOperationId=t==null?void 0:t.operationId,console.log("[DatabaseSyncService] Set up for data request, operation ID:",this.currentOperationId),this.updateProgress({percent:0,status:"pending-confirmation",message:"The connected device is requesting your match data",isDataRequest:!0})}handleDataRequestConfirmation(t){if(console.log("[DatabaseSyncService] Handling data request confirmation:",t),(t==null?void 0:t.operationId)!==this.currentOperationId){console.warn("[DatabaseSyncService] Received confirmation for unknown operation:",t==null?void 0:t.operationId);return}this.stopHealthcheckInterval(),this.updateProgress({percent:0,status:"preparing",message:"Request approved, receiving data..."})}handleDataRequestRejection(t){if(console.log("[DatabaseSyncService] Handling data request rejection:",t),(t==null?void 0:t.operationId)!==this.currentOperationId){console.warn("[DatabaseSyncService] Received rejection for unknown operation:",t==null?void 0:t.operationId);return}this.stopHealthcheckInterval(),this.updateProgress({percent:0,status:"error",message:"Data request was declined by the other device",error:"Request rejected by peer"}),this.syncInProgress=!1,this.currentOperationId=null}handleSendDataRequest(t){if(console.log("[DatabaseSyncService] Handling send data request:",t),this.syncInProgress){console.warn("[DatabaseSyncService] Rejecting send data request because sync is already in progress"),this.p2pService.send({type:"db-sync-send-data-reject",payload:{operationId:t==null?void 0:t.operationId,message:"Sync already in progress"}});return}this.syncInProgress=!0,this.currentOperationId=t==null?void 0:t.operationId,console.log("[DatabaseSyncService] Set up for send data request, operation ID:",this.currentOperationId),this.updateProgress({percent:0,status:"pending-confirmation",message:"The connected device wants to send you match data",isDataRequest:!1})}handleSendDataConfirmation(t){if(console.log("[DatabaseSyncService] Handling send data confirmation:",t),(t==null?void 0:t.operationId)!==this.currentOperationId){console.warn("[DatabaseSyncService] Received confirmation for unknown operation:",t==null?void 0:t.operationId);return}this.stopHealthcheckInterval(),this.handleSendDataAfterConfirmation()}handleSendDataRejection(t){if(console.log("[DatabaseSyncService] Handling send data rejection:",t),(t==null?void 0:t.operationId)!==this.currentOperationId){console.warn("[DatabaseSyncService] Received rejection for unknown operation:",t==null?void 0:t.operationId);return}this.stopHealthcheckInterval(),this.updateProgress({percent:0,status:"error",message:"Your data send was declined by the other device",error:"Send request rejected by peer"}),this.syncInProgress=!1,this.currentOperationId=null}async handleSendDataAfterConfirmation(){console.log("[DatabaseSyncService] Handling send data after confirmation"),this.transferStartTime=Date.now(),this.updateProgress({percent:0,status:"preparing",message:"Preparing database for export"});try{this.chunkRetryCount.clear(),console.log("[DatabaseSyncService] Exporting database data");const t=await ye.exportData(),n=JSON.stringify(t);console.log(`[DatabaseSyncService] Exported data size: ${this.formatDataSize(n.length)}`),console.log("[DatabaseSyncService] Using chunked transfer for data sending"),await this.sendLargeData(n),setTimeout(()=>{this.syncInProgress=!1,this.currentOperationId=null},3e3)}catch(t){if(console.error("[DatabaseSyncService] Error handling data send:",t),this.p2pService.send({type:"db-sync-error",payload:{message:`Export error: ${t}`}}),this.retryCount<this.maxRetries)if(this.retryCount++,console.log(`[DatabaseSyncService] Retrying entire send operation (${this.retryCount}/${this.maxRetries})`),this.updateProgress({percent:0,status:"reconnecting",message:`Connection issue, retrying entire operation (${this.retryCount}/${this.maxRetries})...`}),await this.performConnectionHealthCheck()){setTimeout(()=>{this.handleSendDataAfterConfirmation()},2e3);return}else console.error("[DatabaseSyncService] Connection health check failed before retry");this.updateProgress({percent:0,status:"error",message:`Error preparing or sending data: ${t}`,error:String(t)}),this.syncInProgress=!1,this.currentOperationId=null,this.stopHealthcheckInterval()}}async sendLargeData(t){try{const n=Math.ceil(t.length/this.chunkSize);let r=0;console.log(`[DatabaseSyncService] Preparing to send data in ${n} chunks (${this.formatDataSize(t.length)})`),this.updateProgress({percent:10,status:"sending",message:`Preparing to send data in ${n} chunks (${this.formatDataSize(t.length)})`});for(let s=0;s<n;s++){const a=s*this.chunkSize,A=Math.min(t.length,a+this.chunkSize),o=t.substring(a,A);let l=this.chunkRetryCount.get(s)||0,u=!1;for(;!u&&l<this.maxChunkRetries;){console.log(`[DatabaseSyncService] Sending chunk ${s+1}/${n} (attempt ${l+1}/${this.maxChunkRetries})`);try{if(l>0&&!await this.performConnectionHealthCheck())throw console.error(`[DatabaseSyncService] Connection health check failed before sending chunk ${s+1}`),new Error("Connection health check failed");if(!this.p2pService.send({type:"db-sync-chunk",chunkId:s,totalChunks:n,payload:o,isLast:s===n-1}))throw console.error(`[DatabaseSyncService] Failed to send chunk ${s+1}/${n}`),new Error(`Failed to send chunk ${s+1}/${n}`);u=!0,r++,this.updateProgress({percent:10+Math.floor(r/n*80),status:"sending",message:`Sending data: chunk ${r}/${n}`})}catch(f){if(l++,this.chunkRetryCount.set(s,l),console.error(`[DatabaseSyncService] Error sending chunk ${s+1}, attempt ${l}:`,f),l<this.maxChunkRetries){this.updateProgress({percent:10+Math.floor(r/n*80),status:"reconnecting",message:`Retrying chunk ${s+1}/${n} (attempt ${l}/${this.maxChunkRetries})...`});const c=500*l;console.log(`[DatabaseSyncService] Waiting ${c}ms before retry...`),await new Promise(d=>setTimeout(d,c))}else throw console.error(`[DatabaseSyncService] Max retries exceeded for chunk ${s+1}`),new Error(`Failed to send chunk ${s+1} after ${l} attempts`)}}s<n-1&&await new Promise(f=>setTimeout(f,200))}console.log(`[DatabaseSyncService] Successfully sent all ${r} chunks`),this.updateProgress({percent:100,status:"complete",message:`Data sent successfully in ${r} chunks (${this.formatDataSize(t.length)})`})}catch(n){console.error("[DatabaseSyncService] Error sending large data:",n);try{this.p2pService.send({type:"db-sync-error",payload:{message:`Send error: ${n}`}})}catch{}throw n}}async handleDirectData(t){console.log("[DatabaseSyncService] Handling direct data transfer"),this.updateProgress({percent:50,status:"receiving",message:"Received data, processing..."});try{await this.importAndMergeData(t),this.updateProgress({percent:100,status:"complete",message:"Data received and merged successfully"}),setTimeout(()=>{this.syncInProgress=!1,this.currentOperationId=null},3e3)}catch(n){console.error("[DatabaseSyncService] Error handling direct data:",n),this.updateProgress({percent:0,status:"error",message:`Error importing data: ${n}`,error:String(n)}),this.syncInProgress=!1,this.currentOperationId=null,this.stopHealthcheckInterval()}}handleDataChunk(t){if(t.chunkId===void 0||t.totalChunks===void 0||!t.payload){console.warn("[DatabaseSyncService] Received malformed chunk message");return}console.log(`[DatabaseSyncService] Received chunk ${t.chunkId+1}/${t.totalChunks}`),this.totalExpectedChunks=t.totalChunks,this.receivedChunks.set(t.chunkId,t.payload);const n=Math.floor(this.receivedChunks.size/this.totalExpectedChunks*100);this.updateProgress({percent:n*.8,status:"receiving",message:`Receiving data: ${this.receivedChunks.size}/${this.totalExpectedChunks} chunks`}),this.receivedChunks.size===this.totalExpectedChunks&&(console.log("[DatabaseSyncService] All chunks received, reassembling"),this.reassembleAndProcessChunks())}async reassembleAndProcessChunks(){try{this.updateProgress({percent:80,status:"processing",message:"Reassembling data chunks..."});let t="";for(let r=0;r<this.totalExpectedChunks;r++){const s=this.receivedChunks.get(r);if(!s)throw new Error(`Missing chunk ${r}`);t+=s}console.log(`[DatabaseSyncService] Reassembled data size: ${this.formatDataSize(t.length)}`),console.log("[DatabaseSyncService] Parsing JSON data");const n=JSON.parse(t);this.updateProgress({percent:85,status:"processing",message:"Processing and merging data..."}),await this.importAndMergeData(n),this.updateProgress({percent:100,status:"complete",message:`Data received and merged successfully (${this.formatDataSize(t.length)})`}),this.receivedChunks.clear(),this.totalExpectedChunks=0,setTimeout(()=>{this.syncInProgress=!1,this.currentOperationId=null},3e3)}catch(t){console.error("[DatabaseSyncService] Error reassembling chunks:",t),this.updateProgress({percent:0,status:"error",message:`Error processing received data: ${t}`,error:String(t)}),this.syncInProgress=!1,this.currentOperationId=null,this.stopHealthcheckInterval(),this.receivedChunks.clear(),this.totalExpectedChunks=0}}async importAndMergeData(t){try{this.validateExportData(t),console.log("[DatabaseSyncService] Importing data with merge mode"),await ye.importData(t,"merge");const n=((Date.now()-this.transferStartTime)/1e3).toFixed(1);console.log(`[DatabaseSyncService] Data merged successfully in ${n}s`),this.updateProgress({percent:100,status:"complete",message:`Data successfully merged in ${n}s`})}catch(n){throw console.error("[DatabaseSyncService] Error importing data:",n),this.syncInProgress=!1,this.currentOperationId=null,this.stopHealthcheckInterval(),n}}validateExportData(t){if(!t)throw new Error("No data received");if(console.log("[DatabaseSyncService] Validating export data structure"),!t.players||!Array.isArray(t.players)||!t.matches||!Array.isArray(t.matches)||!t.matchPlayers||!Array.isArray(t.matchPlayers))throw new Error("Invalid data format: missing required collections");console.log("[DatabaseSyncService] Export data validation passed"),console.log(`[DatabaseSyncService] Data contains: ${t.players.length} players, ${t.matches.length} matches, ${t.matchPlayers.length} match players`)}formatDataSize(t){return t<1024?`${t} bytes`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`}updateProgress(t){console.log(`[DatabaseSyncService] Progress update: ${t.status} - ${t.message}`),this.currentProgress=t,this.onProgressCallback&&this.onProgressCallback(t)}generateOperationId(){return"op_"+Date.now().toString(36)+Math.random().toString(36).substring(2,7)}}const gd={percent:0,status:"idle",message:"Ready to sync"},xN=j.createContext({connectionState:{isConnecting:!1,isConnected:!1,error:null,connectionCode:null,isHost:!1,peerCount:0},syncProgress:gd,initAsHost:async()=>"",connect:async()=>{},disconnect:()=>{},sendData:async()=>{},requestData:async()=>{},confirmDataOperation:()=>{},rejectDataOperation:()=>{}}),vN=()=>j.useContext(xN),Zre=({children:e,onDataReceived:t,onSyncCompleted:n,debug:r=!1})=>{const[s]=j.useState(()=>(console.log("[ConnectionContext] Initializing P2PService"),new Yre({debug:r,onData:p=>{console.log("[ConnectionContext] Data received from peer"),t&&t(p)}}))),[a]=j.useState(()=>(console.log("[ConnectionContext] Initializing DatabaseSyncService"),new Jre(s))),[A,o]=j.useState(s.getState()),[l,u]=j.useState(gd),f=j.useCallback(p=>{console.log("[ConnectionContext] Data handler called"),t&&t(p)},[t]);j.useEffect(()=>{console.log("[ConnectionContext] Setting up event handlers");const p=C=>{console.log("[ConnectionContext] Connection state changed:",C.isConnected?"connected":"disconnected",C.isHost?"(host)":"(client)","peers:",C.peerCount),o(C),!C.isConnected&&l.status!=="idle"&&l.status!=="pending-confirmation"&&l.status!=="awaiting-confirmation"&&(console.log("[ConnectionContext] Resetting sync progress due to disconnection"),u(gd))},y=C=>{console.log("[ConnectionContext] Sync progress:",C.status,C.message),u(C)};return s.onConnectionStateChange=p,a.onProgress(y),(()=>{const B=new URLSearchParams(window.location.search).get("connect");if(B){console.log("[ConnectionContext] Found connection code in URL:",B),d(B).catch(N=>{console.error("[ConnectionContext] Failed to connect with URL code:",N)});const _=new URL(window.location.href);_.searchParams.delete("connect"),window.history.replaceState({},document.title,_.toString())}})(),()=>{console.log("[ConnectionContext] Cleanup - removing event handlers"),s&&(s.onConnectionStateChange=null,s.disconnect())}},[s,a,n,f]),j.useEffect(()=>{l.status==="complete"&&n&&(console.log("[ConnectionContext] Sync completed, triggering callback"),setTimeout(()=>{n()},500))},[l.status,n]);const c=async()=>{try{console.log("[ConnectionContext] Initializing as host");const p=await s.initAsHost();return console.log("[ConnectionContext] Host initialized with code:",p),p}catch(p){throw console.error("[ConnectionContext] Error initializing as host:",p),o({...A,isConnecting:!1,error:p instanceof Error?p.message:String(p)}),p}},d=async p=>{try{console.log("[ConnectionContext] Connecting to:",p),await s.connect(p),console.log("[ConnectionContext] Connected successfully")}catch(y){throw console.error("[ConnectionContext] Error connecting:",y),o({...A,isConnecting:!1,error:y instanceof Error?y.message:String(y)}),y}},h=()=>{console.log("[ConnectionContext] Disconnecting"),s.disconnect(),u(gd)},m=async()=>{try{if(console.log("[ConnectionContext] Sending data, connection state:",A.isConnected?"connected":"disconnected","peers:",A.peerCount),!A.isConnected||A.peerCount===0)throw console.error("[ConnectionContext] Cannot send data - not connected or no peers"),new Error("Not connected to any peers. Please reconnect and try again.");await a.sendData()}catch(p){throw console.error("[ConnectionContext] Send data error:",p),u({percent:0,status:"error",message:`Failed to send data: ${p instanceof Error?p.message:String(p)}`,error:String(p)}),p}},x=async()=>{try{if(console.log("[ConnectionContext] Requesting data, connection state:",A.isConnected?"connected":"disconnected","peers:",A.peerCount),!A.isConnected||A.peerCount===0)throw console.error("[ConnectionContext] Cannot request data - not connected or no peers"),new Error("Not connected to any peers. Please reconnect and try again.");await a.requestData()}catch(p){throw console.error("[ConnectionContext] Request data error:",p),u({percent:0,status:"error",message:`Failed to request data: ${p instanceof Error?p.message:String(p)}`,error:String(p)}),p}},v=()=>{if(console.log("[ConnectionContext] Confirming data operation"),!A.isConnected){console.error("[ConnectionContext] Cannot confirm operation - not connected"),u({percent:0,status:"error",message:"Cannot confirm - connection lost. Please reconnect and try again.",error:"Connection lost"});return}a.confirmDataOperation()},g=()=>{console.log("[ConnectionContext] Rejecting data operation"),a.rejectDataOperation()};return i.jsx(xN.Provider,{value:{connectionState:A,syncProgress:l,initAsHost:c,connect:d,disconnect:h,sendData:m,requestData:x,confirmDataOperation:v,rejectDataOperation:g},children:e})},ese=e=>+e;function tse(e){return e*e}function nse(e){return e*(2-e)}function cB(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function rse(e){return e*e*e}function sse(e){return--e*e*e+1}function uB(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var qv=3,ase=function e(t){t=+t;function n(r){return Math.pow(r,t)}return n.exponent=e,n}(qv),ise=function e(t){t=+t;function n(r){return 1-Math.pow(1-r,t)}return n.exponent=e,n}(qv),dB=function e(t){t=+t;function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return n.exponent=e,n}(qv),yN=Math.PI,bN=yN/2;function Ase(e){return+e==1?1:1-Math.cos(e*bN)}function ose(e){return Math.sin(e*bN)}function fB(e){return(1-Math.cos(yN*e))/2}function Ua(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function lse(e){return Ua(1-+e)}function cse(e){return 1-Ua(e)}function hB(e){return((e*=2)<=1?Ua(1-e):2-Ua(e-1))/2}function use(e){return 1-Math.sqrt(1-e*e)}function dse(e){return Math.sqrt(1- --e*e)}function mB(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var sp=4/11,fse=6/11,hse=8/11,mse=3/4,gse=9/11,pse=10/11,xse=15/16,vse=21/22,yse=63/64,yu=1/sp/sp;function bse(e){return 1-rc(1-e)}function rc(e){return(e=+e)<sp?yu*e*e:e<hse?yu*(e-=fse)*e+mse:e<pse?yu*(e-=gse)*e+xse:yu*(e-=vse)*e+yse}function wse(e){return((e*=2)<=1?1-rc(1-e):rc(e-1)+1)/2}var Xv=1.70158,Bse=function e(t){t=+t;function n(r){return(r=+r)*r*(t*(r-1)+r)}return n.overshoot=e,n}(Xv),Cse=function e(t){t=+t;function n(r){return--r*r*((r+1)*t+r)+1}return n.overshoot=e,n}(Xv),gB=function e(t){t=+t;function n(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return n.overshoot=e,n}(Xv),YA=2*Math.PI,Yv=1,Jv=.3,_se=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=YA);function s(a){return t*Ua(- --a)*Math.sin((r-a)/n)}return s.amplitude=function(a){return e(a,n*YA)},s.period=function(a){return e(t,a)},s}(Yv,Jv),pB=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=YA);function s(a){return 1-t*Ua(a=+a)*Math.sin((a+r)/n)}return s.amplitude=function(a){return e(a,n*YA)},s.period=function(a){return e(t,a)},s}(Yv,Jv),Sse=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=YA);function s(a){return((a=a*2-1)<0?t*Ua(-a)*Math.sin((r-a)/n):2-t*Ua(a)*Math.sin((r+a)/n))/2}return s.amplitude=function(a){return e(a,n*YA)},s.period=function(a){return e(t,a)},s}(Yv,Jv);const jse=Object.freeze(Object.defineProperty({__proto__:null,easeBack:gB,easeBackIn:Bse,easeBackInOut:gB,easeBackOut:Cse,easeBounce:rc,easeBounceIn:bse,easeBounceInOut:wse,easeBounceOut:rc,easeCircle:mB,easeCircleIn:use,easeCircleInOut:mB,easeCircleOut:dse,easeCubic:uB,easeCubicIn:rse,easeCubicInOut:uB,easeCubicOut:sse,easeElastic:pB,easeElasticIn:_se,easeElasticInOut:Sse,easeElasticOut:pB,easeExp:hB,easeExpIn:lse,easeExpInOut:hB,easeExpOut:cse,easeLinear:ese,easePoly:dB,easePolyIn:ase,easePolyInOut:dB,easePolyOut:ise,easeQuad:cB,easeQuadIn:tse,easeQuadInOut:cB,easeQuadOut:nse,easeSin:fB,easeSinIn:Ase,easeSinInOut:fB,easeSinOut:ose},Symbol.toStringTag,{value:"Module"}));var Nse=typeof Cs=="object"&&Cs&&Cs.Object===Object&&Cs,wN=Nse,kse=wN,Ese=typeof self=="object"&&self&&self.Object===Object&&self,Fse=kse||Ese||Function("return this")(),Vs=Fse,Qse=Vs,Use=Qse.Symbol,Uc=Use,xB=Uc,BN=Object.prototype,Tse=BN.hasOwnProperty,Ise=BN.toString,Ho=xB?xB.toStringTag:void 0;function Mse(e){var t=Tse.call(e,Ho),n=e[Ho];try{e[Ho]=void 0;var r=!0}catch{}var s=Ise.call(e);return r&&(t?e[Ho]=n:delete e[Ho]),s}var Dse=Mse,Pse=Object.prototype,Hse=Pse.toString;function $se(e){return Hse.call(e)}var Rse=$se,vB=Uc,Lse=Dse,Ose=Rse,Kse="[object Null]",zse="[object Undefined]",yB=vB?vB.toStringTag:void 0;function Gse(e){return e==null?e===void 0?zse:Kse:yB&&yB in Object(e)?Lse(e):Ose(e)}var Ti=Gse;function Wse(e,t){return function(n){return e(t(n))}}var CN=Wse,Vse=CN,qse=Vse(Object.getPrototypeOf,Object),_N=qse;function Xse(e){return e!=null&&typeof e=="object"}var Ii=Xse,Yse=Ti,Jse=_N,Zse=Ii,eae="[object Object]",tae=Function.prototype,nae=Object.prototype,SN=tae.toString,rae=nae.hasOwnProperty,sae=SN.call(Object);function aae(e){if(!Zse(e)||Yse(e)!=eae)return!1;var t=Jse(e);if(t===null)return!0;var n=rae.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&SN.call(n)==sae}var iae=aae;const pr=xt(iae);function Aae(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var Zv=Aae,oae=Array.isArray,wr=oae,lae=Ti,cae=Ii,uae="[object Symbol]";function dae(e){return typeof e=="symbol"||cae(e)&&lae(e)==uae}var Ph=dae,fae=wr,hae=Ph,mae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gae=/^\w*$/;function pae(e,t){if(fae(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||hae(e)?!0:gae.test(e)||!mae.test(e)||t!=null&&e in Object(t)}var ey=pae;function xae(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mi=xae;const ap=xt(Mi);var vae=Ti,yae=Mi,bae="[object AsyncFunction]",wae="[object Function]",Bae="[object GeneratorFunction]",Cae="[object Proxy]";function _ae(e){if(!yae(e))return!1;var t=vae(e);return t==wae||t==Bae||t==bae||t==Cae}var jN=_ae,Sae=Vs,jae=Sae["__core-js_shared__"],Nae=jae,lm=Nae,bB=function(){var e=/[^.]+$/.exec(lm&&lm.keys&&lm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function kae(e){return!!bB&&bB in e}var Eae=kae,Fae=Function.prototype,Qae=Fae.toString;function Uae(e){if(e!=null){try{return Qae.call(e)}catch{}try{return e+""}catch{}}return""}var NN=Uae,Tae=jN,Iae=Eae,Mae=Mi,Dae=NN,Pae=/[\\^$.*+?()[\]{}|]/g,Hae=/^\[object .+?Constructor\]$/,$ae=Function.prototype,Rae=Object.prototype,Lae=$ae.toString,Oae=Rae.hasOwnProperty,Kae=RegExp("^"+Lae.call(Oae).replace(Pae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zae(e){if(!Mae(e)||Iae(e))return!1;var t=Tae(e)?Kae:Hae;return t.test(Dae(e))}var Gae=zae;function Wae(e,t){return e==null?void 0:e[t]}var Vae=Wae,qae=Gae,Xae=Vae;function Yae(e,t){var n=Xae(e,t);return qae(n)?n:void 0}var Di=Yae,Jae=Di,Zae=Jae(Object,"create"),Hh=Zae,wB=Hh;function eie(){this.__data__=wB?wB(null):{},this.size=0}var tie=eie;function nie(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var rie=nie,sie=Hh,aie="__lodash_hash_undefined__",iie=Object.prototype,Aie=iie.hasOwnProperty;function oie(e){var t=this.__data__;if(sie){var n=t[e];return n===aie?void 0:n}return Aie.call(t,e)?t[e]:void 0}var lie=oie,cie=Hh,uie=Object.prototype,die=uie.hasOwnProperty;function fie(e){var t=this.__data__;return cie?t[e]!==void 0:die.call(t,e)}var hie=fie,mie=Hh,gie="__lodash_hash_undefined__";function pie(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=mie&&t===void 0?gie:t,this}var xie=pie,vie=tie,yie=rie,bie=lie,wie=hie,Bie=xie;function ho(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ho.prototype.clear=vie;ho.prototype.delete=yie;ho.prototype.get=bie;ho.prototype.has=wie;ho.prototype.set=Bie;var Cie=ho;function _ie(){this.__data__=[],this.size=0}var Sie=_ie;function jie(e,t){return e===t||e!==e&&t!==t}var mo=jie,Nie=mo;function kie(e,t){for(var n=e.length;n--;)if(Nie(e[n][0],t))return n;return-1}var $h=kie,Eie=$h,Fie=Array.prototype,Qie=Fie.splice;function Uie(e){var t=this.__data__,n=Eie(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Qie.call(t,n,1),--this.size,!0}var Tie=Uie,Iie=$h;function Mie(e){var t=this.__data__,n=Iie(t,e);return n<0?void 0:t[n][1]}var Die=Mie,Pie=$h;function Hie(e){return Pie(this.__data__,e)>-1}var $ie=Hie,Rie=$h;function Lie(e,t){var n=this.__data__,r=Rie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Oie=Lie,Kie=Sie,zie=Tie,Gie=Die,Wie=$ie,Vie=Oie;function go(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}go.prototype.clear=Kie;go.prototype.delete=zie;go.prototype.get=Gie;go.prototype.has=Wie;go.prototype.set=Vie;var Rh=go,qie=Di,Xie=Vs,Yie=qie(Xie,"Map"),ty=Yie,BB=Cie,Jie=Rh,Zie=ty;function eAe(){this.size=0,this.__data__={hash:new BB,map:new(Zie||Jie),string:new BB}}var tAe=eAe;function nAe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var rAe=nAe,sAe=rAe;function aAe(e,t){var n=e.__data__;return sAe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Lh=aAe,iAe=Lh;function AAe(e){var t=iAe(this,e).delete(e);return this.size-=t?1:0,t}var oAe=AAe,lAe=Lh;function cAe(e){return lAe(this,e).get(e)}var uAe=cAe,dAe=Lh;function fAe(e){return dAe(this,e).has(e)}var hAe=fAe,mAe=Lh;function gAe(e,t){var n=mAe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var pAe=gAe,xAe=tAe,vAe=oAe,yAe=uAe,bAe=hAe,wAe=pAe;function po(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}po.prototype.clear=xAe;po.prototype.delete=vAe;po.prototype.get=yAe;po.prototype.has=bAe;po.prototype.set=wAe;var ny=po,kN=ny,BAe="Expected a function";function ry(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(BAe);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var A=e.apply(this,r);return n.cache=a.set(s,A)||a,A};return n.cache=new(ry.Cache||kN),n}ry.Cache=kN;var EN=ry;const FN=xt(EN);var CAe=EN,_Ae=500;function SAe(e){var t=CAe(e,function(r){return n.size===_Ae&&n.clear(),r}),n=t.cache;return t}var jAe=SAe,NAe=jAe,kAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EAe=/\\(\\)?/g,FAe=NAe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kAe,function(n,r,s,a){t.push(s?a.replace(EAe,"$1"):r||n)}),t}),QAe=FAe,CB=Uc,UAe=Zv,TAe=wr,IAe=Ph,MAe=1/0,_B=CB?CB.prototype:void 0,SB=_B?_B.toString:void 0;function QN(e){if(typeof e=="string")return e;if(TAe(e))return UAe(e,QN)+"";if(IAe(e))return SB?SB.call(e):"";var t=e+"";return t=="0"&&1/e==-MAe?"-0":t}var DAe=QN,PAe=DAe;function HAe(e){return e==null?"":PAe(e)}var UN=HAe,$Ae=wr,RAe=ey,LAe=QAe,OAe=UN;function KAe(e,t){return $Ae(e)?e:RAe(e,t)?[e]:LAe(OAe(e))}var Oh=KAe,zAe=Ph,GAe=1/0;function WAe(e){if(typeof e=="string"||zAe(e))return e;var t=e+"";return t=="0"&&1/e==-GAe?"-0":t}var Tc=WAe,VAe=Oh,qAe=Tc;function XAe(e,t){t=VAe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[qAe(t[n++])];return n&&n==r?e:void 0}var Kh=XAe,YAe=Rh;function JAe(){this.__data__=new YAe,this.size=0}var ZAe=JAe;function eoe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var toe=eoe;function noe(e){return this.__data__.get(e)}var roe=noe;function soe(e){return this.__data__.has(e)}var aoe=soe,ioe=Rh,Aoe=ty,ooe=ny,loe=200;function coe(e,t){var n=this.__data__;if(n instanceof ioe){var r=n.__data__;if(!Aoe||r.length<loe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ooe(r)}return n.set(e,t),this.size=n.size,this}var uoe=coe,doe=Rh,foe=ZAe,hoe=toe,moe=roe,goe=aoe,poe=uoe;function xo(e){var t=this.__data__=new doe(e);this.size=t.size}xo.prototype.clear=foe;xo.prototype.delete=hoe;xo.prototype.get=moe;xo.prototype.has=goe;xo.prototype.set=poe;var TN=xo,xoe="__lodash_hash_undefined__";function voe(e){return this.__data__.set(e,xoe),this}var yoe=voe;function boe(e){return this.__data__.has(e)}var woe=boe,Boe=ny,Coe=yoe,_oe=woe;function rf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Boe;++t<n;)this.add(e[t])}rf.prototype.add=rf.prototype.push=Coe;rf.prototype.has=_oe;var IN=rf;function Soe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var joe=Soe;function Noe(e,t){return e.has(t)}var MN=Noe,koe=IN,Eoe=joe,Foe=MN,Qoe=1,Uoe=2;function Toe(e,t,n,r,s,a){var A=n&Qoe,o=e.length,l=t.length;if(o!=l&&!(A&&l>o))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var c=-1,d=!0,h=n&Uoe?new koe:void 0;for(a.set(e,t),a.set(t,e);++c<o;){var m=e[c],x=t[c];if(r)var v=A?r(x,m,c,t,e,a):r(m,x,c,e,t,a);if(v!==void 0){if(v)continue;d=!1;break}if(h){if(!Eoe(t,function(g,p){if(!Foe(h,p)&&(m===g||s(m,g,n,r,a)))return h.push(p)})){d=!1;break}}else if(!(m===x||s(m,x,n,r,a))){d=!1;break}}return a.delete(e),a.delete(t),d}var DN=Toe,Ioe=Vs,Moe=Ioe.Uint8Array,Doe=Moe;function Poe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var Hoe=Poe;function $oe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var sy=$oe,jB=Uc,NB=Doe,Roe=mo,Loe=DN,Ooe=Hoe,Koe=sy,zoe=1,Goe=2,Woe="[object Boolean]",Voe="[object Date]",qoe="[object Error]",Xoe="[object Map]",Yoe="[object Number]",Joe="[object RegExp]",Zoe="[object Set]",ele="[object String]",tle="[object Symbol]",nle="[object ArrayBuffer]",rle="[object DataView]",kB=jB?jB.prototype:void 0,cm=kB?kB.valueOf:void 0;function sle(e,t,n,r,s,a,A){switch(n){case rle:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nle:return!(e.byteLength!=t.byteLength||!a(new NB(e),new NB(t)));case Woe:case Voe:case Yoe:return Roe(+e,+t);case qoe:return e.name==t.name&&e.message==t.message;case Joe:case ele:return e==t+"";case Xoe:var o=Ooe;case Zoe:var l=r&zoe;if(o||(o=Koe),e.size!=t.size&&!l)return!1;var u=A.get(e);if(u)return u==t;r|=Goe,A.set(e,t);var f=Loe(o(e),o(t),r,s,a,A);return A.delete(e),f;case tle:if(cm)return cm.call(e)==cm.call(t)}return!1}var ale=sle;function ile(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var ay=ile,Ale=ay,ole=wr;function lle(e,t,n){var r=t(e);return ole(e)?r:Ale(r,n(e))}var PN=lle;function cle(e,t){for(var n=-1,r=e==null?0:e.length,s=0,a=[];++n<r;){var A=e[n];t(A,n,e)&&(a[s++]=A)}return a}var ule=cle;function dle(){return[]}var HN=dle,fle=ule,hle=HN,mle=Object.prototype,gle=mle.propertyIsEnumerable,EB=Object.getOwnPropertySymbols,ple=EB?function(e){return e==null?[]:(e=Object(e),fle(EB(e),function(t){return gle.call(e,t)}))}:hle,$N=ple;function xle(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var vle=xle,yle=Ti,ble=Ii,wle="[object Arguments]";function Ble(e){return ble(e)&&yle(e)==wle}var Cle=Ble,FB=Cle,_le=Ii,RN=Object.prototype,Sle=RN.hasOwnProperty,jle=RN.propertyIsEnumerable,Nle=FB(function(){return arguments}())?FB:function(e){return _le(e)&&Sle.call(e,"callee")&&!jle.call(e,"callee")},zh=Nle,sf={exports:{}};function kle(){return!1}var Ele=kle;sf.exports;(function(e,t){var n=Vs,r=Ele,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,A=a&&a.exports===s,o=A?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;e.exports=u})(sf,sf.exports);var iy=sf.exports,Fle=9007199254740991,Qle=/^(?:0|[1-9]\d*)$/;function Ule(e,t){var n=typeof e;return t=t??Fle,!!t&&(n=="number"||n!="symbol"&&Qle.test(e))&&e>-1&&e%1==0&&e<t}var Gh=Ule,Tle=9007199254740991;function Ile(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Tle}var Ay=Ile,Mle=Ti,Dle=Ay,Ple=Ii,Hle="[object Arguments]",$le="[object Array]",Rle="[object Boolean]",Lle="[object Date]",Ole="[object Error]",Kle="[object Function]",zle="[object Map]",Gle="[object Number]",Wle="[object Object]",Vle="[object RegExp]",qle="[object Set]",Xle="[object String]",Yle="[object WeakMap]",Jle="[object ArrayBuffer]",Zle="[object DataView]",ece="[object Float32Array]",tce="[object Float64Array]",nce="[object Int8Array]",rce="[object Int16Array]",sce="[object Int32Array]",ace="[object Uint8Array]",ice="[object Uint8ClampedArray]",Ace="[object Uint16Array]",oce="[object Uint32Array]",it={};it[ece]=it[tce]=it[nce]=it[rce]=it[sce]=it[ace]=it[ice]=it[Ace]=it[oce]=!0;it[Hle]=it[$le]=it[Jle]=it[Rle]=it[Zle]=it[Lle]=it[Ole]=it[Kle]=it[zle]=it[Gle]=it[Wle]=it[Vle]=it[qle]=it[Xle]=it[Yle]=!1;function lce(e){return Ple(e)&&Dle(e.length)&&!!it[Mle(e)]}var cce=lce;function uce(e){return function(t){return e(t)}}var oy=uce,af={exports:{}};af.exports;(function(e,t){var n=wN,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===r,A=a&&n.process,o=function(){try{var l=s&&s.require&&s.require("util").types;return l||A&&A.binding&&A.binding("util")}catch{}}();e.exports=o})(af,af.exports);var LN=af.exports,dce=cce,fce=oy,QB=LN,UB=QB&&QB.isTypedArray,hce=UB?fce(UB):dce,ly=hce,mce=vle,gce=zh,pce=wr,xce=iy,vce=Gh,yce=ly,bce=Object.prototype,wce=bce.hasOwnProperty;function Bce(e,t){var n=pce(e),r=!n&&gce(e),s=!n&&!r&&xce(e),a=!n&&!r&&!s&&yce(e),A=n||r||s||a,o=A?mce(e.length,String):[],l=o.length;for(var u in e)(t||wce.call(e,u))&&!(A&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vce(u,l)))&&o.push(u);return o}var ON=Bce,Cce=Object.prototype;function _ce(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Cce;return e===n}var cy=_ce,Sce=CN,jce=Sce(Object.keys,Object),Nce=jce,kce=cy,Ece=Nce,Fce=Object.prototype,Qce=Fce.hasOwnProperty;function Uce(e){if(!kce(e))return Ece(e);var t=[];for(var n in Object(e))Qce.call(e,n)&&n!="constructor"&&t.push(n);return t}var KN=Uce,Tce=jN,Ice=Ay;function Mce(e){return e!=null&&Ice(e.length)&&!Tce(e)}var vo=Mce,Dce=ON,Pce=KN,Hce=vo;function $ce(e){return Hce(e)?Dce(e):Pce(e)}var uy=$ce,Rce=PN,Lce=$N,Oce=uy;function Kce(e){return Rce(e,Oce,Lce)}var zce=Kce,TB=zce,Gce=1,Wce=Object.prototype,Vce=Wce.hasOwnProperty;function qce(e,t,n,r,s,a){var A=n&Gce,o=TB(e),l=o.length,u=TB(t),f=u.length;if(l!=f&&!A)return!1;for(var c=l;c--;){var d=o[c];if(!(A?d in t:Vce.call(t,d)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var x=!0;a.set(e,t),a.set(t,e);for(var v=A;++c<l;){d=o[c];var g=e[d],p=t[d];if(r)var y=A?r(p,g,d,t,e,a):r(g,p,d,e,t,a);if(!(y===void 0?g===p||s(g,p,n,r,a):y)){x=!1;break}v||(v=d=="constructor")}if(x&&!v){var b=e.constructor,C=t.constructor;b!=C&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof C=="function"&&C instanceof C)&&(x=!1)}return a.delete(e),a.delete(t),x}var Xce=qce,Yce=Di,Jce=Vs,Zce=Yce(Jce,"DataView"),eue=Zce,tue=Di,nue=Vs,rue=tue(nue,"Promise"),sue=rue,aue=Di,iue=Vs,Aue=aue(iue,"Set"),zN=Aue,oue=Di,lue=Vs,cue=oue(lue,"WeakMap"),uue=cue,ip=eue,Ap=ty,op=sue,lp=zN,cp=uue,GN=Ti,yo=NN,IB="[object Map]",due="[object Object]",MB="[object Promise]",DB="[object Set]",PB="[object WeakMap]",HB="[object DataView]",fue=yo(ip),hue=yo(Ap),mue=yo(op),gue=yo(lp),pue=yo(cp),Xa=GN;(ip&&Xa(new ip(new ArrayBuffer(1)))!=HB||Ap&&Xa(new Ap)!=IB||op&&Xa(op.resolve())!=MB||lp&&Xa(new lp)!=DB||cp&&Xa(new cp)!=PB)&&(Xa=function(e){var t=GN(e),n=t==due?e.constructor:void 0,r=n?yo(n):"";if(r)switch(r){case fue:return HB;case hue:return IB;case mue:return MB;case gue:return DB;case pue:return PB}return t});var WN=Xa,um=TN,xue=DN,vue=ale,yue=Xce,$B=WN,RB=wr,LB=iy,bue=ly,wue=1,OB="[object Arguments]",KB="[object Array]",bu="[object Object]",Bue=Object.prototype,zB=Bue.hasOwnProperty;function Cue(e,t,n,r,s,a){var A=RB(e),o=RB(t),l=A?KB:$B(e),u=o?KB:$B(t);l=l==OB?bu:l,u=u==OB?bu:u;var f=l==bu,c=u==bu,d=l==u;if(d&&LB(e)){if(!LB(t))return!1;A=!0,f=!1}if(d&&!f)return a||(a=new um),A||bue(e)?xue(e,t,n,r,s,a):vue(e,t,l,n,r,s,a);if(!(n&wue)){var h=f&&zB.call(e,"__wrapped__"),m=c&&zB.call(t,"__wrapped__");if(h||m){var x=h?e.value():e,v=m?t.value():t;return a||(a=new um),s(x,v,n,r,a)}}return d?(a||(a=new um),yue(e,t,n,r,s,a)):!1}var _ue=Cue,Sue=_ue,GB=Ii;function VN(e,t,n,r,s){return e===t?!0:e==null||t==null||!GB(e)&&!GB(t)?e!==e&&t!==t:Sue(e,t,n,r,VN,s)}var dy=VN,jue=TN,Nue=dy,kue=1,Eue=2;function Fue(e,t,n,r){var s=n.length,a=s,A=!r;if(e==null)return!a;for(e=Object(e);s--;){var o=n[s];if(A&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++s<a;){o=n[s];var l=o[0],u=e[l],f=o[1];if(A&&o[2]){if(u===void 0&&!(l in e))return!1}else{var c=new jue;if(r)var d=r(u,f,l,e,t,c);if(!(d===void 0?Nue(f,u,kue|Eue,r,c):d))return!1}}return!0}var Que=Fue,Uue=Mi;function Tue(e){return e===e&&!Uue(e)}var qN=Tue,Iue=qN,Mue=uy;function Due(e){for(var t=Mue(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,Iue(s)]}return t}var Pue=Due;function Hue(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var XN=Hue,$ue=Que,Rue=Pue,Lue=XN;function Oue(e){var t=Rue(e);return t.length==1&&t[0][2]?Lue(t[0][0],t[0][1]):function(n){return n===e||$ue(n,e,t)}}var Kue=Oue,zue=Kh;function Gue(e,t,n){var r=e==null?void 0:zue(e,t);return r===void 0?n:r}var Wue=Gue;function Vue(e,t){return e!=null&&t in Object(e)}var que=Vue,Xue=Oh,Yue=zh,Jue=wr,Zue=Gh,ede=Ay,tde=Tc;function nde(e,t,n){t=Xue(t,e);for(var r=-1,s=t.length,a=!1;++r<s;){var A=tde(t[r]);if(!(a=e!=null&&n(e,A)))break;e=e[A]}return a||++r!=s?a:(s=e==null?0:e.length,!!s&&ede(s)&&Zue(A,s)&&(Jue(e)||Yue(e)))}var rde=nde,sde=que,ade=rde;function ide(e,t){return e!=null&&ade(e,t,sde)}var YN=ide,Ade=dy,ode=Wue,lde=YN,cde=ey,ude=qN,dde=XN,fde=Tc,hde=1,mde=2;function gde(e,t){return cde(e)&&ude(t)?dde(fde(e),t):function(n){var r=ode(n,e);return r===void 0&&r===t?lde(n,e):Ade(t,r,hde|mde)}}var pde=gde;function xde(e){return e}var Ic=xde;const bo=xt(Ic);function vde(e){return function(t){return t==null?void 0:t[e]}}var yde=vde,bde=Kh;function wde(e){return function(t){return bde(t,e)}}var Bde=wde,Cde=yde,_de=Bde,Sde=ey,jde=Tc;function Nde(e){return Sde(e)?Cde(jde(e)):_de(e)}var JN=Nde;const ZN=xt(JN);var kde=Kue,Ede=pde,Fde=Ic,Qde=wr,Ude=JN;function Tde(e){return typeof e=="function"?e:e==null?Fde:typeof e=="object"?Qde(e)?Ede(e[0],e[1]):kde(e):Ude(e)}var Wh=Tde;function Ide(e){return function(t,n,r){for(var s=-1,a=Object(t),A=r(t),o=A.length;o--;){var l=A[e?o:++s];if(n(a[l],l,a)===!1)break}return t}}var Mde=Ide,Dde=Mde,Pde=Dde(),Hde=Pde,$de=Hde,Rde=uy;function Lde(e,t){return e&&$de(e,t,Rde)}var Ode=Lde,Kde=vo;function zde(e,t){return function(n,r){if(n==null)return n;if(!Kde(n))return e(n,r);for(var s=n.length,a=t?s:-1,A=Object(n);(t?a--:++a<s)&&r(A[a],a,A)!==!1;);return n}}var Gde=zde,Wde=Ode,Vde=Gde,qde=Vde(Wde),Xde=qde,Yde=Xde,Jde=vo;function Zde(e,t){var n=-1,r=Jde(e)?Array(e.length):[];return Yde(e,function(s,a,A){r[++n]=t(s,a,A)}),r}var efe=Zde;function tfe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var nfe=tfe,WB=Ph;function rfe(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,a=WB(e),A=t!==void 0,o=t===null,l=t===t,u=WB(t);if(!o&&!u&&!a&&e>t||a&&A&&l&&!o&&!u||r&&A&&l||!n&&l||!s)return 1;if(!r&&!a&&!u&&e<t||u&&n&&s&&!r&&!a||o&&n&&s||!A&&s||!l)return-1}return 0}var sfe=rfe,afe=sfe;function ife(e,t,n){for(var r=-1,s=e.criteria,a=t.criteria,A=s.length,o=n.length;++r<A;){var l=afe(s[r],a[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var Afe=ife,dm=Zv,ofe=Kh,lfe=Wh,cfe=efe,ufe=nfe,dfe=oy,ffe=Afe,hfe=Ic,mfe=wr;function gfe(e,t,n){t.length?t=dm(t,function(a){return mfe(a)?function(A){return ofe(A,a.length===1?a[0]:a)}:a}):t=[hfe];var r=-1;t=dm(t,dfe(lfe));var s=cfe(e,function(a,A,o){var l=dm(t,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return ufe(s,function(a,A){return ffe(a,A,n)})}var pfe=gfe,xfe=pfe,VB=wr;function vfe(e,t,n,r){return e==null?[]:(VB(t)||(t=t==null?[]:[t]),n=r?void 0:n,VB(n)||(n=n==null?[]:[n]),xfe(e,t,n))}var yfe=vfe;const fy=xt(yfe);function hy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function e6(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Mc(){}var sc=.7,Af=1/sc,IA="\\s*([+-]?\\d+)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bfe=/^#([0-9a-f]{3,8})$/,wfe=new RegExp(`^rgb\\(${IA},${IA},${IA}\\)$`),Bfe=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),Cfe=new RegExp(`^rgba\\(${IA},${IA},${IA},${ac}\\)$`),_fe=new RegExp(`^rgba\\(${ts},${ts},${ts},${ac}\\)$`),Sfe=new RegExp(`^hsl\\(${ac},${ts},${ts}\\)$`),jfe=new RegExp(`^hsla\\(${ac},${ts},${ts},${ac}\\)$`),qB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hy(Mc,ic,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XB,formatHex:XB,formatHex8:Nfe,formatHsl:kfe,formatRgb:YB,toString:YB});function XB(){return this.rgb().formatHex()}function Nfe(){return this.rgb().formatHex8()}function kfe(){return t6(this).formatHsl()}function YB(){return this.rgb().formatRgb()}function ic(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bfe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?JB(t):n===3?new Mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wfe.exec(e))?new Mn(t[1],t[2],t[3],1):(t=Bfe.exec(e))?new Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cfe.exec(e))?wu(t[1],t[2],t[3],t[4]):(t=_fe.exec(e))?wu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Sfe.exec(e))?t2(t[1],t[2]/100,t[3]/100,1):(t=jfe.exec(e))?t2(t[1],t[2]/100,t[3]/100,t[4]):qB.hasOwnProperty(e)?JB(qB[e]):e==="transparent"?new Mn(NaN,NaN,NaN,0):null}function JB(e){return new Mn(e>>16&255,e>>8&255,e&255,1)}function wu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Mn(e,t,n,r)}function Efe(e){return e instanceof Mc||(e=ic(e)),e?(e=e.rgb(),new Mn(e.r,e.g,e.b,e.opacity)):new Mn}function up(e,t,n,r){return arguments.length===1?Efe(e):new Mn(e,t,n,r??1)}function Mn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hy(Mn,up,e6(Mc,{brighter(e){return e=e==null?Af:Math.pow(Af,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sc:Math.pow(sc,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mn(oi(this.r),oi(this.g),oi(this.b),of(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZB,formatHex:ZB,formatHex8:Ffe,formatRgb:e2,toString:e2}));function ZB(){return`#${ri(this.r)}${ri(this.g)}${ri(this.b)}`}function Ffe(){return`#${ri(this.r)}${ri(this.g)}${ri(this.b)}${ri((isNaN(this.opacity)?1:this.opacity)*255)}`}function e2(){const e=of(this.opacity);return`${e===1?"rgb(":"rgba("}${oi(this.r)}, ${oi(this.g)}, ${oi(this.b)}${e===1?")":`, ${e})`}`}function of(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ri(e){return e=oi(e),(e<16?"0":"")+e.toString(16)}function t2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ur(e,t,n,r)}function t6(e){if(e instanceof Ur)return new Ur(e.h,e.s,e.l,e.opacity);if(e instanceof Mc||(e=ic(e)),!e)return new Ur;if(e instanceof Ur)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),A=NaN,o=a-s,l=(a+s)/2;return o?(t===a?A=(n-r)/o+(n<r)*6:n===a?A=(r-t)/o+2:A=(t-n)/o+4,o/=l<.5?a+s:2-a-s,A*=60):o=l>0&&l<1?0:A,new Ur(A,o,l,e.opacity)}function Qfe(e,t,n,r){return arguments.length===1?t6(e):new Ur(e,t,n,r??1)}function Ur(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hy(Ur,Qfe,e6(Mc,{brighter(e){return e=e==null?Af:Math.pow(Af,e),new Ur(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sc:Math.pow(sc,e),new Ur(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Mn(fm(e>=240?e-240:e+120,s,r),fm(e,s,r),fm(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Ur(n2(this.h),Bu(this.s),Bu(this.l),of(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=of(this.opacity);return`${e===1?"hsl(":"hsla("}${n2(this.h)}, ${Bu(this.s)*100}%, ${Bu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function n2(e){return e=(e||0)%360,e<0?e+360:e}function Bu(e){return Math.max(0,Math.min(1,e||0))}function fm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const my=e=>()=>e;function Ufe(e,t){return function(n){return e+n*t}}function Tfe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ife(e){return(e=+e)==1?n6:function(t,n){return n-t?Tfe(t,n,e):my(isNaN(t)?n:t)}}function n6(e,t){var n=t-e;return n?Ufe(e,n):my(isNaN(e)?t:e)}const r2=function e(t){var n=Ife(t);function r(s,a){var A=n((s=up(s)).r,(a=up(a)).r),o=n(s.g,a.g),l=n(s.b,a.b),u=n6(s.opacity,a.opacity);return function(f){return s.r=A(f),s.g=o(f),s.b=l(f),s.opacity=u(f),s+""}}return r.gamma=e,r}(1);function Mfe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(a){for(s=0;s<n;++s)r[s]=e[s]*(1-a)+t[s]*a;return r}}function Dfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Pfe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),a=new Array(n),A;for(A=0;A<r;++A)s[A]=is(e[A],t[A]);for(;A<n;++A)a[A]=t[A];return function(o){for(A=0;A<r;++A)a[A]=s[A](o);return a}}function Hfe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $fe(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=is(e[s],t[s]):r[s]=t[s];return function(a){for(s in n)r[s]=n[s](a);return r}}var dp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hm=new RegExp(dp.source,"g");function Rfe(e){return function(){return e}}function Lfe(e){return function(t){return e(t)+""}}function Ofe(e,t){var n=dp.lastIndex=hm.lastIndex=0,r,s,a,A=-1,o=[],l=[];for(e=e+"",t=t+"";(r=dp.exec(e))&&(s=hm.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),o[A]?o[A]+=a:o[++A]=a),(r=r[0])===(s=s[0])?o[A]?o[A]+=s:o[++A]=s:(o[++A]=null,l.push({i:A,x:lf(r,s)})),n=hm.lastIndex;return n<t.length&&(a=t.slice(n),o[A]?o[A]+=a:o[++A]=a),o.length<2?l[0]?Lfe(l[0].x):Rfe(t):(t=l.length,function(u){for(var f=0,c;f<t;++f)o[(c=l[f]).i]=c.x(u);return o.join("")})}function is(e,t){var n=typeof t,r;return t==null||n==="boolean"?my(t):(n==="number"?lf:n==="string"?(r=ic(t))?(t=r,r2):Ofe:t instanceof ic?r2:t instanceof Date?Hfe:Dfe(t)?Mfe:Array.isArray(t)?Pfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$fe:lf)(e,t)}function gy(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Kfe(e,t){t===void 0&&(t=e,e=is);for(var n=0,r=t.length-1,s=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(s,s=t[++n]);return function(A){var o=Math.max(0,Math.min(r-1,Math.floor(A*=r)));return a[o](A-o)}}const cf=function(e){if(e!==null)switch(typeof e){case"undefined":return!1;case"number":return!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY;case"string":return!0;case"boolean":return!1;case"object":return e instanceof Date||Array.isArray(e)||pr(e);case"function":return!0}return!1},r6=function(e,t,n){return n===void 0&&(n=0),function(r){return r<n?e:t}},s6=function(e,t){return function(n){return n>=1?t:function(){const r=typeof e=="function"?e.apply(this,arguments):e,s=typeof t=="function"?t.apply(this,arguments):t;return is(r,s)(n)}}},a6=function(e,t){const n=(u,f)=>u===f||!cf(u)||!cf(f)?r6(u,f):typeof u=="function"||typeof f=="function"?s6(u,f):typeof u=="object"&&pr(u)||typeof f=="object"&&pr(f)?a6(u,f):is(u,f),r=u=>Array.isArray(u)?fy(u,"key"):u,s={},a={};let A=e,o=t,l;(A===null||typeof A!="object")&&(A={}),(o===null||typeof o!="object")&&(o={});for(l in o)l in A?s[l]=n(r(A[l]),r(o[l])):a[l]=o[l];return function(u){for(l in s)a[l]=s[l](u);return a}},zfe=function(e,t){const n=r=>typeof r=="string"?r.replace(/,/g,""):r;return is(n(e),n(t))},Gfe=function(e,t){return e===t||!cf(e)||!cf(t)?r6(e,t):typeof e=="function"||typeof t=="function"?s6(e,t):pr(e)||pr(t)?a6(e,t):typeof e=="string"||typeof t=="string"?zfe(e,t):is(e,t)};var JA=0,nl=0,$o=0,i6=1e3,uf,rl,df=0,wi=0,Vh=0,Ac=typeof performance=="object"&&performance.now?performance:Date,A6=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ff(){return wi||(A6(Wfe),wi=Ac.now()+Vh)}function Wfe(){wi=0}function fp(){this._call=this._time=this._next=null}fp.prototype=o6.prototype={constructor:fp,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ff():+n)+(t==null?0:+t),!this._next&&rl!==this&&(rl?rl._next=this:uf=this,rl=this),this._call=e,this._time=n,hp()},stop:function(){this._call&&(this._call=null,this._time=1/0,hp())}};function o6(e,t,n){var r=new fp;return r.restart(e,t,n),r}function Vfe(){ff(),++JA;for(var e=uf,t;e;)(t=wi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--JA}function s2(){wi=(df=Ac.now())+Vh,JA=nl=0;try{Vfe()}finally{JA=0,Xfe(),wi=0}}function qfe(){var e=Ac.now(),t=e-df;t>i6&&(Vh-=t,df=e)}function Xfe(){for(var e,t=uf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:uf=n);rl=e,hp(r)}function hp(e){if(!JA){nl&&(nl=clearTimeout(nl));var t=e-wi;t>24?(e<1/0&&(nl=setTimeout(s2,e-Ac.now()-Vh)),$o&&($o=clearInterval($o))):($o||(df=Ac.now(),$o=setInterval(qfe,i6)),JA=1,A6(s2))}}class a2{constructor(){ne(this,"loop",()=>{this.subscribers.forEach(t=>{t.callback(ff()-t.startTime,t.duration)})});this.shouldAnimate=!0,this.subscribers=[],this.timer=null,this.activeSubscriptions=0}bypassAnimation(){this.shouldAnimate=!1}resumeAnimation(){this.shouldAnimate=!0}start(){this.timer||(this.timer=o6(this.loop))}stop(){this.timer&&(this.timer.stop(),this.timer=null)}subscribe(t,n){const r=this.subscribers.push({startTime:ff(),callback:t,duration:this.shouldAnimate?n:0});return this.activeSubscriptions++,this.start(),r}unsubscribe(t){t!==null&&this.subscribers[t-1]&&(delete this.subscribers[t-1],this.activeSubscriptions--),this.activeSubscriptions===0&&this.stop()}}const l6=P.createContext({transitionTimer:new a2,animationTimer:new a2});l6.displayName="TimerContext";const py=l6,Yfe=e=>`ease${e.charAt(0).toUpperCase()+e.slice(1)}`,Jfe=1e3,Zfe=e=>{let{duration:t=Jfe,easing:n="quadInOut",delay:r=0,data:s,children:a,onEnd:A}=e;const[o,l]=P.useState({data:Array.isArray(s)?s[0]:s,animationInfo:{progress:0,animating:!1}}),u=P.useContext(py).animationTimer,f=P.useRef(Array.isArray(s)?s.slice(1):[]),c=P.useRef(null),d=P.useRef(void 0),h=jse[Yfe(n)];P.useEffect(()=>(f.current.length&&m(),()=>{d.current?u.unsubscribe(d.current):u.stop()}),[]),P.useEffect(()=>{c.current&&o.animationInfo&&o.animationInfo.progress<1?l({data:c.current(1),animationInfo:{progress:1,animating:!1,terminating:!0}}):(u.unsubscribe(d.current),f.current=Array.isArray(s)?s:[s],m())},[s]);const m=()=>{if(f.current.length){const v=f.current[0];c.current=Gfe(o.data,v),r?setTimeout(()=>{d.current=u.subscribe(x,t)},r):d.current=u.subscribe(x,t)}else A&&A()},x=v=>{if(!c.current)return;const g=t?v/t:1;if(g>=1){l({data:c.current(1),animationInfo:{progress:1,animating:!1,terminating:!0}}),d.current&&u.unsubscribe(d.current),f.current.shift(),m();return}l({data:c.current(h(g)),animationInfo:{progress:g,animating:g<1}})};return a(o.data,o.animationInfo)};var ehe=UN,the=0;function nhe(e){var t=++the;return ehe(e)+t}var rhe=nhe;const xy=xt(rhe);function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mp.apply(this,arguments)}const she=P.forwardRef((e,t)=>P.createElement("svg",mp({ref:t},e)));function ahe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var ihe=ahe,Ahe=ihe,i2=Math.max;function ohe(e,t,n){return t=i2(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=i2(r.length-t,0),A=Array(a);++s<a;)A[s]=r[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=r[s];return o[t]=n(A),Ahe(e,this,o)}}var c6=ohe;function lhe(e){return function(){return e}}var che=lhe,uhe=Di,dhe=function(){try{var e=uhe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),u6=dhe,fhe=che,A2=u6,hhe=Ic,mhe=A2?function(e,t){return A2(e,"toString",{configurable:!0,enumerable:!1,value:fhe(t),writable:!0})}:hhe,ghe=mhe,phe=800,xhe=16,vhe=Date.now;function yhe(e){var t=0,n=0;return function(){var r=vhe(),s=xhe-(r-n);if(n=r,s>0){if(++t>=phe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var bhe=yhe,whe=ghe,Bhe=bhe,Che=Bhe(whe),d6=Che,_he=Ic,She=c6,jhe=d6;function Nhe(e,t){return jhe(She(e,t,_he),e+"")}var khe=Nhe,Ehe=mo,Fhe=vo,Qhe=Gh,Uhe=Mi;function The(e,t,n){if(!Uhe(n))return!1;var r=typeof t;return(r=="number"?Fhe(n)&&Qhe(t,n.length):r=="string"&&t in n)?Ehe(n[t],e):!1}var Ihe=The;function Mhe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Dhe=Mhe,Phe=Mi,Hhe=cy,$he=Dhe,Rhe=Object.prototype,Lhe=Rhe.hasOwnProperty;function Ohe(e){if(!Phe(e))return $he(e);var t=Hhe(e),n=[];for(var r in e)r=="constructor"&&(t||!Lhe.call(e,r))||n.push(r);return n}var Khe=Ohe,zhe=ON,Ghe=Khe,Whe=vo;function Vhe(e){return Whe(e)?zhe(e,!0):Ghe(e)}var f6=Vhe,qhe=khe,Xhe=mo,Yhe=Ihe,Jhe=f6,h6=Object.prototype,Zhe=h6.hasOwnProperty,e0e=qhe(function(e,t){e=Object(e);var n=-1,r=t.length,s=r>2?t[2]:void 0;for(s&&Yhe(t[0],t[1],s)&&(r=1);++n<r;)for(var a=t[n],A=Jhe(a),o=-1,l=A.length;++o<l;){var u=A[o],f=e[u];(f===void 0||Xhe(f,h6[u])&&!Zhe.call(e,u))&&(e[u]=a[u])}return e}),t0e=e0e;const we=xt(t0e);var o2=u6;function n0e(e,t,n){t=="__proto__"&&o2?o2(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var r0e=n0e,s0e=r0e,a0e=mo,i0e=Object.prototype,A0e=i0e.hasOwnProperty;function o0e(e,t,n){var r=e[t];(!(A0e.call(e,t)&&a0e(r,n))||n===void 0&&!(t in e))&&s0e(e,t,n)}var l0e=o0e,c0e=l0e,u0e=Oh,d0e=Gh,l2=Mi,f0e=Tc;function h0e(e,t,n,r){if(!l2(e))return e;t=u0e(t,e);for(var s=-1,a=t.length,A=a-1,o=e;o!=null&&++s<a;){var l=f0e(t[s]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(s!=A){var f=o[l];u=r?r(f,l,o):void 0,u===void 0&&(u=l2(f)?f:d0e(t[s+1])?[]:{})}c0e(o,l,u),o=o[l]}return e}var m0e=h0e,g0e=Kh,p0e=m0e,x0e=Oh;function v0e(e,t,n){for(var r=-1,s=t.length,a={};++r<s;){var A=t[r],o=g0e(e,A);n(o,A)&&p0e(a,x0e(A,e),o)}return a}var m6=v0e,y0e=m6,b0e=YN;function w0e(e,t){return y0e(e,t,function(n,r){return b0e(e,r)})}var B0e=w0e,c2=Uc,C0e=zh,_0e=wr,u2=c2?c2.isConcatSpreadable:void 0;function S0e(e){return _0e(e)||C0e(e)||!!(u2&&e&&e[u2])}var j0e=S0e,N0e=ay,k0e=j0e;function g6(e,t,n,r,s){var a=-1,A=e.length;for(n||(n=k0e),s||(s=[]);++a<A;){var o=e[a];t>0&&n(o)?t>1?g6(o,t-1,n,r,s):N0e(s,o):r||(s[s.length]=o)}return s}var E0e=g6,F0e=E0e;function Q0e(e){var t=e==null?0:e.length;return t?F0e(e,1):[]}var U0e=Q0e,T0e=U0e,I0e=c6,M0e=d6;function D0e(e){return M0e(I0e(e,void 0,T0e),e+"")}var P0e=D0e,H0e=B0e,$0e=P0e,R0e=$0e(function(e,t){return e==null?{}:H0e(e,t)}),L0e=R0e;const hf=xt(L0e);function O0e(e){return e.axis!=="x"?[e.height-e.padding.bottom,e.padding.top]:[e.padding.left,e.width-e.padding.right]}function K0e(e){if(e.axis==="x"){const t=Ot(e.startAngle||0),n=Ot(e.endAngle||360);return[t,n]}return[e.innerRadius||0,gp({height:e.height,width:e.width,padding:e.padding})]}function p6(e){return Object.entries(e).reduce((t,n)=>(t[n[1]]=n[0],t),{})}function vy(e,t){t===void 0&&(t=[]);const n={};for(const r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function x6(e){const{_x:t,_x1:n,_x0:r,_voronoiX:s,_y:a,_y1:A,_y0:o,_voronoiY:l}=e;return we({},{x:s??(n??t),x0:r??t,y:l??(A??a),y0:o??a},e)}function yy(e,t){const{scale:n,polar:r,horizontal:s}=e,a=x6(t),A=e.origin||{x:0,y:0},o=s?n.y(a.y):n.x(a.x),l=s?n.y(a.y0):n.x(a.x0),u=s?n.x(a.x):n.y(a.y),f=s?n.x(a.x0):n.y(a.y0);return{x:r?u*Math.cos(o)+A.x:o,x0:r?f*Math.cos(l)+A.x:l,y:r?-u*Math.sin(o)+A.y:u,y0:r?-f*Math.sin(l)+A.x:f}}function xr(e){const t=typeof e=="number"?e:0,n=typeof e=="object"?e:{};return{top:n.top||t,bottom:n.bottom||t,left:n.left||t,right:n.right||t}}function v6(e){return(e&&e.type&&e.type.role)==="tooltip"}function by(e,t){const{theme:n={},labelComponent:r}=e,s=n[t]&&n[t].style||{};if(!v6(r))return s;const a=n.tooltip&&n.tooltip.style||{},A=we({},a,s.labels);return we({},{labels:A},s)}function wy(e,t){const n="100%",r="100%";if(!e)return we({parent:{height:r,width:n}},t);const{data:s,labels:a,parent:A}=e,o=t&&t.parent||{},l=t&&t.labels||{},u=t&&t.data||{};return{parent:we({},A,o,{width:n,height:r}),labels:we({},a,l),data:we({},s,u)}}function Be(e,t){return qe(e)?e(t):e}function un(e,t){return t.disableInlineStyles?{}:!e||!Object.keys(e).some(n=>qe(e[n]))?e:Object.keys(e).reduce((n,r)=>(n[r]=Be(e[r],t),n),{})}function Ot(e){return typeof e=="number"?e*(Math.PI/180):e}function By(e){return typeof e=="number"?e/(Math.PI/180):e}function gp(e){const{width:t,height:n,padding:r}=e,{left:s,right:a,top:A,bottom:o}=r;return Math.min(t-s-a,n-A-o)/2}function Dc(e){const{width:t,height:n}=e,{top:r,bottom:s,left:a,right:A}=xr(e.padding),o=Math.min(t-a-A,n-r-s)/2,l=t/2+a-A,u=n/2+r-s;return{x:l+o>t?o+a-A:l,y:u+o>n?o+r-s:u}}function zt(e,t){return e.range&&e.range[t]?e.range[t]:e.range&&Array.isArray(e.range)?e.range:e.polar?K0e({axis:t,innerRadius:e.innerRadius,startAngle:e.startAngle,endAngle:e.endAngle,height:e.height,width:e.width,padding:xr(e.padding)}):O0e({axis:t,height:e.height,width:e.width,padding:xr(e.padding)})}function oc(e){return e==null}function qe(e){return typeof e=="function"}function Cy(e){return qe(e)?e:e==null?t=>t:ZN(e)}function Mr(e,t,n){const r=e.theme&&e.theme[n]?e.theme[n]:{},s=vy(r,["style"]),a=G0e(e);return we(a===void 0?{}:{horizontal:a},e,s,t)}function z0e(e,t){return t?e==="x"?"y":"x":e}function _y(e,t,n){const r=t?e:0;let s=t||e;s||(s=0);const a=s-r,A=Math.abs(a),o=a/A||1,l=n||1,u=Math.max(Math.ceil(A/l),0);return Array.from(Array(u),(f,c)=>r+c*o*l)}function Pc(e,t,n,r,s){n===void 0&&(n={}),r===void 0&&(r=[]),s===void 0&&(s=(u,f)=>u.concat(f));const a=["data","domain","categories","polar","startAngle","endAngle","minDomain","maxDomain","horizontal"],A=(u,f,c)=>u.reduce((d,h,m)=>{let x=d;const v=h.type&&h.type.role,g=h.props.name||`${v}-${f[m]}`;if(h.props&&h.props.children){const p=Object.assign({},h.props,hf(n,a)),y=h.type&&h.type.role==="stack"&&qe(h.type.getChildren)?h.type.getChildren(p):P.Children.toArray(h.props.children).map(B=>{const _=Object.assign({},B.props,hf(p,a));return P.cloneElement(B,_)}),b=y.map((B,_)=>`${g}-${_}`),C=A(y,b,h);x=s(x,C)}else{const p=t(h,g,c);p&&(x=s(x,p))}return x},r),o=e.filter(j.isValidElement),l=o.map((u,f)=>f);return A(o,l)}function G0e(e){if(e.horizontal!==void 0||!e.children)return e.horizontal;const t=n=>n.reduce((r,s)=>{const a=s.props||{};return r||a.horizontal||!a.children?r||a.horizontal:t(P.Children.toArray(a.children))},!1);return t(P.Children.toArray(e.children))}const y6={startsWith:["data-","aria-"],exactMatch:[]},W0e=e=>{let t=!1;return y6.startsWith.forEach(n=>{new RegExp(`\\b(${n})(\\w|-)+`,"g").test(e)&&(t=!0)}),t},V0e=e=>y6.exactMatch.includes(e),q0e=e=>!!(W0e(e)||V0e(e)),qs=e=>{const t={...e};return Object.fromEntries(Object.entries(t).filter(n=>{let[r]=n;return q0e(r)}).map(n=>{let[r,s]=n;return[r,Be(s,e)]}))},Sy=(e,t)=>j.cloneElement(e,qs(t));var X0e=KN,Y0e=WN,J0e=zh,Z0e=wr,eme=vo,tme=iy,nme=cy,rme=ly,sme="[object Map]",ame="[object Set]",ime=Object.prototype,Ame=ime.hasOwnProperty;function ome(e){if(e==null)return!0;if(eme(e)&&(Z0e(e)||typeof e=="string"||typeof e.splice=="function"||tme(e)||rme(e)||J0e(e)))return!e.length;var t=Y0e(e);if(t==sme||t==ame)return!e.size;if(nme(e))return!X0e(e).length;for(var n in e)if(Ame.call(e,n))return!1;return!0}var lme=ome;const St=xt(lme);var cme=typeof Element<"u",ume=typeof Map=="function",dme=typeof Set=="function",fme=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function pd(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!pd(e[r],t[r]))return!1;return!0}var a;if(ume&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!pd(r.value[1],t.get(r.value[0])))return!1;return!0}if(dme&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(fme&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(cme&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!pd(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var hme=function(t,n){try{return pd(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const li=xt(hme);function b6(e){return Array.isArray(e)&&e.length>0}function mf(e){return Array.isArray(e)&&e.some(t=>typeof t=="string")}function Ps(e){return Array.isArray(e)&&e.some(t=>t instanceof Date)}function mme(e){return b6(e)&&e.every(t=>typeof t=="string")}function gf(e,t){return e&&t?e.filter(n=>!t.includes(n)):[]}function d2(e){return b6(e)&&e.every(Array.isArray)}function gme(e){return e.filter(t=>t!==void 0)}function Pr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=e.concat(n);return Ps(s)?new Date(Math.max(...s)):Math.max(...s)}function Hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=e.concat(n);return Ps(s)?new Date(Math.min(...s)):Math.min(...s)}function w6(e,t){return(e.key||t).toString()}function f2(e){return e.reduce((t,n,r)=>{const s=w6(n,r);return t[s]=n,t},{})}function h2(e,t){let n=!1;const r=Object.keys(e).reduce((s,a)=>(a in t||(n=!0,s[a]=!0),s),{});return n&&r}function pme(e,t){const n=e&&f2(e),r=t&&f2(t);return{entering:n&&h2(r,n),exiting:r&&h2(n,r)}}function pp(e){return e.type&&e.type.getData?e.type.getData(e.props):e.props&&e.props.data||!1}function B6(e,t){let n=!1,r=!1;const s=(o,l)=>{if(!l||o.type!==l.type)return{};const{entering:u,exiting:f}=pme(pp(o),pp(l))||{};return n=n||!!f,r=r||!!u,{entering:u||!1,exiting:f||!1}},a=(o,l)=>o.map((u,f)=>u&&u.props&&u.props.children&&l[f]?a(P.Children.toArray(o[f].props.children),P.Children.toArray(l[f].props.children)):s(u,l[f])),A=a(P.Children.toArray(e),P.Children.toArray(t));return{nodesWillExit:n,nodesWillEnter:r,childrenTransitions:A,nodesShouldEnter:!1}}function xme(e,t){const n=e.onEnter&&e.onEnter.after?e.onEnter.after:bo;return{data:t.map((r,s)=>Object.assign({},r,n(r,s,t)))}}function vme(e,t,n,r){const s=Object.assign({},e,{onEnd:r});if(s&&s.onLoad&&!s.onLoad.duration)return{animate:s,data:n};const a=s.onLoad&&s.onLoad.before?s.onLoad.before:bo,A=n.map((o,l)=>Object.assign({},o,a(o,l,n)));return{animate:s,data:A,clipWidth:0}}function yme(e,t,n){const r=Object.assign({},e,{onEnd:n});let s=t;if(r&&r.onLoad&&!r.onLoad.duration)return{animate:e,data:t};const a=e.onLoad&&e.onLoad.after?e.onLoad.after:bo;return s=t.map((A,o)=>Object.assign({},A,a(A,o,t))),{animate:r,data:s}}function bme(e,t,n,r,s){const a=e&&e.onExit,A=Object.assign({},e,a);let o=n;if(r){e.onEnd=s;const l=e.onExit&&e.onExit.before?e.onExit.before:bo;o=n.map((u,f)=>{const c=(u.key||f).toString();return r[c]?Object.assign({},u,l(u,f,n)):u})}return{animate:A,data:o}}function wme(e,t,n,r,s){let a=e,A=n;if(r){a=Object.assign({},e,{onEnd:s});const o=e.onEnter&&e.onEnter.before?e.onEnter.before:bo;A=n.map((l,u)=>{const f=(l.key||u).toString();return r[f]?Object.assign({},l,o(l,u,n)):l})}return{animate:a,data:A}}function Bme(e,t,n,r){const s=e&&e.onEnter,a=Object.assign({},e,s);let A=t;if(n){a.onEnd=r;const o=a.onEnter&&a.onEnter.after?a.onEnter.after:bo;A=t.map((l,u)=>{const f=w6(l,u);return n[f]?Object.assign({},l,o(l,u,t)):l})}return{animate:a,data:A}}function C6(e,t,n){const r=t&&t.nodesWillExit,s=t&&t.nodesWillEnter,a=t&&t.nodesShouldEnter,A=t&&t.nodesShouldLoad,o=t&&t.nodesDoneLoad,l=t&&t.childrenTransitions||[],u={enter:e.animate&&e.animate.onEnter&&e.animate.onEnter.duration,exit:e.animate&&e.animate.onExit&&e.animate.onExit.duration,load:e.animate&&e.animate.onLoad&&e.animate.onLoad.duration,move:e.animate&&e.animate.duration},f=(m,x,v)=>A?yme(v,x,()=>{n({nodesShouldLoad:!1,nodesDoneLoad:!0})}):vme(v,m,x,()=>{n({nodesDoneLoad:!0})}),c=(m,x,v,g)=>bme(g,x,v,m,()=>{n({nodesWillExit:!1})}),d=(m,x,v,g)=>a?Bme(g,v,m,()=>{n({nodesWillEnter:!1})}):wme(g,x,v,m,()=>{n({nodesShouldEnter:!0})}),h=function(m,x){const v=m.props.animate;if(!m.type)return{};const g=m.props&&m.props.polar&&m.type.defaultPolarTransitions||m.type.defaultTransitions;if(g){const p=v[x]&&v[x].duration;return p!==void 0?p:g[x]&&g[x].duration}return{}};return function(x,v){const g=pp(x)||[],p=we({},e.animate,x.props.animate),y=x.props.polar&&x.type.defaultPolarTransitions||x.type.defaultTransitions;p.onExit=we({},p.onExit,y&&y.onExit),p.onEnter=we({},p.onEnter,y&&y.onEnter),p.onLoad=we({},p.onLoad,y&&y.onLoad);const b=l[v]||l[0];if(o){if(r){const C=b&&b.exiting,B=u.exit!==void 0?u.exit:h(x,"onExit");return c(C,x,g,Object.assign({},p,C?{duration:B}:{delay:B}))}else if(s){const C=b&&b.entering,B=u.enter!==void 0?u.enter:h(x,"onEnter"),_=u.move!==void 0?u.move:x.props.animate&&x.props.animate.duration;return d(C,x,g,Object.assign({},p,{duration:a&&C?B:_}))}else if(!t&&p&&p.onExit)return xme(p,g)}else{const B={duration:u.load!==void 0?u.load:h(x,"onLoad")};return f(x,g,Object.assign({},p,B))}return{animate:p,data:g}}}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xp.apply(this,arguments)}class vp extends P.Component{constructor(t,n){super(t,n),this.state={nodesShouldLoad:!1,nodesDoneLoad:!1};const r=this.props.children,s=r.props.polar;this.continuous=!s&&r.type&&r.type.continuous===!0,this.timer=this.context.transitionTimer}componentDidMount(){this.setState({nodesShouldLoad:!0})}shouldComponentUpdate(t){return li(this.props,t)||(this.timer.bypassAnimation(),this.setState(this.getTransitionState(this.props,t),()=>this.timer.resumeAnimation())),!0}componentWillUnmount(){this.timer.stop()}getTransitionState(t,n){const{animate:r}=t;if(r){if(r.parentState)return{oldProps:r.parentState.nodesWillExit?t:null,nextProps:n}}else return{};const s=P.Children.toArray(t.children),a=P.Children.toArray(n.children),{nodesWillExit:A,nodesWillEnter:o,childrenTransitions:l,nodesShouldEnter:u}=B6(s,a);return{nodesWillExit:A,nodesWillEnter:o,childrenTransitions:l,nodesShouldEnter:u,oldProps:A?t:null,nextProps:n}}getDomainFromChildren(t,n){const r=l=>l.reduce((u,f)=>{if(f.type&&qe(f.type.getDomain)){const c=f.props&&f.type.getDomain(f.props,n);return c?u.concat(c):u}else if(f.props&&f.props.children)return u.concat(r(P.Children.toArray(f.props.children)));return u},[]),s=P.Children.toArray(t.children)[0],a=s.props||{},A=Array.isArray(a.domain)?a.domain:a.domain&&a.domain[n];if(!a.children&&A)return A;const o=r([s]);return o.length===0?[0,1]:[Hr(o),Pr(o)]}pickProps(){return this.state?this.state.nodesWillExit?this.state.oldProps||this.props:this.props:this.props}pickDomainProps(t){var r;const n=(r=t.animate)==null?void 0:r.parentState;return n&&n.nodesWillExit?(this.continuous||n.continuous)&&(n.nextProps||this.state.nextProps)||t:this.continuous&&this.state.nodesWillExit&&this.state.nextProps||t}getClipWidth(t,n){const r=()=>{const a=zt(n.props,"x");return a?Math.abs(a[1]-a[0]):t.width},s=this.transitionProps?this.transitionProps.clipWidth:void 0;return s!==void 0?s:r()}render(){var c;const t=this.pickProps(),n=(c=this.props.animate)!=null&&c.getTransitions?this.props.animate.getTransitions:C6(t,this.state,d=>this.setState(d)),r=P.Children.toArray(t.children)[0],s=n(r);this.transitionProps=s;const a={x:this.getDomainFromChildren(this.pickDomainProps(t),"x"),y:this.getDomainFromChildren(t,"y")},A=this.getClipWidth(t,r),o=we({domain:a,clipWidth:A},s,r.props),u=(t.animationWhitelist||[]).concat(["clipWidth"]),f=u.length?hf(o,u):o;return P.createElement(Zfe,xp({},o.animate,{data:f}),d=>{if(r.props.groupComponent){const h=this.continuous?P.cloneElement(r.props.groupComponent,{clipWidth:d.clipWidth||0}):r.props.groupComponent;return P.cloneElement(r,we({animate:null,animating:!0,groupComponent:h},d,o))}return P.cloneElement(r,we({animate:null,animating:!0},d,o))})}}ne(vp,"displayName","VictoryTransition"),ne(vp,"contextType",py);var Cme=ay,_me=_N,Sme=$N,jme=HN,Nme=Object.getOwnPropertySymbols,kme=Nme?function(e){for(var t=[];e;)Cme(t,Sme(e)),e=_me(e);return t}:jme,Eme=kme,Fme=PN,Qme=Eme,Ume=f6;function Tme(e){return Fme(e,Ume,Qme)}var Ime=Tme,Mme=Zv,Dme=Wh,Pme=m6,Hme=Ime;function $me(e,t){if(e==null)return{};var n=Mme(Hme(e),function(r){return[r]});return t=Dme(t),Pme(e,n,function(r,s){return t(r,s[0])})}var _6=$me;const pf=xt(_6);var Rme="Expected a function";function Lme(e){if(typeof e!="function")throw new TypeError(Rme);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Ome=Lme,Kme=Wh,zme=Ome,Gme=_6;function Wme(e,t){return Gme(e,zme(Kme(t)))}var Vme=Wme;const S6=xt(Vme);function qme(e,t,n,r){for(var s=e.length,a=n+(r?1:-1);r?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var Xme=qme;function Yme(e){return e!==e}var Jme=Yme;function Zme(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var ege=Zme,tge=Xme,nge=Jme,rge=ege;function sge(e,t,n){return t===t?rge(e,t,n):tge(e,nge,n)}var age=sge,ige=age;function Age(e,t){var n=e==null?0:e.length;return!!n&&ige(e,t,0)>-1}var oge=Age;function lge(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var cge=lge;function uge(){}var dge=uge,mm=zN,fge=dge,hge=sy,mge=1/0,gge=mm&&1/hge(new mm([,-0]))[1]==mge?function(e){return new mm(e)}:fge,pge=gge,xge=IN,vge=oge,yge=cge,bge=MN,wge=pge,Bge=sy,Cge=200;function _ge(e,t,n){var r=-1,s=vge,a=e.length,A=!0,o=[],l=o;if(n)A=!1,s=yge;else if(a>=Cge){var u=t?null:wge(e);if(u)return Bge(u);A=!1,s=bge,l=new xge}else l=t?[]:o;e:for(;++r<a;){var f=e[r],c=t?t(f):f;if(f=n||f!==0?f:0,A&&c===c){for(var d=l.length;d--;)if(l[d]===c)continue e;t&&l.push(c),o.push(f)}else s(l,c,n)||(l!==o&&l.push(c),o.push(f))}return o}var j6=_ge,Sge=j6;function jge(e){return e&&e.length?Sge(e):[]}var Nge=jge;const Bi=xt(Nge),jy=/^onGlobal(.*)$/;function N6(e,t,n,r){const s=f=>{const d=(()=>{const h=f.reduce((m,x)=>x.target!==void 0?(Array.isArray(x.target)?x.target.includes(t):`${x.target}`==`${t}`)?m.concat(x):m:m.concat(x),[]);return n!==void 0&&t!=="parent"?h.filter(m=>{const x=m.eventKey,v=g=>g?`${g}`==`${n}`:!0;return Array.isArray(x)?x.some(g=>v(g)):v(x)}):h})();return Array.isArray(d)&&d.reduce((h,m)=>m?Object.assign(h,m.eventHandlers):h,{})},A=(()=>Array.isArray(this.componentEvents)?Array.isArray(e.events)?this.componentEvents.concat(...e.events):this.componentEvents:e.events)(),o=A&&qe(r)?r(s(A),t):void 0;if(!e.sharedEvents)return o;const l=e.sharedEvents.getEvents,u=e.sharedEvents.events&&l(s(e.sharedEvents.events),t);return Object.assign({},u,o)}function k6(e,t,n,r){if(St(e))return{};const s=r||this.baseProps,a=(f,c)=>{const{childName:d,target:h,key:m}=f,x=c==="props"?s:this.state||{},v=d==null||!x[d]?x:x[d];return m==="parent"?v.parent:v[m]&&v[m][h]},A=(f,c)=>{const d=t==="parent"?f.childName:f.childName||n,h=f.target||t,m=p=>h==="parent"?"parent":f.eventKey==="all"?s[p]?Object.keys(s[p]).filter(y=>y!=="parent"):Object.keys(s).filter(y=>y!=="parent"):f.eventKey===void 0&&c==="parent"?s[p]?Object.keys(s[p]):Object.keys(s):f.eventKey!==void 0?f.eventKey:c,x=(p,y)=>{const b=this.state||{};if(!qe(f.mutation))return b;const C=a({childName:y,key:p,target:h},"props"),B=a({childName:y,key:p,target:h},"state"),_=f.mutation(Object.assign({},C,B),s),N=b[y]||{},w=I=>(I[p]&&I[p][h]&&delete I[p][h],I[p]&&!Object.keys(I[p]).length&&delete I[p],I),E=I=>h==="parent"?Object.assign(I,{[p]:Object.assign(I[p]||{},_)}):Object.assign(I,{[p]:Object.assign(I[p]||{},{[h]:_})}),U=I=>_?E(I):w(I);return y!=null?Object.assign(b,{[y]:U(N)}):U(b)},v=p=>{const y=m(p);return Array.isArray(y)?y.reduce((b,C)=>Object.assign(b,x(C,p)),{}):x(y,p)},g=d==="all"?Object.keys(s).filter(p=>p!=="parent"):d;return Array.isArray(g)?g.reduce((p,y)=>Object.assign(p,v(y)),{}):v(g)},o=(f,c)=>Array.isArray(f)?f.reduce((d,h)=>Object.assign({},d,A(h,c)),{}):A(f,c),l=f=>{const c=m=>qe(m.callback)&&m.callback,h=(Array.isArray(f)?f.map(m=>c(m)):[c(f)]).filter(m=>m!==!1);return h.length?()=>h.forEach(m=>m()):void 0},u=(f,c,d,h)=>{const m=e[h](f,c,d,this);if(!St(m)){const x=l(m);this.setState(o(m,d),x)}};return Object.keys(e).reduce((f,c)=>(f[c]=u,f),{})}function E6(e,t,n){return e?Object.keys(e).reduce((r,s)=>{const a=A=>e[s](A,n,t,s);return r[s]=a,r},{}):{}}function F6(e,t,n){const r=this.state||{};return n?r[n]&&r[n][e]&&r[n][e][t]:e==="parent"?r[e]&&r[e][t]||r[e]:r[e]&&r[e][t]}function kge(e,t,n,r){return t===void 0&&(t={}),n===void 0&&(n={}),r.reduce((s,a)=>{const A=n[a],o=Q6(e,t[a],n[a],a);return s[a]=o||A,pf(s,l=>!St(l))},{})}function Q6(e,t,n,r){return t===void 0&&(t={}),n===void 0&&(n={}),Object.keys(t).reduce((a,A)=>{const o=n[A]||{},l=t[A]||{};if(A==="parent"){const f=m2(e,l,o,{eventKey:A,target:"parent"});a[A]=f!==void 0?Object.assign({},o,f):o}else{const u=Bi(Object.keys(l).concat(Object.keys(o)));a[A]=u.reduce((f,c)=>{const d={eventKey:A,target:c,childName:r},h=m2(e,l[c],o[c],d);return f[c]=h!==void 0?Object.assign({},o[c],h):o[c],pf(f,m=>!St(m))},{})}return pf(a,u=>!St(u))},{})}function m2(e,t,n,r){const s=(l,u)=>typeof l[u]=="string"?l[u]==="all"||l[u]===r[u]:Array.isArray(l[u])?l[u].map(c=>`${c}`).includes(r[u]):!1;let a=Array.isArray(e)?e:[e];r.childName&&(a=e.filter(l=>s(l,"childName")));const A=a.filter(l=>s(l,"target"));if(St(A))return;const o=A.filter(l=>s(l,"eventKey"));if(!St(o))return o.reduce((l,u)=>{const c=(u&&qe(u.mutation)?u.mutation:()=>{})(Object.assign({},t,n));return Object.assign({},l,c)},{})}function Ny(e,t){const n=Array.isArray(t)&&t.reduce((r,s)=>{const a=e[s],A=a&&a.type&&a.type.defaultEvents,o=qe(A)?A(a.props):A;return Array.isArray(o)?r.concat(...o):r},[]);return n&&n.length?n:void 0}function xf(e){const t=e.match(jy);return t&&t[1]&&t[1].toLowerCase()}const U6=e=>pf(e,(t,n)=>jy.test(n)),T6=e=>S6(e,(t,n)=>jy.test(n)),I6=e=>Object.assign(e,{nativeEvent:e}),Ege=e=>!oc(e._x)&&!oc(e._y),Fge=[{name:"parent",index:"parent"},{name:"data"},{name:"labels"}];function Hc(e,t){t===void 0&&(t={});class n extends e{constructor(a){super(a);ne(this,"state",{});ne(this,"getEventState",F6.bind(this));ne(this,"getScopedEvents",k6.bind(this));ne(this,"getEvents",(a,A,o)=>N6.call(this,a,A,o,this.getScopedEvents));ne(this,"externalMutations",this.getExternalMutations(this.props));ne(this,"calculatedState",this.getStateChanges(this.props));ne(this,"globalEvents",{});ne(this,"prevGlobalEventKeys",[]);ne(this,"boundGlobalEvents",{});this.cacheValues(this.getCalculatedValues(a))}shouldComponentUpdate(a){const A=this.getExternalMutations(a),o=this.props.animating||this.props.animate,l=!li(A,this.externalMutations);if(o||l)return this.cacheValues(this.getCalculatedValues(a)),this.externalMutations=A,this.applyExternalMutations(a,A),!0;const u=this.getStateChanges(a);return li(this.calculatedState,u)?li(this.props,a)?!1:(this.cacheValues(this.getCalculatedValues(a)),!0):(this.cacheValues(this.getCalculatedValues(a)),!0)}componentDidMount(){const a=Object.keys(this.globalEvents);a.forEach(A=>this.addGlobalListener(A)),this.prevGlobalEventKeys=a}componentDidUpdate(a){const A=this.getStateChanges(a);this.calculatedState=A;const o=Object.keys(this.globalEvents);gf(this.prevGlobalEventKeys,o).forEach(f=>this.removeGlobalListener(f)),gf(o,this.prevGlobalEventKeys).forEach(f=>this.addGlobalListener(f)),this.prevGlobalEventKeys=o}componentWillUnmount(){this.prevGlobalEventKeys.forEach(a=>this.removeGlobalListener(a))}addGlobalListener(a){const A=o=>{const l=this.globalEvents[a];return l&&l(I6(o))};this.boundGlobalEvents[a]=A,window.addEventListener(xf(a),A)}removeGlobalListener(a){window.removeEventListener(xf(a),this.boundGlobalEvents[a])}getStateChanges(a){if(!this.hasEvents)return{};const A=(u,f)=>{const c=we({},this.getEventState(u,f),this.getSharedEventState(u,f));return St(c)?void 0:c};return(t.components||Fge).map(u=>{if(!(!a.standalone&&u.name==="parent"))return u.index!==void 0?A(u.index,u.name):this.dataKeys.map(f=>A(f,u.name)).filter(Boolean)}).filter(Boolean)}applyExternalMutations(a,A){if(!St(A)){const o=a.externalEventMutations.reduce((u,f)=>qe(f.callback)?u.concat(f.callback):u,[]),l=o.length?()=>{o.forEach(u=>u())}:void 0;this.setState(A,l)}}getCalculatedValues(a){const{sharedEvents:A}=a,o=e.expectedComponents,l=Ny(a,o),u=A&&qe(A.getEventState)?A.getEventState:()=>{},f=this.getBaseProps(a,u),c=Object.keys(f).filter(m=>m!=="parent"),d=a.events||a.sharedEvents||l,h=this.getAllEvents(a);return{componentEvents:l,getSharedEventState:u,baseProps:f,dataKeys:c,hasEvents:d,events:h}}getExternalMutations(a){const{sharedEvents:A,externalEventMutations:o}=a;return St(o)||A?void 0:Q6(o,this.baseProps,this.state)}cacheValues(a){Object.keys(a).forEach(A=>{this[A]=a[A]})}getBaseProps(a,A){const l=(A||this.getSharedEventState.bind(this))("parent","parent"),u=this.getEventState("parent","parent"),f=we({},u,l),c=f.parentControlledProps,d=c?hf(f,c):{},h=we({},d,a);return typeof e.getBaseProps=="function"?e.getBaseProps(h):{}}getAllEvents(a){return Array.isArray(this.componentEvents)?Array.isArray(a.events)?this.componentEvents.concat(...a.events):this.componentEvents:a.events}getComponentProps(a,A,o){const l=this.props.name||e.role,u=this.dataKeys&&this.dataKeys[o]||o,f=`${l}-${A}-${u}`,c=this.baseProps[u]&&this.baseProps[u][A]||this.baseProps[u];if(!c&&!this.hasEvents)return;const d=a&&typeof a=="object"&&"props"in a?a.props:void 0;if(this.hasEvents){const h=this.getEvents(this.props,A,u),m=we({index:o,key:f},this.getEventState(u,A),this.getSharedEventState(u,A),d,c,{id:f}),x=we({},E6(h,u,m),m.events);return Object.assign({},m,{events:x})}return we({index:o,key:f},d,c,{id:f})}renderContainer(a,A){const l=a.type&&a.type.role==="container"?this.getComponentProps(a,"parent","parent"):{};return l.events&&(this.globalEvents=U6(l.events),l.events=T6(l.events)),P.cloneElement(a,l,A)}animateComponent(a,A){var u;const o=typeof a.animate=="object"&&((u=a.animate)==null?void 0:u.animationWhitelist)||A,l=this.constructor;return P.createElement(vp,{animate:a.animate,animationWhitelist:o},P.createElement(l,a))}renderContinuousData(a){const{dataComponent:A,labelComponent:o,groupComponent:l}=a,f=this.dataKeys.filter(h=>h!=="all").reduce((h,m)=>{let x=h;const v=this.getComponentProps(o,"labels",m);return v&&v.text!==void 0&&v.text!==null&&(x=x.concat(P.cloneElement(o,v))),x},[]),c=this.getComponentProps(A,"data","all"),d=[P.cloneElement(A,c),...f];return this.renderContainer(l,d)}renderData(a,A){A===void 0&&(A=Ege);const{dataComponent:o,labelComponent:l,groupComponent:u}=a,f=this.dataKeys.reduce((h,m,x)=>{const v=this.getComponentProps(o,"data",x);return A(v.datum)&&h.push(P.cloneElement(o,v)),h},[]),c=this.dataKeys.map((h,m)=>{const x=this.getComponentProps(l,"labels",m);if(x.text!==void 0&&x.text!==null)return P.cloneElement(l,x)}).filter(Boolean),d=[...f,...c];return this.renderContainer(u,d)}}return n}function Qge(e){return t=>{e.forEach(n=>{qe(n)?n(t):n!=null&&(n.current=t)})}}var Uge=Ti,Tge=Ii,Ige="[object Date]";function Mge(e){return Tge(e)&&Uge(e)==Ige}var Dge=Mge,Pge=Dge,Hge=oy,g2=LN,p2=g2&&g2.isDate,$ge=p2?Hge(p2):Pge,Rge=$ge;const M6=xt(Rge);var Lge=mo;function Oge(e,t){for(var n=-1,r=e.length,s=0,a=[];++n<r;){var A=e[n],o=t?t(A):A;if(!n||!Lge(o,l)){var l=o;a[s++]=A===0?0:A}}return a}var Kge=Oge,zge=Kge;function Gge(e){return e&&e.length?zge(e):[]}var Wge=Gge;const Vge=xt(Wge);var qge=dy;function Xge(e,t){return qge(e,t)}var Yge=Xge;const Jge=xt(Yge);function Zge(e){return e===void 0}var epe=Zge;const tpe=xt(epe);function Sa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function npe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ky(e){let t,n,r;e.length!==2?(t=Sa,n=(o,l)=>Sa(e(o),l),r=(o,l)=>e(o)-l):(t=e===Sa||e===npe?e:rpe,n=e,r=e);function s(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(o[c],l)<0?u=c+1:f=c}while(u<f)}return u}function a(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(o[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function A(o,l,u=0,f=o.length){const c=s(o,l,u,f-1);return c>u&&r(o[c-1],l)>-r(o[c],l)?c-1:c}return{left:s,center:A,right:a}}function rpe(){return 0}function D6(e){return e===null?NaN:+e}function*spe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const ape=ky(Sa),ipe=ape.right;ky(D6).center;const $c=ipe;class x2 extends Map{constructor(t,n=lpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(v2(this,t))}has(t){return super.has(v2(this,t))}set(t,n){return super.set(Ape(this,t),n)}delete(t){return super.delete(ope(this,t))}}function v2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Ape({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ope({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function lpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cpe(e=Sa){if(e===Sa)return P6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function P6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const upe=Math.sqrt(50),dpe=Math.sqrt(10),fpe=Math.sqrt(2);function vf(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),a=r/Math.pow(10,s),A=a>=upe?10:a>=dpe?5:a>=fpe?2:1;let o,l,u;return s<0?(u=Math.pow(10,-s)/A,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*A,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?vf(e,t,n*2):[o,l,u]}function yp(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,a,A]=r?vf(t,e,n):vf(e,t,n);if(!(a>=s))return[];const o=a-s+1,l=new Array(o);if(r)if(A<0)for(let u=0;u<o;++u)l[u]=(a-u)/-A;else for(let u=0;u<o;++u)l[u]=(a-u)*A;else if(A<0)for(let u=0;u<o;++u)l[u]=(s+u)/-A;else for(let u=0;u<o;++u)l[u]=(s+u)*A;return l}function bp(e,t,n){return t=+t,e=+e,n=+n,vf(e,t,n)[2]}function wp(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?bp(t,e,n):bp(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function y2(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function b2(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function H6(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?P6:cpe(s);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*c/l+d)),m=Math.min(r,Math.floor(t+(l-u)*c/l+d));H6(e,t,h,m,s)}const a=e[t];let A=n,o=r;for(Ro(e,n,t),s(e[r],a)>0&&Ro(e,n,r);A<o;){for(Ro(e,A,o),++A,--o;s(e[A],a)<0;)++A;for(;s(e[o],a)>0;)--o}s(e[n],a)===0?Ro(e,n,o):(++o,Ro(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Ro(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function hpe(e,t,n){if(e=Float64Array.from(spe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return b2(e);if(t>=1)return y2(e);var r,s=(r-1)*t,a=Math.floor(s),A=y2(H6(e,a).subarray(0,a+1)),o=b2(e.subarray(a+1));return A+(o-A)*(s-a)}}function mpe(e,t,n=D6){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,a=Math.floor(s),A=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return A+(o-A)*(s-a)}}function gpe(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++r<s;)a[r]=e+r*n;return a}function Br(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Bp=Symbol("implicit");function Ey(){var e=new x2,t=[],n=[],r=Bp;function s(a){let A=e.get(a);if(A===void 0){if(r!==Bp)return r;e.set(a,A=t.push(a)-1)}return n[A%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new x2;for(const A of a)e.has(A)||e.set(A,t.push(A)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return Ey(t,n).unknown(r)},Br.apply(s,arguments),s}function Fy(){var e=Ey().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,a,A,o=!1,l=0,u=0,f=.5;delete e.unknown;function c(){var d=t().length,h=s<r,m=h?s:r,x=h?r:s;a=(x-m)/Math.max(1,d-l+u*2),o&&(a=Math.floor(a)),m+=(x-m-a*(d-l))*f,A=a*(1-l),o&&(m=Math.round(m),A=Math.round(A));var v=gpe(d).map(function(g){return m+a*g});return n(h?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?([r,s]=d,r=+r,s=+s,c()):[r,s]},e.rangeRound=function(d){return[r,s]=d,r=+r,s=+s,o=!0,c()},e.bandwidth=function(){return A},e.step=function(){return a},e.round=function(d){return arguments.length?(o=!!d,c()):o},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),c()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),c()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,c()):u},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},e.copy=function(){return Fy(t(),[r,s]).round(o).paddingInner(l).paddingOuter(u).align(f)},Br.apply(c(),arguments)}function $6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $6(t())},e}function ppe(){return $6(Fy.apply(null,arguments).paddingInner(1))}function xpe(e){return function(){return e}}function yf(e){return+e}var w2=[0,1];function wn(e){return e}function Cp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xpe(isNaN(t)?NaN:.5)}function vpe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ype(e,t,n){var r=e[0],s=e[1],a=t[0],A=t[1];return s<r?(r=Cp(s,r),a=n(A,a)):(r=Cp(r,s),a=n(a,A)),function(o){return a(r(o))}}function bpe(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),a=new Array(r),A=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++A<r;)s[A]=Cp(e[A],e[A+1]),a[A]=n(t[A],t[A+1]);return function(o){var l=$c(e,o,1,r)-1;return a[l](s[l](o))}}function Rc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qh(){var e=w2,t=w2,n=is,r,s,a,A=wn,o,l,u;function f(){var d=Math.min(e.length,t.length);return A!==wn&&(A=vpe(e[0],e[d-1])),o=d>2?bpe:ype,l=u=null,c}function c(d){return d==null||isNaN(d=+d)?a:(l||(l=o(e.map(r),t,n)))(r(A(d)))}return c.invert=function(d){return A(s((u||(u=o(t,e.map(r),lf)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,yf),f()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),n=gy,f()},c.clamp=function(d){return arguments.length?(A=d?!0:wn,f()):A!==wn},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(a=d,c):a},function(d,h){return r=d,s=h,f()}}function Qy(){return qh()(wn,wn)}function wpe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ZA(e){return e=bf(Math.abs(e)),e?e[1]:NaN}function Bpe(e,t){return function(n,r){for(var s=n.length,a=[],A=0,o=e[0],l=0;s>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(s-=o,s+o)),!((l+=o+1)>r));)o=e[A=(A+1)%e.length];return a.reverse().join(t)}}function Cpe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var _pe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lc(e){if(!(t=_pe.exec(e)))throw new Error("invalid format: "+e);var t;return new Uy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}lc.prototype=Uy.prototype;function Uy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Uy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Spe(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var R6;function jpe(e,t){var n=bf(e,t);if(!n)return e+"";var r=n[0],s=n[1],a=s-(R6=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,A=r.length;return a===A?r:a>A?r+new Array(a-A+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+bf(e,Math.max(0,t+a-1))[0]}function B2(e,t){var n=bf(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const C2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wpe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>B2(e*100,t),r:B2,s:jpe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _2(e){return e}var S2=Array.prototype.map,j2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Npe(e){var t=e.grouping===void 0||e.thousands===void 0?_2:Bpe(S2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?_2:Cpe(S2.call(e.numerals,String)),A=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(c){c=lc(c);var d=c.fill,h=c.align,m=c.sign,x=c.symbol,v=c.zero,g=c.width,p=c.comma,y=c.precision,b=c.trim,C=c.type;C==="n"?(p=!0,C="g"):C2[C]||(y===void 0&&(y=12),b=!0,C="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var B=x==="$"?n:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",_=x==="$"?r:/[%p]/.test(C)?A:"",N=C2[C],w=/[defgprs%]/.test(C);y=y===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function E(U){var I=B,H=_,$,K,M;if(C==="c")H=N(U)+H,U="";else{U=+U;var D=U<0||1/U<0;if(U=isNaN(U)?l:N(Math.abs(U),y),b&&(U=Spe(U)),D&&+U==0&&m!=="+"&&(D=!1),I=(D?m==="("?m:o:m==="-"||m==="("?"":m)+I,H=(C==="s"?j2[8+R6/3]:"")+H+(D&&m==="("?")":""),w){for($=-1,K=U.length;++$<K;)if(M=U.charCodeAt($),48>M||M>57){H=(M===46?s+U.slice($+1):U.slice($))+H,U=U.slice(0,$);break}}}p&&!v&&(U=t(U,1/0));var k=I.length+U.length+H.length,R=k<g?new Array(g-k+1).join(d):"";switch(p&&v&&(U=t(R+U,R.length?g-H.length:1/0),R=""),h){case"<":U=I+U+H+R;break;case"=":U=I+R+U+H;break;case"^":U=R.slice(0,k=R.length>>1)+I+U+H+R.slice(k);break;default:U=R+I+U+H;break}return a(U)}return E.toString=function(){return c+""},E}function f(c,d){var h=u((c=lc(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(ZA(d)/3)))*3,x=Math.pow(10,-m),v=j2[8+m/3];return function(g){return h(x*g)+v}}return{format:u,formatPrefix:f}}var Cu,Ty,L6;kpe({thousands:",",grouping:[3],currency:["$",""]});function kpe(e){return Cu=Npe(e),Ty=Cu.format,L6=Cu.formatPrefix,Cu}function Epe(e){return Math.max(0,-ZA(Math.abs(e)))}function Fpe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ZA(t)/3)))*3-ZA(Math.abs(e)))}function Qpe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ZA(t)-ZA(e))+1}function O6(e,t,n,r){var s=wp(e,t,n),a;switch(r=lc(r??",f"),r.type){case"s":{var A=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Fpe(s,A))&&(r.precision=a),L6(r,A)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Qpe(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Epe(s))&&(r.precision=a-(r.type==="%")*2);break}}return Ty(r)}function Ra(e){var t=e.domain;return e.ticks=function(n){var r=t();return yp(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return O6(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,a=r.length-1,A=r[s],o=r[a],l,u,f=10;for(o<A&&(u=A,A=o,o=u,u=s,s=a,a=u);f-- >0;){if(u=bp(A,o,n),u===l)return r[s]=A,r[a]=o,t(r);if(u>0)A=Math.floor(A/u)*u,o=Math.ceil(o/u)*u;else if(u<0)A=Math.ceil(A*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function Iy(){var e=Qy();return e.copy=function(){return Rc(e,Iy())},Br.apply(e,arguments),Ra(e)}function K6(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,yf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return K6(e).unknown(t)},e=arguments.length?Array.from(e,yf):[0,1],Ra(n)}function z6(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],a=e[r],A;return a<s&&(A=n,n=r,r=A,A=s,s=a,a=A),e[n]=t.floor(s),e[r]=t.ceil(a),e}function N2(e){return Math.log(e)}function k2(e){return Math.exp(e)}function Upe(e){return-Math.log(-e)}function Tpe(e){return-Math.exp(-e)}function Ipe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Mpe(e){return e===10?Ipe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Dpe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function E2(e){return(t,n)=>-e(-t,n)}function My(e){const t=e(N2,k2),n=t.domain;let r=10,s,a;function A(){return s=Dpe(r),a=Mpe(r),n()[0]<0?(s=E2(s),a=E2(a),e(Upe,Tpe)):e(N2,k2),t}return t.base=function(o){return arguments.length?(r=+o,A()):r},t.domain=function(o){return arguments.length?(n(o),A()):n()},t.ticks=o=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let d=s(u),h=s(f),m,x;const v=o==null?10:+o;let g=[];if(!(r%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(m=1;m<r;++m)if(x=d<0?m/a(-d):m*a(d),!(x<u)){if(x>f)break;g.push(x)}}else for(;d<=h;++d)for(m=r-1;m>=1;--m)if(x=d>0?m/a(-d):m*a(d),!(x<u)){if(x>f)break;g.push(x)}g.length*2<v&&(g=yp(u,f,v))}else g=yp(d,h,Math.min(h-d,v)).map(a);return c?g.reverse():g},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=lc(l)).precision==null&&(l.trim=!0),l=Ty(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return f=>{let c=f/a(Math.round(s(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},t.nice=()=>n(z6(n(),{floor:o=>a(Math.floor(s(o))),ceil:o=>a(Math.ceil(s(o)))})),t}function G6(){const e=My(qh()).domain([1,10]);return e.copy=()=>Rc(e,G6()).base(e.base()),Br.apply(e,arguments),e}function F2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Q2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Dy(e){var t=1,n=e(F2(t),Q2(t));return n.constant=function(r){return arguments.length?e(F2(t=+r),Q2(t)):t},Ra(n)}function W6(){var e=Dy(qh());return e.copy=function(){return Rc(e,W6()).constant(e.constant())},Br.apply(e,arguments)}function U2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ppe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Hpe(e){return e<0?-e*e:e*e}function Py(e){var t=e(wn,wn),n=1;function r(){return n===1?e(wn,wn):n===.5?e(Ppe,Hpe):e(U2(n),U2(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Ra(t)}function Hy(){var e=Py(qh());return e.copy=function(){return Rc(e,Hy()).exponent(e.exponent())},Br.apply(e,arguments),e}function $pe(){return Hy.apply(null,arguments).exponent(.5)}function T2(e){return Math.sign(e)*e*e}function Rpe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function V6(){var e=Qy(),t=[0,1],n=!1,r;function s(a){var A=Rpe(e(a));return isNaN(A)?r:n?Math.round(A):A}return s.invert=function(a){return e.invert(T2(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,yf)).map(T2)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return V6(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Br.apply(s,arguments),Ra(s)}function q6(){var e=[],t=[],n=[],r;function s(){var A=0,o=Math.max(1,t.length);for(n=new Array(o-1);++A<o;)n[A-1]=mpe(e,A/o);return a}function a(A){return A==null||isNaN(A=+A)?r:t[$c(n,A)]}return a.invertExtent=function(A){var o=t.indexOf(A);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(A){if(!arguments.length)return e.slice();e=[];for(let o of A)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Sa),s()},a.range=function(A){return arguments.length?(t=Array.from(A),s()):t.slice()},a.unknown=function(A){return arguments.length?(r=A,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return q6().domain(e).range(t).unknown(r)},Br.apply(a,arguments)}function X6(){var e=0,t=1,n=1,r=[.5],s=[0,1],a;function A(l){return l!=null&&l<=l?s[$c(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return A}return A.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},A.range=function(l){return arguments.length?(n=(s=Array.from(l)).length-1,o()):s.slice()},A.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},A.unknown=function(l){return arguments.length&&(a=l),A},A.thresholds=function(){return r.slice()},A.copy=function(){return X6().domain([e,t]).range(s).unknown(a)},Br.apply(Ra(A),arguments)}function Y6(){var e=[.5],t=[0,1],n,r=1;function s(a){return a!=null&&a<=a?t[$c(e,a,0,r)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var A=t.indexOf(a);return[e[A-1],e[A]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return Y6().domain(e).range(t).unknown(n)},Br.apply(s,arguments)}const gm=new Date,pm=new Date;function Pt(e,t,n,r){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const A=s(a),o=s.ceil(a);return a-A<o-a?A:o},s.offset=(a,A)=>(t(a=new Date(+a),A==null?1:Math.floor(A)),a),s.range=(a,A,o)=>{const l=[];if(a=s.ceil(a),o=o==null?1:Math.floor(o),!(a<A)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<A);return l},s.filter=a=>Pt(A=>{if(A>=A)for(;e(A),!a(A);)A.setTime(A-1)},(A,o)=>{if(A>=A)if(o<0)for(;++o<=0;)for(;t(A,-1),!a(A););else for(;--o>=0;)for(;t(A,1),!a(A););}),n&&(s.count=(a,A)=>(gm.setTime(+a),pm.setTime(+A),e(gm),e(pm),Math.floor(n(gm,pm))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(r?A=>r(A)%a===0:A=>s.count(0,A)%a===0):s)),s}const wf=Pt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):wf);wf.range;const ks=1e3,cr=ks*60,Es=cr*60,Hs=Es*24,$y=Hs*7,I2=Hs*30,xm=Hs*365,si=Pt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCSeconds());si.range;const Ry=Pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ks)},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getMinutes());Ry.range;const Ly=Pt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getUTCMinutes());Ly.range;const Oy=Pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ks-e.getMinutes()*cr)},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getHours());Oy.range;const Ky=Pt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCHours());Ky.range;const Lc=Pt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cr)/Hs,e=>e.getDate()-1);Lc.range;const Xh=Pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hs,e=>e.getUTCDate()-1);Xh.range;const J6=Pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hs,e=>Math.floor(e/Hs));J6.range;function Pi(e){return Pt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*cr)/$y)}const Yh=Pi(0),Bf=Pi(1),Lpe=Pi(2),Ope=Pi(3),eo=Pi(4),Kpe=Pi(5),zpe=Pi(6);Yh.range;Bf.range;Lpe.range;Ope.range;eo.range;Kpe.range;zpe.range;function Hi(e){return Pt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$y)}const Jh=Hi(0),Cf=Hi(1),Gpe=Hi(2),Wpe=Hi(3),to=Hi(4),Vpe=Hi(5),qpe=Hi(6);Jh.range;Cf.range;Gpe.range;Wpe.range;to.range;Vpe.range;qpe.range;const zy=Pt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zy.range;const Gy=Pt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Gy.range;const $s=Pt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$s.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});$s.range;const Rs=Pt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rs.range;function Z6(e,t,n,r,s,a){const A=[[si,1,ks],[si,5,5*ks],[si,15,15*ks],[si,30,30*ks],[a,1,cr],[a,5,5*cr],[a,15,15*cr],[a,30,30*cr],[s,1,Es],[s,3,3*Es],[s,6,6*Es],[s,12,12*Es],[r,1,Hs],[r,2,2*Hs],[n,1,$y],[t,1,I2],[t,3,3*I2],[e,1,xm]];function o(u,f,c){const d=f<u;d&&([u,f]=[f,u]);const h=c&&typeof c.range=="function"?c:l(u,f,c),m=h?h.range(u,+f+1):[];return d?m.reverse():m}function l(u,f,c){const d=Math.abs(f-u)/c,h=ky(([,,v])=>v).right(A,d);if(h===A.length)return e.every(wp(u/xm,f/xm,c));if(h===0)return wf.every(Math.max(wp(u,f,c),1));const[m,x]=A[d/A[h-1][2]<A[h][2]/d?h-1:h];return m.every(x)}return[o,l]}const[Xpe,Ype]=Z6(Rs,Gy,Jh,J6,Ky,Ly),[Jpe,Zpe]=Z6($s,zy,Yh,Lc,Oy,Ry);function vm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ym(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lo(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function exe(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,a=e.days,A=e.shortDays,o=e.months,l=e.shortMonths,u=Oo(s),f=Ko(s),c=Oo(a),d=Ko(a),h=Oo(A),m=Ko(A),x=Oo(o),v=Ko(o),g=Oo(l),p=Ko(l),y={a:D,A:k,b:R,B:S,c:null,d:R2,e:R2,f:Bxe,g:Uxe,G:Ixe,H:yxe,I:bxe,j:wxe,L:e3,m:Cxe,M:_xe,p:T,q:W,Q:K2,s:z2,S:Sxe,u:jxe,U:Nxe,V:kxe,w:Exe,W:Fxe,x:null,X:null,y:Qxe,Y:Txe,Z:Mxe,"%":O2},b={a:V,A:Y,b:se,B:ee,c:null,d:L2,e:L2,f:$xe,g:Xxe,G:Jxe,H:Dxe,I:Pxe,j:Hxe,L:n3,m:Rxe,M:Lxe,p:q,q:Z,Q:K2,s:z2,S:Oxe,u:Kxe,U:zxe,V:Gxe,w:Wxe,W:Vxe,x:null,X:null,y:qxe,Y:Yxe,Z:Zxe,"%":O2},C={a:E,A:U,b:I,B:H,c:$,d:H2,e:H2,f:gxe,g:P2,G:D2,H:$2,I:$2,j:dxe,L:mxe,m:uxe,M:fxe,p:w,q:cxe,Q:xxe,s:vxe,S:hxe,u:axe,U:ixe,V:Axe,w:sxe,W:oxe,x:K,X:M,y:P2,Y:D2,Z:lxe,"%":pxe};y.x=B(n,y),y.X=B(r,y),y.c=B(t,y),b.x=B(n,b),b.X=B(r,b),b.c=B(t,b);function B(Q,O){return function(z){var L=[],ue=-1,xe=0,ae=Q.length,ie,Re,be;for(z instanceof Date||(z=new Date(+z));++ue<ae;)Q.charCodeAt(ue)===37&&(L.push(Q.slice(xe,ue)),(Re=M2[ie=Q.charAt(++ue)])!=null?ie=Q.charAt(++ue):Re=ie==="e"?" ":"0",(be=O[ie])&&(ie=be(z,Re)),L.push(ie),xe=ue+1);return L.push(Q.slice(xe,ue)),L.join("")}}function _(Q,O){return function(z){var L=Lo(1900,void 0,1),ue=N(L,Q,z+="",0),xe,ae;if(ue!=z.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(O&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(xe=ym(Lo(L.y,0,1)),ae=xe.getUTCDay(),xe=ae>4||ae===0?Cf.ceil(xe):Cf(xe),xe=Xh.offset(xe,(L.V-1)*7),L.y=xe.getUTCFullYear(),L.m=xe.getUTCMonth(),L.d=xe.getUTCDate()+(L.w+6)%7):(xe=vm(Lo(L.y,0,1)),ae=xe.getDay(),xe=ae>4||ae===0?Bf.ceil(xe):Bf(xe),xe=Lc.offset(xe,(L.V-1)*7),L.y=xe.getFullYear(),L.m=xe.getMonth(),L.d=xe.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),ae="Z"in L?ym(Lo(L.y,0,1)).getUTCDay():vm(Lo(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(ae+5)%7:L.w+L.U*7-(ae+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,ym(L)):vm(L)}}function N(Q,O,z,L){for(var ue=0,xe=O.length,ae=z.length,ie,Re;ue<xe;){if(L>=ae)return-1;if(ie=O.charCodeAt(ue++),ie===37){if(ie=O.charAt(ue++),Re=C[ie in M2?O.charAt(ue++):ie],!Re||(L=Re(Q,z,L))<0)return-1}else if(ie!=z.charCodeAt(L++))return-1}return L}function w(Q,O,z){var L=u.exec(O.slice(z));return L?(Q.p=f.get(L[0].toLowerCase()),z+L[0].length):-1}function E(Q,O,z){var L=h.exec(O.slice(z));return L?(Q.w=m.get(L[0].toLowerCase()),z+L[0].length):-1}function U(Q,O,z){var L=c.exec(O.slice(z));return L?(Q.w=d.get(L[0].toLowerCase()),z+L[0].length):-1}function I(Q,O,z){var L=g.exec(O.slice(z));return L?(Q.m=p.get(L[0].toLowerCase()),z+L[0].length):-1}function H(Q,O,z){var L=x.exec(O.slice(z));return L?(Q.m=v.get(L[0].toLowerCase()),z+L[0].length):-1}function $(Q,O,z){return N(Q,t,O,z)}function K(Q,O,z){return N(Q,n,O,z)}function M(Q,O,z){return N(Q,r,O,z)}function D(Q){return A[Q.getDay()]}function k(Q){return a[Q.getDay()]}function R(Q){return l[Q.getMonth()]}function S(Q){return o[Q.getMonth()]}function T(Q){return s[+(Q.getHours()>=12)]}function W(Q){return 1+~~(Q.getMonth()/3)}function V(Q){return A[Q.getUTCDay()]}function Y(Q){return a[Q.getUTCDay()]}function se(Q){return l[Q.getUTCMonth()]}function ee(Q){return o[Q.getUTCMonth()]}function q(Q){return s[+(Q.getUTCHours()>=12)]}function Z(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var O=B(Q+="",y);return O.toString=function(){return Q},O},parse:function(Q){var O=_(Q+="",!1);return O.toString=function(){return Q},O},utcFormat:function(Q){var O=B(Q+="",b);return O.toString=function(){return Q},O},utcParse:function(Q){var O=_(Q+="",!0);return O.toString=function(){return Q},O}}}var M2={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,txe=/^%/,nxe=/[\\^$*+?|[\]().{}]/g;function Oe(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(t)+s:s)}function rxe(e){return e.replace(nxe,"\\$&")}function Oo(e){return new RegExp("^(?:"+e.map(rxe).join("|")+")","i")}function Ko(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function sxe(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function axe(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ixe(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Axe(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function oxe(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function D2(e,t,n){var r=Wt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function P2(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lxe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cxe(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function uxe(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function H2(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dxe(e,t,n){var r=Wt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $2(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fxe(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function hxe(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mxe(e,t,n){var r=Wt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function gxe(e,t,n){var r=Wt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pxe(e,t,n){var r=txe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xxe(e,t,n){var r=Wt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vxe(e,t,n){var r=Wt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function R2(e,t){return Oe(e.getDate(),t,2)}function yxe(e,t){return Oe(e.getHours(),t,2)}function bxe(e,t){return Oe(e.getHours()%12||12,t,2)}function wxe(e,t){return Oe(1+Lc.count($s(e),e),t,3)}function e3(e,t){return Oe(e.getMilliseconds(),t,3)}function Bxe(e,t){return e3(e,t)+"000"}function Cxe(e,t){return Oe(e.getMonth()+1,t,2)}function _xe(e,t){return Oe(e.getMinutes(),t,2)}function Sxe(e,t){return Oe(e.getSeconds(),t,2)}function jxe(e){var t=e.getDay();return t===0?7:t}function Nxe(e,t){return Oe(Yh.count($s(e)-1,e),t,2)}function t3(e){var t=e.getDay();return t>=4||t===0?eo(e):eo.ceil(e)}function kxe(e,t){return e=t3(e),Oe(eo.count($s(e),e)+($s(e).getDay()===4),t,2)}function Exe(e){return e.getDay()}function Fxe(e,t){return Oe(Bf.count($s(e)-1,e),t,2)}function Qxe(e,t){return Oe(e.getFullYear()%100,t,2)}function Uxe(e,t){return e=t3(e),Oe(e.getFullYear()%100,t,2)}function Txe(e,t){return Oe(e.getFullYear()%1e4,t,4)}function Ixe(e,t){var n=e.getDay();return e=n>=4||n===0?eo(e):eo.ceil(e),Oe(e.getFullYear()%1e4,t,4)}function Mxe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oe(t/60|0,"0",2)+Oe(t%60,"0",2)}function L2(e,t){return Oe(e.getUTCDate(),t,2)}function Dxe(e,t){return Oe(e.getUTCHours(),t,2)}function Pxe(e,t){return Oe(e.getUTCHours()%12||12,t,2)}function Hxe(e,t){return Oe(1+Xh.count(Rs(e),e),t,3)}function n3(e,t){return Oe(e.getUTCMilliseconds(),t,3)}function $xe(e,t){return n3(e,t)+"000"}function Rxe(e,t){return Oe(e.getUTCMonth()+1,t,2)}function Lxe(e,t){return Oe(e.getUTCMinutes(),t,2)}function Oxe(e,t){return Oe(e.getUTCSeconds(),t,2)}function Kxe(e){var t=e.getUTCDay();return t===0?7:t}function zxe(e,t){return Oe(Jh.count(Rs(e)-1,e),t,2)}function r3(e){var t=e.getUTCDay();return t>=4||t===0?to(e):to.ceil(e)}function Gxe(e,t){return e=r3(e),Oe(to.count(Rs(e),e)+(Rs(e).getUTCDay()===4),t,2)}function Wxe(e){return e.getUTCDay()}function Vxe(e,t){return Oe(Cf.count(Rs(e)-1,e),t,2)}function qxe(e,t){return Oe(e.getUTCFullYear()%100,t,2)}function Xxe(e,t){return e=r3(e),Oe(e.getUTCFullYear()%100,t,2)}function Yxe(e,t){return Oe(e.getUTCFullYear()%1e4,t,4)}function Jxe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?to(e):to.ceil(e),Oe(e.getUTCFullYear()%1e4,t,4)}function Zxe(){return"+0000"}function O2(){return"%"}function K2(e){return+e}function z2(e){return Math.floor(+e/1e3)}var Zi,s3,a3;eve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eve(e){return Zi=exe(e),s3=Zi.format,Zi.parse,a3=Zi.utcFormat,Zi.utcParse,Zi}function tve(e){return new Date(e)}function nve(e){return e instanceof Date?+e:+new Date(+e)}function Wy(e,t,n,r,s,a,A,o,l,u){var f=Qy(),c=f.invert,d=f.domain,h=u(".%L"),m=u(":%S"),x=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),p=u("%b %d"),y=u("%B"),b=u("%Y");function C(B){return(l(B)<B?h:o(B)<B?m:A(B)<B?x:a(B)<B?v:r(B)<B?s(B)<B?g:p:n(B)<B?y:b)(B)}return f.invert=function(B){return new Date(c(B))},f.domain=function(B){return arguments.length?d(Array.from(B,nve)):d().map(tve)},f.ticks=function(B){var _=d();return e(_[0],_[_.length-1],B??10)},f.tickFormat=function(B,_){return _==null?C:u(_)},f.nice=function(B){var _=d();return(!B||typeof B.range!="function")&&(B=t(_[0],_[_.length-1],B??10)),B?d(z6(_,B)):f},f.copy=function(){return Rc(f,Wy(e,t,n,r,s,a,A,o,l,u))},f}function rve(){return Br.apply(Wy(Jpe,Zpe,$s,zy,Yh,Lc,Oy,Ry,si,s3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sve(){return Br.apply(Wy(Xpe,Ype,Rs,Gy,Jh,Xh,Ky,Ly,si,a3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zh(){var e=0,t=1,n,r,s,a,A=wn,o=!1,l;function u(c){return c==null||isNaN(c=+c)?l:A(s===0?.5:(c=(a(c)-n)*s,o?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([e,t]=c,n=a(e=+e),r=a(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(c){return arguments.length?(o=!!c,u):o},u.interpolator=function(c){return arguments.length?(A=c,u):A};function f(c){return function(d){var h,m;return arguments.length?([h,m]=d,A=c(h,m),u):[A(0),A(1)]}}return u.range=f(is),u.rangeRound=f(gy),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return a=c,n=c(e),r=c(t),s=n===r?0:1/(r-n),u}}function La(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function i3(){var e=Ra(Zh()(wn));return e.copy=function(){return La(e,i3())},Xs.apply(e,arguments)}function A3(){var e=My(Zh()).domain([1,10]);return e.copy=function(){return La(e,A3()).base(e.base())},Xs.apply(e,arguments)}function o3(){var e=Dy(Zh());return e.copy=function(){return La(e,o3()).constant(e.constant())},Xs.apply(e,arguments)}function Vy(){var e=Py(Zh());return e.copy=function(){return La(e,Vy()).exponent(e.exponent())},Xs.apply(e,arguments)}function ave(){return Vy.apply(null,arguments).exponent(.5)}function l3(){var e=[],t=wn;function n(r){if(r!=null&&!isNaN(r=+r))return t(($c(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Sa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,a)=>hpe(e,a/r))},n.copy=function(){return l3(t).domain(e)},Xs.apply(n,arguments)}function e0(){var e=0,t=.5,n=1,r=1,s,a,A,o,l,u=wn,f,c=!1,d;function h(x){return isNaN(x=+x)?d:(x=.5+((x=+f(x))-a)*(r*x<r*a?o:l),u(c?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t,n]=x,s=f(e=+e),a=f(t=+t),A=f(n=+n),o=s===a?0:.5/(a-s),l=a===A?0:.5/(A-a),r=a<s?-1:1,h):[e,t,n]},h.clamp=function(x){return arguments.length?(c=!!x,h):c},h.interpolator=function(x){return arguments.length?(u=x,h):u};function m(x){return function(v){var g,p,y;return arguments.length?([g,p,y]=v,u=Kfe(x,[g,p,y]),h):[u(0),u(.5),u(1)]}}return h.range=m(is),h.rangeRound=m(gy),h.unknown=function(x){return arguments.length?(d=x,h):d},function(x){return f=x,s=x(e),a=x(t),A=x(n),o=s===a?0:.5/(a-s),l=a===A?0:.5/(A-a),r=a<s?-1:1,h}}function c3(){var e=Ra(e0()(wn));return e.copy=function(){return La(e,c3())},Xs.apply(e,arguments)}function u3(){var e=My(e0()).domain([.1,1,10]);return e.copy=function(){return La(e,u3()).base(e.base())},Xs.apply(e,arguments)}function d3(){var e=Dy(e0());return e.copy=function(){return La(e,d3()).constant(e.constant())},Xs.apply(e,arguments)}function qy(){var e=Py(e0());return e.copy=function(){return La(e,qy()).exponent(e.exponent())},Xs.apply(e,arguments)}function ive(){return qy.apply(null,arguments).exponent(.5)}const Ave=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fy,scaleDiverging:c3,scaleDivergingLog:u3,scaleDivergingPow:qy,scaleDivergingSqrt:ive,scaleDivergingSymlog:d3,scaleIdentity:K6,scaleImplicit:Bp,scaleLinear:Iy,scaleLog:G6,scaleOrdinal:Ey,scalePoint:ppe,scalePow:Hy,scaleQuantile:q6,scaleQuantize:X6,scaleRadial:V6,scaleSequential:i3,scaleSequentialLog:A3,scaleSequentialPow:Vy,scaleSequentialQuantile:l3,scaleSequentialSqrt:ave,scaleSequentialSymlog:o3,scaleSqrt:$pe,scaleSymlog:W6,scaleThreshold:Y6,scaleTime:rve,scaleUtc:sve,tickFormat:O6},Symbol.toStringTag,{value:"Module"})),ove=["linear","time","log","sqrt"];function lve(e){return`scale${(n=>n&&n[0].toUpperCase()+n.slice(1))(e)}`}function f3(e){return typeof e=="function"?qe(e.copy)&&qe(e.domain)&&qe(e.range):typeof e=="string"?ove.includes(e):!1}function h3(e,t){if(e.scale){if(e.scale.x||e.scale.y)return!!e.scale[t]}else return!1;return!0}function cve(e,t){if(!h3(e,t))return;const n=e.scale[t]||e.scale;return typeof n=="string"?n:g3(n)}function uve(e,t){let n;if(e.domain&&e.domain[t]?n=e.domain[t]:e.domain&&Array.isArray(e.domain)&&(n=e.domain),!!n)return Ps(n)?"time":"linear"}function m3(e,t){if(!e.data)return"linear";const n=Cy(e[t]),r=e.data.map(s=>{const a=pr(n(s))?n(s)[t]:n(s);return a!==void 0?a:s[t]});return Ps(r)?"time":"linear"}function cc(e){if(f3(e)){const t=lve(e);return Ave[t]()}return Iy()}function vr(e,t){const n=_p(e,t);if(n)return typeof n=="string"?cc(n):n;const r=uve(e,t)||m3(e,t);return cc(r)}function _p(e,t){if(!h3(e,t))return;const n=e.scale[t]||e.scale;if(f3(n))return qe(n)?n:cc(n)}function _f(e,t){return cve(e,t)||m3(e,t)}const dve=[{name:"quantile",method:"quantiles"},{name:"log",method:"base"}];function g3(e){if(typeof e=="string")return e;const t=dve.filter(n=>e[n.method]!==void 0)[0];return t?t.name:void 0}const fve="@@__IMMUTABLE_ITERABLE__@@",hve="@@__IMMUTABLE_RECORD__@@",mve="@@__IMMUTABLE_LIST__@@";function Oc(e){return!!(e&&e[fve])}function gve(e){return!!(e&&e[hve])}function pve(e){return Oc(e)||gve(e)}function xve(e){return!!(e&&e[mve])}function p3(e,t){return Oc(e)?e.reduce((n,r,s)=>{let a=r;return t&&t[s]&&(a=p3(r)),n[s]=a,n},xve(e)?[]:{}):e}function Sp(e){const t={errorX:!0,errorY:!0};return pve(e)?p3(e,t):e}function vve(e){return Oc(e)?e.size:e.length}function G2(e,t){const r=(pr(e.domain)?e.domain[t]:e.domain)||vr(e,t).domain(),s=e.samples||1,a=Math.max(...r),A=Math.min(...r),o=(a-A)/s,l=_y(A,a,o);return l[l.length-1]===a?l:l.concat(a)}function x3(e,t,n){if(n===void 0&&(n="ascending"),!t)return e;let r=t;return(t==="x"||t==="y")&&(r=`_${t}`),fy(e,r,n==="ascending"?"asc":"desc")}function yve(e,t){const n=1/Number.MAX_SAFE_INTEGER,r={x:_f(t,"x"),y:_f(t,"y")};if(r.x!=="log"&&r.y!=="log")return e;const s=(A,o)=>r[o]==="log"?A[`_${o}`]!==0:!0,a=A=>{const o=s(A,"x")?A._x:n,l=s(A,"y")?A._y:n,u=s(A,"y0")?A._y0:n;return Object.assign({},A,{_x:o,_y:l,_y0:u})};return e.map(A=>s(A,"x")&&s(A,"y")&&s(A,"y0")?A:a(A))}function bve(e){return qe(e)?e:e==null?()=>{}:ZN(e)}function wve(e,t){const n=!!e.eventKey,r=bve(e.eventKey);return t.map((s,a)=>{if(s.eventKey!==void 0)return s;if(n){const A=r(s,a);return A!==void 0?Object.assign({eventKey:A},s):s}return s})}function Bve(e,t,n){const r=m=>m!==void 0,s=Hr(t.x),a=Pr(t.x),A=Hr(t.y),o=Pr(t.y),l=m=>x=>r(x)&&x<m,u=m=>x=>r(x)&&x>m,f=l(s),c=l(A),d=u(a),h=u(o);return e.map(m=>{let{_x:x,_y:v,_y0:g,_y1:p}=m;(f(x)||d(x))&&(x=null);const y=r(g)?g:n,b=r(p)?p:v;return r(b)?(!r(y)&&(c(b)||h(b))&&(v=null),(c(y)&&c(b)||h(y)&&h(b))&&(v=g=p=null),c(y)&&!c(b)&&(g=A),h(y)&&!h(b)&&(g=o),Object.assign({},m,S6({_x:x,_y:v,_y0:g,_y1:p},tpe))):m})}function bm(e,t){const n=v3(e,t),r=no(e,t),s=_ve(e,t),a=Bi([...n,...r,...s]);return a.length===0?null:a.reduce((A,o,l)=>(A[o]=l+1,A),{})}function W2(e,t,n){if(!(Array.isArray(e)||Oc(e))||vve(e)<1)return[];const s=["x","y","y0"];n=Array.isArray(n)?n:s;const a=d=>Cy(t[d]!==void 0?t[d]:d),A=n.reduce((d,h)=>(d[h]=a(h),d),{}),o=Jge(n,s)&&t.x==="_x"&&t.y==="_y"&&t.y0==="_y0";let l;o===!1&&(l={x:n.indexOf("x")!==-1?bm(t,"x"):void 0,y:n.indexOf("y")!==-1?bm(t,"y"):void 0,y0:n.indexOf("y0")!==-1?bm(t,"y"):void 0});const u=o?e:e.reduce((d,h,m)=>{const x=Sp(h),v={x:m,y:x},g=n.reduce((y,b)=>{const C=A[b](x),B=C!==void 0?C:v[b];return B!==void 0&&(typeof B=="string"&&l[b]?(y[`${b}Name`]=B,y[`_${b}`]=l[b][B]):y[`_${b}`]=B),y},{}),p=Object.assign({},g,x);return St(p)||d.push(p),d},[]),f=x3(u,t.sortKey,t.sortOrder),c=yve(f,t);return wve(t,c)}function Cve(e){const t=G2(e,"x"),n=G2(e,"y");return t.map((s,a)=>({x:s,y:n[a]}))}function Xy(e,t){return e.categories&&!Array.isArray(e.categories)?e.categories[t]:e.categories}function Lr(e){return e.data?W2(e.data,e):W2(Cve(e),e)}function v3(e,t){const{tickValues:n,tickFormat:r}=e;let s;return!n||!Array.isArray(n)&&!n[t]?s=r&&Array.isArray(r)?r:[]:s=n[t]||n,s.filter(a=>typeof a=="string")}function no(e,t){if(!e.categories)return[];const n=Xy(e,t),r=n&&n.filter(s=>typeof s=="string");return r?gme(r):[]}function _ve(e,t){if(!(Array.isArray(e.data)||Oc(e.data)))return[];const r=e[t]===void 0?t:e[t],s=Cy(r),a=e.data.reduce((l,u)=>(l.push(Sp(u)),l),[]);return x3(a,e.sortKey,e.sortOrder).reduce((l,u)=>{const f=Sp(u);return l.push(s(f)),l},[]).filter(l=>typeof l=="string").reduce((l,u)=>(u!=null&&l.indexOf(u)===-1&&l.push(u),l),[])}function Sve(e){const t=s=>s&&s.type?s.type.role:"";let n=t(e);if(n==="portal"){const s=P.Children.toArray(e.props.children);n=s.length?t(s[0]):""}return["area","bar","boxplot","candlestick","errorbar","group","histogram","line","pie","scatter","stack","voronoi"].includes(n)}function jve(e,t,n){return _f(t,n)!=="log"?e:(a=>{const A=a[0]<0||a[1]<0?-1/Number.MAX_SAFE_INTEGER:1/Number.MAX_SAFE_INTEGER,o=a[0]===0?A:a[0],l=a[1]===0?A:a[1];return[o,l]})(e)}function Nve(e,t){const n=r=>Array.isArray(r)?{left:r[0],right:r[1]}:{left:r,right:r};return pr(e.domainPadding)?n(e.domainPadding[t]):n(e.domainPadding)}function kve(e,t){const n=`_${t}`;return e.flat().map(r=>r[n]&&r[n][1]!==void 0?r[n][1]:r[n])}function V2(e,t,n){n===void 0&&(n="min");const r=o=>n==="max"?Math.max(...o):Math.min(...o),s=n==="max"?-1/0:1/0;let a=!1;const A=e.flat().reduce((o,l)=>{const u=l[`_${t}0`]!==void 0?l[`_${t}0`]:l[`_${t}`],f=l[`_${t}1`]!==void 0?l[`_${t}1`]:l[`_${t}`],c=r([u,f]);return a=a||u instanceof Date||f instanceof Date,r([o,c])},s);return a?new Date(A):A}function Eve(e,t,n){if(!t.domainPadding)return e;const r=Ri(t,n),s=$i(t,n),a=Nve(t,n);if(!a.left&&!a.right)return e;const A=Hr(e),o=Pr(e),l=z0e(n,t.horizontal),u=zt(t,l),f=Math.abs(u[0]-u[1]),c=Math.max(f-a.left-a.right,1),d=Math.abs(o.valueOf()-A.valueOf())/c*f,h={left:d*a.left/f,right:d*a.right/f};let m={min:A.valueOf()-h.left,max:o.valueOf()+h.right};const x=pr(t.singleQuadrantDomainPadding)?t.singleQuadrantDomainPadding[n]:t.singleQuadrantDomainPadding,v=A.valueOf()>=0&&m.min<=0||o.valueOf()<=0&&m.max>=0,g=(y,b)=>b==="min"&&A.valueOf()>=0&&y<=0||b==="max"&&o.valueOf()<=0&&y>=0?0:y;if(v&&x!==!1){const y={left:Math.abs(o-A)*a.left/f,right:Math.abs(o-A)*a.right/f},b={min:g(A.valueOf()-y.left,"min"),max:g(o.valueOf()+y.right,"max")},C={left:Math.abs(b.max-b.min)*a.left/f,right:Math.abs(b.max-b.min)*a.right/f};m={min:g(A.valueOf()-C.left,"min"),max:g(o.valueOf()+C.right,"max")}}const p={min:r!==void 0?r:m.min,max:s!==void 0?s:m.max};return A instanceof Date||o instanceof Date?Ls(new Date(p.min),new Date(p.max)):Ls(p.min,p.max)}function Yy(e,t){const n=qe(e)?e:Zy,r=qe(t)?t:Jy;return(s,a)=>{const A=e1(s,a);if(A)return r(A,s,a);const o=Xy(s,a),l=o?Fve(s,a,o):n(s,a);return l?r(l,s,a):void 0}}function Jy(e,t,n){return jve(Eve(e,t,n),t,n)}function Ci(e,t){return Yy()(e,t)}function Fve(e,t,n){const r=n||Xy(e,t),{polar:s,startAngle:a=0,endAngle:A=360}=e;if(!r)return;const o=Ri(e,t),l=$i(e,t),u=mf(r)?no(e,t):[],f=u.length===0?null:u.reduce((x,v,g)=>(x[v]=g+1,x),{}),c=f?r.map(x=>f[x]):r,d=o!==void 0?o:Hr(c),h=l!==void 0?l:Pr(c),m=Ls(d,h);return s&&t==="x"&&Math.abs(a-A)===360?t1(m,c):m}function Zy(e,t,n){const r=n||Lr(e),{polar:s,startAngle:a=0,endAngle:A=360}=e,o=Ri(e,t),l=$i(e,t);if(r.length<1)return o!==void 0&&l!==void 0?Ls(o,l):void 0;const u=o!==void 0?o:V2(r,t,"min"),f=l!==void 0?l:V2(r,t,"max"),c=Ls(u,f);return s&&t==="x"&&Math.abs(a-A)===360?t1(c,kve(r,t)):c}function Ls(e,t){const n=r=>{const s=r===0?2*Math.pow(10,-10):Math.pow(10,-10),a=1,A=r instanceof Date?new Date(Number(r)-a):Number(r)-s,o=r instanceof Date?new Date(Number(r)+a):Number(r)+s;return r===0?[0,o]:[A,o]};return Number(e)===Number(t)?n(t):[e,t]}function e1(e,t){const n=Ri(e,t),r=$i(e,t);if(pr(e.domain)&&e.domain[t])return e.domain[t];if(Array.isArray(e.domain))return e.domain;if(n!==void 0&&r!==void 0)return Ls(n,r)}function jp(e,t){const n=e1(e,t);if(n)return n;const r=Lr(e),s=r.reduce((l,u)=>u._y0<l?u._y0:l,1/0),a=l=>{if(t==="x")return l;const u=s!==1/0?s:0,f=$i(e,t),c=Ri(e,t),d=f!==void 0?f:Pr(l,u),h=c!==void 0?c:Hr(l,u);return Ls(h,d)};return Yy(()=>Zy(e,t,r),l=>Jy(a(l),e,t))(e,t)}function $i(e,t){return pr(e.maxDomain)&&e.maxDomain[t]!==void 0?e.maxDomain[t]:typeof e.maxDomain=="number"||M6(e.maxDomain)?e.maxDomain:void 0}function Ri(e,t){return pr(e.minDomain)&&e.minDomain[t]!==void 0?e.minDomain[t]:typeof e.minDomain=="number"||M6(e.minDomain)?e.minDomain:void 0}function t1(e,t){const n=Vge(t.sort((s,a)=>s-a)),r=n[1]-n[0];return[e[0],e[1]+r]}function y3(e){const t=s=>s&&s.type?s.type.role:"";let n=t(e);if(n==="portal"){const s=P.Children.toArray(e.props.children);n=s.length?t(s[0]):""}return["area","axis","bar","boxplot","candlestick","errorbar","group","histogram","line","pie","scatter","stack","voronoi"].includes(n)}function Qve(e){return e}function Cr(e){const{dependentAxis:t}=e;return t?"y":"x"}function b3(e,t){const n=t||Qve,r=s=>s.reduce((a,A)=>A.type&&A.type.role==="axis"&&n(A)?a.concat(A):A.props&&A.props.children?a.concat(r(P.Children.toArray(A.props.children))):a,[]);return r(e)}function w3(e,t){return b3(e,r=>r.type.getAxis(r.props)===t)[0]}function q2(e,t){const n=s=>t==="dependent"?s.props.dependentAxis:!s.props.dependentAxis,r=s=>s.reduce((a,A)=>A.type&&A.type.role==="axis"&&n(A)||A.props&&A.props.children&&r(P.Children.toArray(A.props.children)).length>0?a.concat(A):a,[]);return r(e)}function B3(e){const t=n=>{const r=Math.min(...n),s=Math.max(...n);return s<0?s:Math.max(0,r)};return{x:Ps(e.x)?new Date(Math.min(...e.x)):t(e.x),y:Ps(e.y)?new Date(Math.min(...e.y)):t(e.y)}}function X2(e,t){const n=()=>e<=0&&Math.max(...t)<=0?"negative":"positive";return Ps(t)?"positive":n()}function t0(e){const t=e.orientation||(e.dependentAxis?"left":"bottom");return{top:!1,bottom:!1,left:!0,right:!0}[t]}function n0(e){return e.tickValues!==void 0&&mf(e.tickValues)}function Uve(e){const{tickValues:t}=e,n=Cr(e),r=e.stringMap&&e.stringMap[n],s=t&&!Ps(t)?u=>u:void 0;if(!r)return n0(e)?(u,f)=>t[f]:s;const a=r&&p6(r),l=["",...fy(Object.values(r),u=>u).map(u=>a[u]),""];return u=>l[u]}function Tve(e){const t=Cr(e),n=e.stringMap&&e.stringMap[t],r=Array.isArray(e.categories)?e.categories:e.categories&&e.categories[t],s=r&&mme(r)?r.map(A=>n[A]):void 0,a=n&&Object.values(n);return s&&s.length!==0?s:a}function n1(e){const{tickValues:t,tickFormat:n}=e;if((t==null?void 0:t.length)===0)return[];const r=Cr(e),s=e.stringMap&&e.stringMap[r],a=()=>{if(!(!n||!Array.isArray(n)))return mf(n)?n.map((u,f)=>f):n};let A=t;s&&(A=Tve(e)),t&&mf(t)&&(A=s?t.map(u=>s[u]):_y(1,t.length+1));const o=A?Bi(A):a(),l=u=>{const f=[],c=e.domain&&e.domain[r]||e.domain;if(u)return u.forEach((d,h)=>{Array.isArray(c)?d>=Hr(c).valueOf()&&d<=Pr(c).valueOf()&&f.push({value:d,index:h}):f.push({value:d,index:h})}),f};return Array.isArray(o)&&o.length?l(o):void 0}function C3(e,t){const{tickFormat:n}=e,r=Cr(e),s=e.stringMap&&e.stringMap[r];if(n){if(n&&Array.isArray(n)){const a=n1(e),A=a==null?void 0:a.map(l=>l.index),o=n.filter((l,u)=>A==null?void 0:A.includes(u));return(l,u)=>o[u]}else if(n&&qe(n))return s?(A,o,l)=>{const u=p6(s),f=l.map(c=>u[c]);return e.tickFormat(u[A],o,f)}:n}else{const a=Uve(e),A=t.tickFormat&&qe(t.tickFormat)?t.tickFormat():o=>o;return a||A}return a=>a}function Y2(e,t){if(!t||!Array.isArray(e)||e.length<=t)return e;const n=Math.floor(e.length/t);return e.filter((r,s)=>s%n===0)}function _3(e,t,n){n===void 0&&(n=!1);const{tickCount:r}=e,s=n1(e);if((s==null?void 0:s.length)===0)return[""];const a=s?s.map(A=>A.value):void 0;if(a)return Y2(a,r);if(t.ticks&&qe(t.ticks)){const A=r||5,o=t.ticks(A),l=Array.isArray(o)&&o.length?o:t.domain(),u=Y2(l,r);if(n){const f=u.filter(c=>c!==0);return f.length?f:u}return u}return t.domain()}function Ive(e,t){const{polar:n,startAngle:r=0,endAngle:s=360}=e,a=n1(e),A=a&&(a==null?void 0:a.length)!==0?a.map(g=>g.value):void 0;if(!Array.isArray(A))return;const o=Ri(e,t),l=$i(e,t),u=n0(e),f=A.map(g=>Number(g)),c=u?1:Hr(f),d=u?A.length:Pr(f),x=Ls(o!==void 0?o:c,l!==void 0?l:d),v=n&&t==="x"&&Math.abs(r-s)===360?t1(x,f):x;return t0(e)&&!n&&v.reverse(),v}function wo(e,t){const n=Cr(e);if(!(t&&t!==n))return Yy(Ive)(e,n)}function S3(e,t){if(!e.axisValue)return;const n=t==="x"?"y":"x",r=ap(e.scale)&&qe(e.scale[n])?e.scale[n]:void 0;if(!r)return;const s=t==="x"?"y":"x",a=ap(e.stringMap)&&e.stringMap[s],A=a&&typeof e.axisValue=="string"?a[e.axisValue]:e.axisValue;return r(A)}function r0(e,t){if(!ap(e.theme))return Mr(e,t,"axis");let n="axis";if(e.dependentAxis&&e.theme.dependentAxis?n="dependentAxis":!e.dependentAxis&&e.theme.independentAxis&&(n="independentAxis"),n==="axis")return Mr(e,t,"axis");const r=we({},e.theme[n],e.theme.axis),s=Object.assign({},e.theme,{axis:r});return Mr(Object.assign({},e,{theme:s}),t,"axis")}function j3(){return{onLoad:{duration:2e3},onExit:{duration:500},onEnter:{duration:500}}}function N3(){return{onLoad:{duration:2e3,before:()=>({_y:0,_y1:0,_y0:0}),after:e=>({_y:e._y,_y1:e._y1,_y0:e._y0})},onExit:{duration:500,before:(e,t,n)=>{const r=s=>(t===0?n[t+1]:n[t-1])[s];return{_x:r("_x"),_y:r("_y"),_y0:r("_y0")}}},onEnter:{duration:500,before:(e,t,n)=>{const r=s=>(t===0?n[t+1]:n[t-1])[s];return{_x:r("_x"),_y:r("_y"),_y0:r("_y0")}},after:e=>({_x:e._x,_y:e._y,_y1:e._y1,_y0:e._y0})}}}function Mve(){return{onLoad:{duration:2e3,before:()=>({opacity:0}),after:e=>e},onExit:{duration:600,before:()=>({opacity:0})},onEnter:{duration:600,before:()=>({opacity:0}),after:e=>e}}}function Dve(e){const t=P.useRef();return P.useEffect(()=>{t.current=e}),t.current}const Pve={nodesShouldLoad:!1,nodesDoneLoad:!1,animating:!0},Hve=function(e){e===void 0&&(e=Pve);const[t,n]=P.useState(e),r=P.useCallback(o=>{n(l=>({...l,...o}))},[n]),s=P.useCallback((o,l,u)=>{if(!(o!=null&&o.animate))return l.props.animate;const f=()=>{let m=t&&t.childrenTransitions;return m=d2(m)?m[u]:m,we({childrenTransitions:m},t)};let c=o.animate&&o.animate.getTransitions;const d=f(),h=o.animate&&o.animate.parentState||d;if(!c){const m=C6(o,d,x=>r(x));c=x=>m(x,u)}return we({getTransitions:c,parentState:h},o.animate,l.props.animate)},[t,r]),a=P.useCallback((o,l)=>{if(o!=null&&o.animate)if(o.animate.parentState){const f=o.animate.parentState.nodesWillExit?o:null,c=we({oldProps:f,nextProps:l},o.animate.parentState);r(c)}else{const u=P.Children.toArray(o.children),f=P.Children.toArray(l.children),c=g=>{const p=y=>y.type&&y.type.continuous;return Array.isArray(g)?g.some(p):p(g)},d=!o.polar&&u.some(g=>{var p;return c(g)||((p=g==null?void 0:g.props)==null?void 0:p.children)&&c(g.props.children)}),{nodesWillExit:h,nodesWillEnter:m,childrenTransitions:x,nodesShouldEnter:v}=B6(u,f);r({nodesWillExit:h,nodesWillEnter:m,nodesShouldEnter:v,childrenTransitions:d2(x)?x[0]:x,oldProps:h?o:void 0,nextProps:l,continuous:d})}},[r]),A=P.useCallback(o=>t&&t.nodesWillExit&&t.oldProps||o,[t]);return{state:t,setState:r,getAnimationProps:s,setAnimationState:a,getProps:A}};function $ve(e,t){t===void 0&&(t={});const n=t._y>=0?1:-1,r=e.style&&e.style.labels||{};return t.verticalAnchor||r.verticalAnchor?t.verticalAnchor||r.verticalAnchor:e.horizontal?"middle":n>=0?"end":"start"}function Rve(e,t){t===void 0&&(t={});const{style:n,horizontal:r}=e,s=t._y>=0?1:-1,a=n&&n.labels||{};return t.verticalAnchor||a.verticalAnchor?t.verticalAnchor||a.verticalAnchor:r?s>=0?"start":"end":"middle"}function Lve(e,t){t===void 0&&(t={});const n=e.style&&e.style.labels||{};return t.angle===void 0?n.angle:t.angle}function Ove(e,t){t===void 0&&(t={});const{horizontal:n,style:r}=e,s=r.labels||{},a=Be(s.padding,e)||0,A=t._y<0?-1:1;return{x:n?A*a:0,y:n?0:-1*A*a}}function Kve(e,t){if(e.polar)return{};const n=Ove(e,t);return{dx:n.x,dy:n.y}}function zve(e,t){const{polar:n}=e,{x:r,y:s}=yy(e,t);if(!n)return{x:r,y:s};const a=Gve(e,t);return{x:r+a.x,y:s+a.y}}function Gve(e,t){const{style:n}=e,r=i1(e,t),s=n.labels||{},a=Be(s.padding,e)||0,A=Ot(r);return{x:a*Math.cos(A),y:-a*Math.sin(A)}}function r1(e){const{labelComponent:t,labelPlacement:n,polar:r}=e,s=r?"perpendicular":"vertical";return n||t.props&&t.props.labelPlacement||s}function Wve(e){return e<45||e>315?"right":e>=45&&e<=135?"top":e>135&&e<225?"left":"bottom"}function s0(e,t,n){return t===void 0&&(t={}),t.label!==void 0?t.label:Array.isArray(e.labels)?e.labels[n]:e.labels}function s1(e,t){const n=r1(e);return n==="perpendicular"||n==="vertical"&&(t===90||t===270)?"middle":t<=90||t>270?"start":"end"}function k3(e,t){const n=r1(e),r=Wve(t);return n==="parallel"||r==="left"||r==="right"?"middle":r==="top"?"end":"start"}function a1(e,t){const{labelPlacement:n,datum:r}=e;if(!n||n==="vertical")return 0;const s=t!==void 0?t%360:i1(e,r),a=s>90&&s<180||s>270?1:-1;let A=0;return s===0||s===180?A=90:s>0&&s<180?A=90-s:s>180&&s<360&&(A=270-s),A+a*(n==="perpendicular"?0:90)}function i1(e,t){const{x:n}=x6(t);return By(e.scale.x(n))%360}function A1(e,t){const{scale:n,data:r,style:s,horizontal:a,polar:A,width:o,height:l,theme:u,labelComponent:f,disableInlineStyles:c}=e,d=r[t],h=i1(e,d),m=A?s1(e,h):Rve(e,d),x=A?k3(e,h):$ve(e,d),v=Lve(e,d),g=s0(e,d,t),p=r1(e),{x:y,y:b}=zve(e,d),{dx:C,dy:B}=Kve(e,d),_={angle:v,data:r,datum:d,disableInlineStyles:c,horizontal:a,index:t,polar:A,scale:n,labelPlacement:p,text:g,textAnchor:m,verticalAnchor:x,x:y,y:b,dx:C,dy:B,width:o,height:l,style:s.labels};if(!v6(f))return _;const N=u&&u.tooltip||{};return we({},_,vy(N,["style"]))}function Qe(e){return function(){return e}}const J2=Math.abs,an=Math.atan2,ws=Math.cos,Vve=Math.max,MA=Math.min,Qn=Math.sin,lt=Math.sqrt,An=1e-12,Ta=Math.PI,Sf=Ta/2,ja=2*Ta;function qve(e){return e>1?0:e<-1?Ta:Math.acos(e)}function Z2(e){return e>=1?Sf:e<=-1?-Sf:Math.asin(e)}const Np=Math.PI,kp=2*Np,Ya=1e-6,Xve=kp-Ya;function E3(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Yve(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return E3;const n=10**t;return function(r){this._+=r[0];for(let s=1,a=r.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}let Jve=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?E3:Yve(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,a,A){this._append`C${+t},${+n},${+r},${+s},${this._x1=+a},${this._y1=+A}`}arcTo(t,n,r,s,a){if(t=+t,n=+n,r=+r,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let A=this._x1,o=this._y1,l=r-t,u=s-n,f=A-t,c=o-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Ya)if(!(Math.abs(c*l-u*f)>Ya)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-A,m=s-o,x=l*l+u*u,v=h*h+m*m,g=Math.sqrt(x),p=Math.sqrt(d),y=a*Math.tan((Np-Math.acos((x+d-v)/(2*g*p)))/2),b=y/p,C=y/g;Math.abs(b-1)>Ya&&this._append`L${t+b*f},${n+b*c}`,this._append`A${a},${a},0,0,${+(c*h>f*m)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,s,a,A){if(t=+t,n=+n,r=+r,A=!!A,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(s),l=r*Math.sin(s),u=t+o,f=n+l,c=1^A,d=A?s-a:a-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Ya||Math.abs(this._y1-f)>Ya)&&this._append`L${u},${f}`,r&&(d<0&&(d=d%kp+kp),d>Xve?this._append`A${r},${r},0,1,${c},${t-o},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:d>Ya&&this._append`A${r},${r},0,${+(d>=Np)},${c},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}};function Kc(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Jve(t)}function Zve(e){return e.innerRadius}function eye(e){return e.outerRadius}function tye(e){return e.startAngle}function nye(e){return e.endAngle}function rye(e){return e&&e.padAngle}function sye(e,t,n,r,s,a,A,o){var l=n-e,u=r-t,f=A-s,c=o-a,d=c*l-f*u;if(!(d*d<An))return d=(f*(t-a)-c*(e-s))/d,[e+d*l,t+d*u]}function _u(e,t,n,r,s,a,A){var o=e-n,l=t-r,u=(A?a:-a)/lt(o*o+l*l),f=u*l,c=-u*o,d=e+f,h=t+c,m=n+f,x=r+c,v=(d+m)/2,g=(h+x)/2,p=m-d,y=x-h,b=p*p+y*y,C=s-a,B=d*x-m*h,_=(y<0?-1:1)*lt(Vve(0,C*C*b-B*B)),N=(B*y-p*_)/b,w=(-B*p-y*_)/b,E=(B*y+p*_)/b,U=(-B*p+y*_)/b,I=N-v,H=w-g,$=E-v,K=U-g;return I*I+H*H>$*$+K*K&&(N=E,w=U),{cx:N,cy:w,x01:-f,y01:-c,x11:N*(s/C-1),y11:w*(s/C-1)}}function aye(){var e=Zve,t=eye,n=Qe(0),r=null,s=tye,a=nye,A=rye,o=null,l=Kc(u);function u(){var f,c,d=+e.apply(this,arguments),h=+t.apply(this,arguments),m=s.apply(this,arguments)-Sf,x=a.apply(this,arguments)-Sf,v=J2(x-m),g=x>m;if(o||(o=f=l()),h<d&&(c=h,h=d,d=c),!(h>An))o.moveTo(0,0);else if(v>ja-An)o.moveTo(h*ws(m),h*Qn(m)),o.arc(0,0,h,m,x,!g),d>An&&(o.moveTo(d*ws(x),d*Qn(x)),o.arc(0,0,d,x,m,g));else{var p=m,y=x,b=m,C=x,B=v,_=v,N=A.apply(this,arguments)/2,w=N>An&&(r?+r.apply(this,arguments):lt(d*d+h*h)),E=MA(J2(h-d)/2,+n.apply(this,arguments)),U=E,I=E,H,$;if(w>An){var K=Z2(w/d*Qn(N)),M=Z2(w/h*Qn(N));(B-=K*2)>An?(K*=g?1:-1,b+=K,C-=K):(B=0,b=C=(m+x)/2),(_-=M*2)>An?(M*=g?1:-1,p+=M,y-=M):(_=0,p=y=(m+x)/2)}var D=h*ws(p),k=h*Qn(p),R=d*ws(C),S=d*Qn(C);if(E>An){var T=h*ws(y),W=h*Qn(y),V=d*ws(b),Y=d*Qn(b),se;if(v<Ta)if(se=sye(D,k,V,Y,T,W,R,S)){var ee=D-se[0],q=k-se[1],Z=T-se[0],Q=W-se[1],O=1/Qn(qve((ee*Z+q*Q)/(lt(ee*ee+q*q)*lt(Z*Z+Q*Q)))/2),z=lt(se[0]*se[0]+se[1]*se[1]);U=MA(E,(d-z)/(O-1)),I=MA(E,(h-z)/(O+1))}else U=I=0}_>An?I>An?(H=_u(V,Y,D,k,h,I,g),$=_u(T,W,R,S,h,I,g),o.moveTo(H.cx+H.x01,H.cy+H.y01),I<E?o.arc(H.cx,H.cy,I,an(H.y01,H.x01),an($.y01,$.x01),!g):(o.arc(H.cx,H.cy,I,an(H.y01,H.x01),an(H.y11,H.x11),!g),o.arc(0,0,h,an(H.cy+H.y11,H.cx+H.x11),an($.cy+$.y11,$.cx+$.x11),!g),o.arc($.cx,$.cy,I,an($.y11,$.x11),an($.y01,$.x01),!g))):(o.moveTo(D,k),o.arc(0,0,h,p,y,!g)):o.moveTo(D,k),!(d>An)||!(B>An)?o.lineTo(R,S):U>An?(H=_u(R,S,T,W,d,-U,g),$=_u(D,k,V,Y,d,-U,g),o.lineTo(H.cx+H.x01,H.cy+H.y01),U<E?o.arc(H.cx,H.cy,U,an(H.y01,H.x01),an($.y01,$.x01),!g):(o.arc(H.cx,H.cy,U,an(H.y01,H.x01),an(H.y11,H.x11),!g),o.arc(0,0,d,an(H.cy+H.y11,H.cx+H.x11),an($.cy+$.y11,$.cx+$.x11),g),o.arc($.cx,$.cy,U,an($.y11,$.x11),an($.y01,$.x01),!g))):o.arc(0,0,d,C,b,g)}if(o.closePath(),f)return o=null,f+""||null}return u.centroid=function(){var f=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,c=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-Ta/2;return[ws(c)*f,Qn(c)*f]},u.innerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:Qe(+f),u):e},u.outerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:Qe(+f),u):t},u.cornerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:Qe(+f),u):n},u.padRadius=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qe(+f),u):r},u.startAngle=function(f){return arguments.length?(s=typeof f=="function"?f:Qe(+f),u):s},u.endAngle=function(f){return arguments.length?(a=typeof f=="function"?f:Qe(+f),u):a},u.padAngle=function(f){return arguments.length?(A=typeof f=="function"?f:Qe(+f),u):A},u.context=function(f){return arguments.length?(o=f??null,u):o},u}var iye=Array.prototype.slice;function a0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function F3(e){this._context=e}F3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zc(e){return new F3(e)}function o1(e){return e[0]}function l1(e){return e[1]}function i0(e,t){var n=Qe(!0),r=null,s=zc,a=null,A=Kc(o);e=typeof e=="function"?e:e===void 0?o1:Qe(e),t=typeof t=="function"?t:t===void 0?l1:Qe(t);function o(l){var u,f=(l=a0(l)).length,c,d=!1,h;for(r==null&&(a=s(h=A())),u=0;u<=f;++u)!(u<f&&n(c=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,u,l),+t(c,u,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Qe(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Qe(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qe(!!l),o):n},o.curve=function(l){return arguments.length?(s=l,r!=null&&(a=s(r)),o):s},o.context=function(l){return arguments.length?(l==null?r=a=null:a=s(r=l),o):r},o}function jf(e,t,n){var r=null,s=Qe(!0),a=null,A=zc,o=null,l=Kc(u);e=typeof e=="function"?e:e===void 0?o1:Qe(+e),t=typeof t=="function"?t:Qe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?l1:Qe(+n);function u(c){var d,h,m,x=(c=a0(c)).length,v,g=!1,p,y=new Array(x),b=new Array(x);for(a==null&&(o=A(p=l())),d=0;d<=x;++d){if(!(d<x&&s(v=c[d],d,c))===g)if(g=!g)h=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=h;--m)o.point(y[m],b[m]);o.lineEnd(),o.areaEnd()}g&&(y[d]=+e(v,d,c),b[d]=+t(v,d,c),o.point(r?+r(v,d,c):y[d],n?+n(v,d,c):b[d]))}if(p)return o=null,p+""||null}function f(){return i0().defined(s).curve(A).context(a)}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:Qe(+c),r=null,u):e},u.x0=function(c){return arguments.length?(e=typeof c=="function"?c:Qe(+c),u):e},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Qe(+c),u):r},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:Qe(+c),n=null,u):t},u.y0=function(c){return arguments.length?(t=typeof c=="function"?c:Qe(+c),u):t},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Qe(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(r).y(t)},u.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Qe(!!c),u):s},u.curve=function(c){return arguments.length?(A=c,a!=null&&(o=A(a)),u):A},u.context=function(c){return arguments.length?(c==null?a=o=null:o=A(a=c),u):a},u}function Aye(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function oye(e){return e}function lye(){var e=oye,t=Aye,n=null,r=Qe(0),s=Qe(ja),a=Qe(0);function A(o){var l,u=(o=a0(o)).length,f,c,d=0,h=new Array(u),m=new Array(u),x=+r.apply(this,arguments),v=Math.min(ja,Math.max(-ja,s.apply(this,arguments)-x)),g,p=Math.min(Math.abs(v)/u,a.apply(this,arguments)),y=p*(v<0?-1:1),b;for(l=0;l<u;++l)(b=m[h[l]=l]=+e(o[l],l,o))>0&&(d+=b);for(t!=null?h.sort(function(C,B){return t(m[C],m[B])}):n!=null&&h.sort(function(C,B){return n(o[C],o[B])}),l=0,c=d?(v-u*y)/d:0;l<u;++l,x=g)f=h[l],b=m[f],g=x+(b>0?b*c:0)+y,m[f]={data:o[f],index:l,value:b,startAngle:x,endAngle:g,padAngle:p};return m}return A.value=function(o){return arguments.length?(e=typeof o=="function"?o:Qe(+o),A):e},A.sortValues=function(o){return arguments.length?(t=o,n=null,A):t},A.sort=function(o){return arguments.length?(n=o,t=null,A):n},A.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:Qe(+o),A):r},A.endAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Qe(+o),A):s},A.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Qe(+o),A):a},A}var Q3=c1(zc);function U3(e){this._curve=e}U3.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function c1(e){function t(n){return new U3(e(n))}return t._curve=e,t}function sl(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(c1(n)):t()._curve},e}function Ep(){return sl(i0().curve(Q3))}function Fp(){var e=jf().curve(Q3),t=e.curve,n=e.lineX0,r=e.lineX1,s=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return sl(n())},delete e.lineX0,e.lineEndAngle=function(){return sl(r())},delete e.lineX1,e.lineInnerRadius=function(){return sl(s())},delete e.lineY0,e.lineOuterRadius=function(){return sl(a())},delete e.lineY1,e.curve=function(A){return arguments.length?t(c1(A)):t()._curve},e}function al(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}class T3{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}class cye{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=al(this._x0,this._y0),s=al(this._x0,this._y0=(this._y0+n)/2),a=al(t,this._y0),A=al(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...s,...a,...A)}this._x0=t,this._y0=n}}function I3(e){return new T3(e,!0)}function M3(e){return new T3(e,!1)}function uye(e){return new cye(e)}function dye(e){return e.source}function fye(e){return e.target}function A0(e){let t=dye,n=fye,r=o1,s=l1,a=null,A=null,o=Kc(l);function l(){let u;const f=iye.call(arguments),c=t.apply(this,f),d=n.apply(this,f);if(a==null&&(A=e(u=o())),A.lineStart(),f[0]=c,A.point(+r.apply(this,f),+s.apply(this,f)),f[0]=d,A.point(+r.apply(this,f),+s.apply(this,f)),A.lineEnd(),u)return A=null,u+""||null}return l.source=function(u){return arguments.length?(t=u,l):t},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:Qe(+u),l):r},l.y=function(u){return arguments.length?(s=typeof u=="function"?u:Qe(+u),l):s},l.context=function(u){return arguments.length?(u==null?a=A=null:A=e(a=u),l):a},l}function hye(){return A0(I3)}function mye(){return A0(M3)}function gye(){const e=A0(uye);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const pye=lt(3),D3={draw(e,t){const n=lt(t+MA(t/28,.75))*.59436,r=n/2,s=r*pye;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-s,-r),e.lineTo(s,r),e.moveTo(-s,r),e.lineTo(s,-r)}},o0={draw(e,t){const n=lt(t/Ta);e.moveTo(n,0),e.arc(0,0,n,0,ja)}},P3={draw(e,t){const n=lt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},H3=lt(1/3),xye=H3*2,$3={draw(e,t){const n=lt(t/xye),r=n*H3;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},R3={draw(e,t){const n=lt(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},L3={draw(e,t){const n=lt(t-MA(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},O3={draw(e,t){const n=lt(t),r=-n/2;e.rect(r,r,n,n)}},K3={draw(e,t){const n=lt(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},vye=.8908130915292852,z3=Qn(Ta/10)/Qn(7*Ta/10),yye=Qn(ja/10)*z3,bye=-ws(ja/10)*z3,G3={draw(e,t){const n=lt(t*vye),r=yye*n,s=bye*n;e.moveTo(0,-n),e.lineTo(r,s);for(let a=1;a<5;++a){const A=ja*a/5,o=ws(A),l=Qn(A);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*s,l*r+o*s)}e.closePath()}},wm=lt(3),W3={draw(e,t){const n=-lt(t/(wm*3));e.moveTo(0,n*2),e.lineTo(-wm*n,-n),e.lineTo(wm*n,-n),e.closePath()}},wye=lt(3),V3={draw(e,t){const n=lt(t)*.6824,r=n/2,s=n*wye/2;e.moveTo(0,-n),e.lineTo(s,r),e.lineTo(-s,r),e.closePath()}},nr=-.5,rr=lt(3)/2,Qp=1/lt(12),Bye=(Qp/2+1)*3,q3={draw(e,t){const n=lt(t/Bye),r=n/2,s=n*Qp,a=r,A=n*Qp+n,o=-a,l=A;e.moveTo(r,s),e.lineTo(a,A),e.lineTo(o,l),e.lineTo(nr*r-rr*s,rr*r+nr*s),e.lineTo(nr*a-rr*A,rr*a+nr*A),e.lineTo(nr*o-rr*l,rr*o+nr*l),e.lineTo(nr*r+rr*s,nr*s-rr*r),e.lineTo(nr*a+rr*A,nr*A-rr*a),e.lineTo(nr*o+rr*l,nr*l-rr*o),e.closePath()}},Up={draw(e,t){const n=lt(t-MA(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},eC=[o0,P3,$3,O3,G3,W3,q3],Cye=[o0,L3,Up,V3,D3,K3,R3];function _ye(e,t){let n=null,r=Kc(s);e=typeof e=="function"?e:Qe(e||o0),t=typeof t=="function"?t:Qe(t===void 0?64:+t);function s(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:Qe(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:Qe(+a),s):t},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function Ia(){}function Nf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function l0(e){this._context=e}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Sye(e){return new l0(e)}function X3(e){this._context=e}X3.prototype={areaStart:Ia,areaEnd:Ia,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jye(e){return new X3(e)}function Y3(e){this._context=e}Y3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nye(e){return new Y3(e)}function J3(e,t){this._basis=new l0(e),this._beta=t}J3.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],s=t[0],a=e[n]-r,A=t[n]-s,o=-1,l;++o<=n;)l=o/n,this._basis.point(this._beta*e[o]+(1-this._beta)*(r+l*a),this._beta*t[o]+(1-this._beta)*(s+l*A));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const kye=function e(t){function n(r){return t===1?new l0(r):new J3(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function kf(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function u1(e,t){this._context=e,this._k=(1-t)/6}u1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:kf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:kf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Eye=function e(t){function n(r){return new u1(r,t)}return n.tension=function(r){return e(+r)},n}(0);function d1(e,t){this._context=e,this._k=(1-t)/6}d1.prototype={areaStart:Ia,areaEnd:Ia,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:kf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fye=function e(t){function n(r){return new d1(r,t)}return n.tension=function(r){return e(+r)},n}(0);function f1(e,t){this._context=e,this._k=(1-t)/6}f1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:kf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Qye=function e(t){function n(r){return new f1(r,t)}return n.tension=function(r){return e(+r)},n}(0);function h1(e,t,n){var r=e._x1,s=e._y1,a=e._x2,A=e._y2;if(e._l01_a>An){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,s=(s*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>An){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/f,A=(A*u+e._y1*e._l23_2a-n*e._l12_2a)/f}e._context.bezierCurveTo(r,s,a,A,e._x2,e._y2)}function Z3(e,t){this._context=e,this._alpha=t}Z3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:h1(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Uye=function e(t){function n(r){return t?new Z3(r,t):new u1(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function ek(e,t){this._context=e,this._alpha=t}ek.prototype={areaStart:Ia,areaEnd:Ia,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:h1(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Tye=function e(t){function n(r){return t?new ek(r,t):new d1(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function tk(e,t){this._context=e,this._alpha=t}tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:h1(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Iye=function e(t){function n(r){return t?new tk(r,t):new f1(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function nk(e){this._context=e}nk.prototype={areaStart:Ia,areaEnd:Ia,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Mye(e){return new nk(e)}function tC(e){return e<0?-1:1}function nC(e,t,n){var r=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(r||s<0&&-0),A=(n-e._y1)/(s||r<0&&-0),o=(a*s+A*r)/(r+s);return(tC(a)+tC(A))*Math.min(Math.abs(a),Math.abs(A),.5*Math.abs(o))||0}function rC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bm(e,t,n){var r=e._x0,s=e._y0,a=e._x1,A=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,s+o*t,a-o,A-o*n,a,A)}function Ef(e){this._context=e}Ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bm(this,this._t0,rC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bm(this,rC(this,n=nC(this,e,t)),n);break;default:Bm(this,this._t0,n=nC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function rk(e){this._context=new sk(e)}(rk.prototype=Object.create(Ef.prototype)).point=function(e,t){Ef.prototype.point.call(this,t,e)};function sk(e){this._context=e}sk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,a){this._context.bezierCurveTo(t,e,r,n,a,s)}};function Dye(e){return new Ef(e)}function Pye(e){return new rk(e)}function ak(e){this._context=e}ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=sC(e),s=sC(t),a=0,A=1;A<n;++a,++A)this._context.bezierCurveTo(r[0][a],s[0][a],r[1][a],s[1][a],e[A],t[A]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function sC(e){var t,n=e.length-1,r,s=new Array(n),a=new Array(n),A=new Array(n);for(s[0]=0,a[0]=2,A[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,A[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,A[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/a[t-1],a[t]-=r,A[t]-=r*A[t-1];for(s[n-1]=A[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(A[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Hye(e){return new ak(e)}function c0(e,t){this._context=e,this._t=t}c0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function $ye(e){return new c0(e,.5)}function Rye(e){return new c0(e,0)}function Lye(e){return new c0(e,1)}function ro(e,t){if((A=e.length)>1)for(var n=1,r,s,a=e[t[0]],A,o=a.length;n<A;++n)for(s=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function so(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Oye(e,t){return e[t]}function Kye(e){const t=[];return t.key=e,t}function zye(){var e=Qe([]),t=so,n=ro,r=Oye;function s(a){var A=Array.from(e.apply(this,arguments),Kye),o,l=A.length,u=-1,f;for(const c of a)for(o=0,++u;o<l;++o)(A[o][u]=[0,+r(c,A[o].key,u,a)]).data=c;for(o=0,f=a0(t(A));o<l;++o)A[f[o]].index=o;return n(A,f),A}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Qe(Array.from(a)),s):e},s.value=function(a){return arguments.length?(r=typeof a=="function"?a:Qe(+a),s):r},s.order=function(a){return arguments.length?(t=a==null?so:typeof a=="function"?a:Qe(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(n=a??ro,s):n},s}function Gye(e,t){if((r=e.length)>0){for(var n,r,s=0,a=e[0].length,A;s<a;++s){for(A=n=0;n<r;++n)A+=e[n][s][1]||0;if(A)for(n=0;n<r;++n)e[n][s][1]/=A}ro(e,t)}}function Wye(e,t){if((l=e.length)>0)for(var n,r=0,s,a,A,o,l,u=e[t[0]].length;r<u;++r)for(A=o=0,n=0;n<l;++n)(a=(s=e[t[n]][r])[1]-s[0])>0?(s[0]=A,s[1]=A+=a):a<0?(s[1]=o,s[0]=o+=a):(s[0]=0,s[1]=a)}function Vye(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,a=r.length;n<a;++n){for(var A=0,o=0;A<s;++A)o+=e[A][n][1]||0;r[n][1]+=r[n][0]=-o/2}ro(e,t)}}function qye(e,t){if(!(!((A=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,a,A;r<a;++r){for(var o=0,l=0,u=0;o<A;++o){for(var f=e[t[o]],c=f[r][1]||0,d=f[r-1][1]||0,h=(c-d)/2,m=0;m<o;++m){var x=e[t[m]],v=x[r][1]||0,g=x[r-1][1]||0;h+=v-g}l+=c,u+=h*c}s[r-1][1]+=s[r-1][0]=n,l&&(n-=u/l)}s[r-1][1]+=s[r-1][0]=n,ro(e,t)}}function ik(e){var t=e.map(Xye);return so(e).sort(function(n,r){return t[n]-t[r]})}function Xye(e){for(var t=-1,n=0,r=e.length,s,a=-1/0;++t<r;)(s=+e[t][1])>a&&(a=s,n=t);return n}function Ak(e){var t=e.map(ok);return so(e).sort(function(n,r){return t[n]-t[r]})}function ok(e){for(var t=0,n=-1,r=e.length,s;++n<r;)(s=+e[n][1])&&(t+=s);return t}function Yye(e){return Ak(e).reverse()}function Jye(e){var t=e.length,n,r,s=e.map(ok),a=ik(e),A=0,o=0,l=[],u=[];for(n=0;n<t;++n)r=a[n],A<o?(A+=s[r],l.push(r)):(o+=s[r],u.push(r));return u.reverse().concat(l)}function Zye(e){return so(e).reverse()}const e1e=Object.freeze(Object.defineProperty({__proto__:null,arc:aye,area:jf,areaRadial:Fp,curveBasis:Sye,curveBasisClosed:jye,curveBasisOpen:Nye,curveBumpX:I3,curveBumpY:M3,curveBundle:kye,curveCardinal:Eye,curveCardinalClosed:Fye,curveCardinalOpen:Qye,curveCatmullRom:Uye,curveCatmullRomClosed:Tye,curveCatmullRomOpen:Iye,curveLinear:zc,curveLinearClosed:Mye,curveMonotoneX:Dye,curveMonotoneY:Pye,curveNatural:Hye,curveStep:$ye,curveStepAfter:Lye,curveStepBefore:Rye,line:i0,lineRadial:Ep,link:A0,linkHorizontal:hye,linkRadial:gye,linkVertical:mye,pie:lye,pointRadial:al,radialArea:Fp,radialLine:Ep,stack:zye,stackOffsetDiverging:Wye,stackOffsetExpand:Gye,stackOffsetNone:ro,stackOffsetSilhouette:Vye,stackOffsetWiggle:qye,stackOrderAppearance:ik,stackOrderAscending:Ak,stackOrderDescending:Yye,stackOrderInsideOut:Jye,stackOrderNone:so,stackOrderReverse:Zye,symbol:_ye,symbolAsterisk:D3,symbolCircle:o0,symbolCross:P3,symbolDiamond:$3,symbolDiamond2:R3,symbolPlus:L3,symbolSquare:O3,symbolSquare2:K3,symbolStar:G3,symbolTimes:Up,symbolTriangle:W3,symbolTriangle2:V3,symbolWye:q3,symbolX:Up,symbols:eC,symbolsFill:eC,symbolsStroke:Cye},Symbol.toStringTag,{value:"Module"})),aC=e=>{const t=e._y1!==void 0?e._y1:e._y;return t!=null&&e._y0!==null},iC=e=>t=>e.x(t._x1!==void 0?t._x1:t._x),Cm=e=>t=>e.y(t._y1!==void 0?t._y1:t._y),t1e=e=>t=>-1*e.x(t._x1!==void 0?t._x1:t._x)+Math.PI/2,lk=e=>`curve${(n=>n&&n[0].toUpperCase()+n.slice(1))(e)}`,n1e=e=>`${lk(e)}Closed`,Ff=e=>{const{interpolation:t}=e;if(typeof t=="function")return t;if(typeof t=="string"){const{polar:n,openCurve:r=!n}=e,s=r?lk(t):n1e(t);return e1e[s]}return zc},ck=e=>{const{polar:t,scale:n,horizontal:r}=e;return t?Ep().defined(aC).curve(Ff(e)).angle(t1e(n)).radius(Cm(n)):i0().defined(aC).curve(Ff(e)).x(r?Cm(n):iC(n)).y(r?iC(n):Cm(n))};function r1e(e,t,n){return`M ${e}, ${t}
      m ${-n}, 0
      a ${n}, ${n} 0 1,0 ${n*2},0
      a ${n}, ${n} 0 1,0 ${-n*2},0`}function s1e(e,t,n){const r=.87*n,s=e-r,a=t+r,A=e+r-s;return`M ${s}, ${a}
      h${A}
      v-${A}
      h-${A}
      z`}function a1e(e,t,n){const r=.87*n,s=Math.sqrt(2*(r*r));return`M ${e}, ${t+s}
      l ${s}, -${s}
      l -${s}, -${s}
      l -${s}, ${s}
      l ${s}, ${s}
      z`}function i1e(e,t,n){const r=n/2*Math.sqrt(3),s=e-n,a=e+n,A=t-n,o=t+r;return`M ${s}, ${A}
      L ${a}, ${A}
      L ${e}, ${o}
      z`}function A1e(e,t,n){const r=n/2*Math.sqrt(3),s=e-n,a=e+n,A=t-r,o=t+n;return`M ${s}, ${o}
      L ${a}, ${o}
      L ${e}, ${A}
      z`}function o1e(e,t,n){const r=1.1*n,s=r/1.5;return`
      M ${e-s/2}, ${t+r}
      v-${s}
      h-${s}
      v-${s}
      h${s}
      v-${s}
      h${s}
      v${s}
      h${s}
      v${s}
      h-${s}
      v${s}
      z`}function l1e(e,t,n){const r=.8*n,s=r/1.5;return`
      M ${e-s/2}, ${t+r+s}
      v-${s*2}
      h-${s}
      v-${s}
      h${s}
      v-${s}
      h${s}
      v${s}
      h${s}
      v${s}
      h-${s}
      v${s*2}
      z`}function c1e(e,t,n){const r=1.1*n,s=r-r*.3,a=e-r,A=t+s/2,o=e+r-a;return`M ${a}, ${A}
      h${o}
      v-${s}
      h-${o}
      z`}function u1e(e,t,n){const r=1.35*n,s=Math.PI/5;return`M ${_y(10).map(A=>{const o=A%2===0?r:r/2;return`${o*Math.sin(s*(A+1))+e},
        ${o*Math.cos(s*(A+1))+t}`}).join("L")} z`}const d1e=Object.freeze(Object.defineProperty({__proto__:null,circle:r1e,cross:l1e,diamond:a1e,minus:c1e,plus:o1e,square:s1e,star:u1e,triangleDown:i1e,triangleUp:A1e},Symbol.toStringTag,{value:"Module"})),f1e={blue:"#4F7DA1",pink:"#E2A37F",teal:"#00796B",purple:"#DF948A",green:"#8BC34A",orange:"#F4511E",cyan:"#006064",red:"#DF5A49",yellow:"#FFF59D"},uA=["#252525","#525252","#737373","#969696","#bdbdbd","#d9d9d9","#f0f0f0"],mn="#252525",_m="#969696",h1e=["#334D5C","#45B29D","#EFC94C","#E27A3F","#DF5A49","#4F7DA1","#55DBC1","#EFDA97","#E2A37F","#DF948A"],m1e=["#428517","#77D200","#D6D305","#EC8E19","#C92B05"],g1e=["#940031","#C43343","#DC5429","#FF821D","#FFAF55"],p1e=["#2746B9","#0B69D4","#2794DB","#31BB76","#60E83B"],x1e=["#FCAE91","#FB6A4A","#DE2D26","#A50F15","#750B0E"],v1e=["#354722","#466631","#649146","#8AB25C","#A9C97E"],y1e=["#002C61","#004B8F","#006BC9","#3795E5","#65B4F4"],b1e="'Gill Sans', 'Seravek', 'Trebuchet MS', sans-serif",w1e="normal",B1e=14,Ln={width:450,height:300,padding:50,colorScale:uA},Qt={fontFamily:b1e,fontSize:B1e,letterSpacing:w1e,padding:10,fill:mn,stroke:"transparent"},C1e=Object.assign({textAnchor:"middle"},Qt),_1e="round",S1e="round",j1e={palette:{colors:f1e,grayscale:uA,qualitative:h1e,heatmap:m1e,warm:g1e,cool:p1e,red:x1e,green:v1e,blue:y1e},area:Object.assign({style:{data:{fill:mn},labels:Qt}},Ln),axis:Object.assign({style:{axis:{fill:"transparent",stroke:mn,strokeWidth:1,strokeLinecap:_1e,strokeLinejoin:S1e},axisLabel:Object.assign({},C1e,{padding:25}),grid:{fill:"none",stroke:"none",pointerEvents:"painted"},ticks:{fill:"transparent",size:1,stroke:"transparent"},tickLabels:Qt}},Ln),bar:Object.assign({style:{data:{fill:mn,padding:8,strokeWidth:0},labels:Qt}},Ln),boxplot:Object.assign({style:{max:{padding:8,stroke:mn,strokeWidth:1},maxLabels:Object.assign({},Qt,{padding:3}),median:{padding:8,stroke:mn,strokeWidth:1},medianLabels:Object.assign({},Qt,{padding:3}),min:{padding:8,stroke:mn,strokeWidth:1},minLabels:Object.assign({},Qt,{padding:3}),q1:{padding:8,fill:_m},q1Labels:Object.assign({},Qt,{padding:3}),q3:{padding:8,fill:_m},q3Labels:Object.assign({},Qt,{padding:3})},boxWidth:20},Ln),candlestick:Object.assign({style:{data:{stroke:mn,strokeWidth:1},labels:Object.assign({},Qt,{padding:5})},candleColors:{positive:"#ffffff",negative:mn}},Ln),chart:Ln,errorbar:Object.assign({borderWidth:8,style:{data:{fill:"transparent",stroke:mn,strokeWidth:2},labels:Qt}},Ln),group:Object.assign({colorScale:uA},Ln),histogram:Object.assign({style:{data:{fill:_m,stroke:mn,strokeWidth:2},labels:Qt}},Ln),legend:{colorScale:uA,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:Qt,title:Object.assign({},Qt,{padding:5})}},line:Object.assign({style:{data:{fill:"transparent",stroke:mn,strokeWidth:2},labels:Qt}},Ln),pie:{style:{data:{padding:10,stroke:"transparent",strokeWidth:1},labels:Object.assign({},Qt,{padding:20})},colorScale:uA,width:400,height:400,padding:50},scatter:Object.assign({style:{data:{fill:mn,stroke:"transparent",strokeWidth:0},labels:Qt}},Ln),stack:Object.assign({colorScale:uA},Ln),tooltip:{style:Object.assign({},Qt,{padding:0,pointerEvents:"none"}),flyoutStyle:{stroke:mn,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},flyoutPadding:5,cornerRadius:5,pointerLength:10},voronoi:Object.assign({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:Object.assign({},Qt,{padding:5,pointerEvents:"none"}),flyout:{stroke:mn,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},Ln)},uk="#FFF59D",dk="#F4511E",N1e="#DCE775",fk="#8BC34A",hk="#00796B",mk="#006064",Su=[dk,uk,N1e,fk,hk,mk],Tp="#ECEFF1",Ip="#90A4AE",gn="#455A64",il="#212121",k1e={blue:"#4F7DA1",pink:"#E2A37F",teal:hk,purple:"#DF948A",green:fk,orange:dk,cyan:mk,red:"#DF5A49",yellow:uk},E1e=[Tp,Ip,gn,il],F1e=["#334D5C","#45B29D","#EFC94C","#E27A3F","#DF5A49","#4F7DA1","#55DBC1","#EFDA97","#E2A37F","#DF948A"],Q1e=["#428517","#77D200","#D6D305","#EC8E19","#C92B05"],U1e=["#940031","#C43343","#DC5429","#FF821D","#FFAF55"],T1e=["#2746B9","#0B69D4","#2794DB","#31BB76","#60E83B"],I1e=["#FCAE91","#FB6A4A","#DE2D26","#A50F15","#750B0E"],M1e=["#354722","#466631","#649146","#8AB25C","#A9C97E"],D1e=["#002C61","#004B8F","#006BC9","#3795E5","#65B4F4"],P1e="'Helvetica Neue', 'Helvetica', sans-serif",H1e="normal",$1e=12,gs=8,kn={width:350,height:350,padding:50},Ut={fontFamily:P1e,fontSize:$1e,letterSpacing:H1e,padding:gs,fill:gn,stroke:"transparent",strokeWidth:0},R1e=Object.assign({textAnchor:"middle"},Ut),L1e="10, 5",Sm="round",jm="round",O1e={palette:{colors:k1e,grayscale:E1e,qualitative:F1e,heatmap:Q1e,warm:U1e,cool:T1e,red:I1e,green:M1e,blue:D1e},area:Object.assign({style:{data:{fill:il},labels:Ut}},kn),axis:Object.assign({style:{axis:{fill:"transparent",stroke:Ip,strokeWidth:2,strokeLinecap:Sm,strokeLinejoin:jm},axisLabel:Object.assign({},R1e,{padding:gs,stroke:"transparent"}),grid:{fill:"none",stroke:Tp,strokeDasharray:L1e,strokeLinecap:Sm,strokeLinejoin:jm,pointerEvents:"painted"},ticks:{fill:"transparent",size:5,stroke:Ip,strokeWidth:1,strokeLinecap:Sm,strokeLinejoin:jm},tickLabels:Object.assign({},Ut,{fill:gn})}},kn),polarDependentAxis:Object.assign({style:{ticks:{fill:"transparent",size:1,stroke:"transparent"}}}),bar:Object.assign({style:{data:{fill:gn,padding:gs,strokeWidth:0},labels:Ut}},kn),boxplot:Object.assign({style:{max:{padding:gs,stroke:gn,strokeWidth:1},maxLabels:Object.assign({},Ut,{padding:3}),median:{padding:gs,stroke:gn,strokeWidth:1},medianLabels:Object.assign({},Ut,{padding:3}),min:{padding:gs,stroke:gn,strokeWidth:1},minLabels:Object.assign({},Ut,{padding:3}),q1:{padding:gs,fill:gn},q1Labels:Object.assign({},Ut,{padding:3}),q3:{padding:gs,fill:gn},q3Labels:Object.assign({},Ut,{padding:3})},boxWidth:20},kn),candlestick:Object.assign({style:{data:{stroke:gn},labels:Object.assign({},Ut,{padding:5})},candleColors:{positive:"#ffffff",negative:gn}},kn),chart:kn,errorbar:Object.assign({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:gn,strokeWidth:2},labels:Ut}},kn),group:Object.assign({colorScale:Su},kn),histogram:Object.assign({style:{data:{fill:gn,stroke:il,strokeWidth:2},labels:Ut}},kn),legend:{colorScale:Su,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:Ut,title:Object.assign({},Ut,{padding:5})}},line:Object.assign({style:{data:{fill:"transparent",opacity:1,stroke:gn,strokeWidth:2},labels:Ut}},kn),pie:Object.assign({colorScale:Su,style:{data:{padding:gs,stroke:Tp,strokeWidth:1},labels:Object.assign({},Ut,{padding:20})}},kn),scatter:Object.assign({style:{data:{fill:gn,opacity:1,stroke:"transparent",strokeWidth:0},labels:Ut}},kn),stack:Object.assign({colorScale:Su},kn),tooltip:{style:Object.assign({},Ut,{padding:0,pointerEvents:"none"}),flyoutStyle:{stroke:il,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},flyoutPadding:5,cornerRadius:5,pointerLength:10},voronoi:Object.assign({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:Object.assign({},Ut,{padding:5,pointerEvents:"none"}),flyout:{stroke:il,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},kn)},tt={white:"#FFFFFF",50:"#FAFAFA",100:"#F2F2F2",200:"#E8E8E8",300:"#E0E0E0",400:"#D1D1D1",500:"#757575",600:"#5C5C5C",700:"#424242",800:"#333333",900:"#292929",black:"#0F0F0F"},Qf={100:"#FFEAB6",300:"#FFD66E",500:"#FCB400",900:"#B87503"},Uf={100:"#FEE2D5",300:"#FFA981",500:"#FF6F2C",700:"#FF4E1B",900:"#D74D26"},Gc={100:"#FFDCE5",300:"#FF9EB7",500:"#F82B60",700:"#D31A3D",900:"#BA1E45"},gk={100:"#EDE3FE",300:"#CDB0FF",500:"#8B46FF",900:"#6B1CB0"},Wc={100:"#CFDFFF",300:"#9CC7FF",500:"#2D7FF9",700:"#0056B3",900:"#2750AE"},m1={100:"#D0F0FD",300:"#77D1F3",500:"#18BFFF",900:"#0B76B7"},pk={100:"#C2F5E9",300:"#72DDC3",500:"#20D9D2",900:"#06A09B"},ao={100:"#D1F7C4",300:"#93E088",500:"#20C933",700:"#1B9B2A",900:"#338A17"},xk={blue:Wc[500],cyan:m1[500],green:ao[500],yellow:Qf[500],orange:Uf[500],red:Gc[500],purple:gk[500],teal:pk[500]},ea=Object.values(xk),K1e=[tt[100],tt[300],tt[500],tt[700],tt[900]],z1e=[Qf[300],Qf[500],Uf[500],Uf[900],Gc[500]],G1e=[gk[500],Wc[500],m1[500],pk[500],ao[500]],W1e=[ao[900],ao[500],Qf[500],Uf[500],Gc[500]],V1e=Object.values(Gc),q1e=Object.values(ao),X1e=Object.values(Wc),zo=Wc[500],Y1e="'Inter', 'Helvetica Neue', 'Seravek', 'Helvetica', sans-serif",J1e="normal",Z1e=12,ps=8,En={width:450,height:300,padding:60,colorScale:ea},yt={fontFamily:Y1e,fontSize:Z1e,fontWeight:300,letterSpacing:J1e,padding:ps,fill:tt[900],stroke:"transparent"},ebe=Object.assign({textAnchor:"middle"},yt),AC="10, 5",Ka="round",eA="round",za=1,tbe={palette:{colors:xk,grayscale:K1e,qualitative:ea,heatmap:W1e,warm:z1e,cool:G1e,red:V1e,green:q1e,blue:X1e},area:Object.assign({style:{data:{fill:zo,strokeWidth:2,fillOpacity:.5},labels:yt}},En),axis:Object.assign({style:{axis:{fill:"transparent",stroke:tt[500],strokeWidth:1,strokeLinecap:Ka,strokeLinejoin:eA},axisLabel:Object.assign({},ebe,{padding:35,stroke:"transparent"}),grid:{fill:"none",stroke:"none",painterEvents:"painted"},ticks:{fill:"transparent",size:5,stroke:"transparent"},tickLabels:yt}},En),polarAxis:Object.assign({style:{axis:{stroke:tt[500]},grid:{stroke:tt[400],strokeDasharray:AC,strokeLinecap:Ka,strokeLinejoin:eA,pointerEvents:"painted"},ticks:{fill:"transparent",size:5,stroke:tt[400],strokeWidth:1,strokeLinecap:Ka,strokeLinejoin:eA},tickLabels:yt}}),polarDependentAxis:Object.assign({style:{axis:{stroke:tt[500]},grid:{stroke:tt[400],strokeDasharray:AC,strokeLinecap:Ka,strokeLinejoin:eA,pointerEvents:"painted"},ticks:{fill:"transparent",size:5,stroke:tt[300],strokeWidth:1,strokeLinecap:Ka,strokeLinejoin:eA},tickLabels:yt}}),bar:Object.assign({style:{data:{fill:zo,padding:ps,strokeWidth:1,fillOpacity:.5},labels:yt},cornerRadius:{top:za}},En),boxplot:Object.assign({style:{max:{padding:ps,stroke:tt[400],strokeWidth:2},maxLabels:Object.assign({},yt,{padding:3}),median:{padding:ps,stroke:tt.white,strokeWidth:2},medianLabels:Object.assign({},yt,{padding:3}),min:{padding:ps,stroke:tt[400],strokeWidth:2},minLabels:Object.assign({},yt,{padding:3}),q1:{padding:ps,fill:ea[0],rx:za,strokeWidth:2},q1Labels:Object.assign({},yt,{padding:3}),q3:{padding:ps,fill:ea[1],rx:za},q3Labels:Object.assign({},yt,{padding:3})},boxWidth:20},En),candlestick:Object.assign({style:{data:{stroke:tt[300],strokeWidth:0,rx:za},labels:Object.assign({},yt,{padding:5})},candleColors:{positive:ao[500],negative:Gc[500]},wickStrokeWidth:2},En),chart:En,errorbar:Object.assign({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:tt[700],strokeWidth:2,strokeLinecap:Ka},labels:yt}},En),group:Object.assign({colorScale:ea},En),histogram:Object.assign({style:{data:{fill:m1[500],fillOpacity:.5},labels:yt},binSpacing:4,cornerRadius:{top:za}},En),label:yt,legend:{colorScale:ea,gutter:24,borderPadding:10,orientation:"horizontal",titleOrientation:"top",centerTitle:!0,style:{data:{type:"circle"},labels:{...yt,fontSize:12},title:Object.assign({},yt,{padding:ps,fontSize:16}),border:{stroke:tt[200],strokeWidth:2,padding:16}}},line:Object.assign({style:{data:{fill:"transparent",opacity:1,stroke:zo,strokeWidth:2,strokeLinecap:Ka,strokeLinejoin:eA},labels:yt}},En),pie:Object.assign({style:{parent:{backgroundColor:tt.white},data:{padding:ps,stroke:tt.white,strokeWidth:1},labels:{...yt,padding:20,fill:tt[600],fontSize:10}},colorScale:ea,cornerRadius:za},En),scatter:Object.assign({style:{data:{fill:zo,opacity:1,stroke:"transparent",strokeWidth:0},labels:{...yt,padding:20}}},En),stack:Object.assign({colorScale:ea},En),tooltip:{style:Object.assign({},yt,{padding:0,pointerEvents:"none"}),flyoutStyle:{stroke:tt[300],strokeWidth:2,fill:tt.white,pointerEvents:"none"},flyoutPadding:{top:8,bottom:8,left:16,right:16},cornerRadius:za,pointerLength:4},voronoi:Object.assign({style:{data:{fill:Wc[100],stroke:zo,strokeWidth:2},labels:Object.assign({},yt,{padding:5,pointerEvents:"none"}),flyout:{stroke:tt[900],strokeWidth:1,fill:tt[100],pointerEvents:"none"},padding:{left:2,bottom:2}}},En)},Bo={grayscale:j1e,material:O1e,clean:tbe},Mp=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0)return n.reduce((a,A)=>[a,Mp(A)].join(" "),Mp(e)).trim();if(e==null||typeof e=="string")return e;const s=[];for(const a in e)if(e.hasOwnProperty(a)){const A=e[a];s.push(`${a}(${A})`)}return s.join(" ").trim()},oC={"American Typewriter":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.25,.4203125,.3296875,.6,.6375,.8015625,.8203125,.1875,.45625,.45625,.6375,.5,.2734375,.309375,.2734375,.4390625,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.6375,.2734375,.2734375,.5,.5,.5,.6,.6921875,.7640625,.6921875,.6375,.728125,.6734375,.6203125,.7109375,.784375,.3828125,.6421875,.7859375,.6375,.9484375,.7640625,.65625,.6375,.65625,.7296875,.6203125,.6375,.7109375,.740625,.940625,.784375,.7578125,.6203125,.4375,.5,.4375,.5,.5,.4921875,.5734375,.5890625,.5109375,.6,.528125,.43125,.5578125,.6375,.3109375,.40625,.6234375,.309375,.928125,.6375,.546875,.6,.58125,.4921875,.4921875,.4,.6203125,.625,.825,.6375,.640625,.528125,.5,.5,.5,.6671875],avg:.5793421052631578},Arial:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.278125,.278125,.35625,.55625,.55625,.890625,.6671875,.1921875,.334375,.334375,.390625,.584375,.278125,.334375,.278125,.278125,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.278125,.278125,.584375,.584375,.584375,.55625,1.015625,.6703125,.6671875,.7234375,.7234375,.6671875,.6109375,.778125,.7234375,.278125,.5,.6671875,.55625,.834375,.7234375,.778125,.6671875,.778125,.7234375,.6671875,.6109375,.7234375,.6671875,.9453125,.6671875,.6671875,.6109375,.278125,.278125,.278125,.4703125,.584375,.334375,.55625,.55625,.5,.55625,.55625,.3125,.55625,.55625,.2234375,.2703125,.5,.2234375,.834375,.55625,.55625,.55625,.55625,.346875,.5,.278125,.55625,.5,.7234375,.5,.5,.5,.334375,.2609375,.334375,.584375],avg:.528733552631579},"Arial Black":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.33125,.334375,.5,.6609375,.6671875,1,.890625,.278125,.390625,.390625,.55625,.6609375,.334375,.334375,.334375,.28125,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.334375,.334375,.6609375,.6609375,.6609375,.6109375,.7453125,.78125,.778125,.778125,.778125,.7234375,.6671875,.834375,.834375,.390625,.6671875,.834375,.6671875,.9453125,.834375,.834375,.7234375,.834375,.78125,.7234375,.7234375,.834375,.7796875,1.003125,.78125,.78125,.7234375,.390625,.28125,.390625,.6609375,.5125,.334375,.6671875,.6671875,.6671875,.6671875,.6671875,.41875,.6671875,.6671875,.334375,.384375,.6671875,.334375,1,.6671875,.6671875,.6671875,.6671875,.4703125,.6109375,.4453125,.6671875,.6140625,.946875,.6671875,.615625,.55625,.390625,.278125,.390625,.6609375],avg:.6213157894736842},Baskerville:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.25,.25,.40625,.6671875,.490625,.875,.7015625,.178125,.2453125,.246875,.4171875,.6671875,.25,.3125,.25,.521875,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.25,.25,.6671875,.6671875,.6671875,.396875,.9171875,.684375,.615625,.71875,.7609375,.625,.553125,.771875,.803125,.3546875,.515625,.78125,.6046875,.928125,.75,.8234375,.5625,.96875,.7296875,.5421875,.6984375,.771875,.7296875,.9484375,.771875,.678125,.6359375,.3640625,.521875,.3640625,.46875,.5125,.334375,.46875,.521875,.428125,.521875,.4375,.3890625,.4765625,.53125,.25,.359375,.4640625,.240625,.803125,.53125,.5,.521875,.521875,.365625,.334375,.2921875,.521875,.4640625,.678125,.4796875,.465625,.428125,.4796875,.5109375,.4796875,.6671875],avg:.5323519736842108},Courier:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5984375,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6078125,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.61875,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.615625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6140625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625],avg:.6020559210526316},"Courier New":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5984375,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625],avg:.6015296052631579},cursive:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.1921875,.24375,.40625,.5671875,.3984375,.721875,.909375,.2328125,.434375,.365625,.4734375,.5578125,.19375,.3484375,.19375,.7734375,.503125,.4171875,.5453125,.45,.6046875,.4703125,.5984375,.55625,.503125,.5546875,.20625,.2,.5625,.5546875,.546875,.403125,.70625,.734375,.7078125,.64375,.85,.753125,.75,.6484375,1.0765625,.44375,.5359375,.8359375,.653125,1.0109375,1.1515625,.6796875,.6984375,1.0625,.8234375,.5125,.9234375,.8546875,.70625,.9109375,.7421875,.715625,.6015625,.4640625,.3359375,.4109375,.5421875,.5421875,.4328125,.5125,.5,.3859375,.7375,.359375,.75625,.540625,.5328125,.3203125,.5296875,.5015625,.484375,.7890625,.5640625,.4203125,.703125,.471875,.4734375,.35,.4125,.5640625,.471875,.6484375,.5296875,.575,.4140625,.415625,.20625,.3796875,.5421875],avg:.5604440789473684},fantasy:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.215625,.2625,.3265625,.6109375,.534375,.7625,.7828125,.2,.4359375,.4359375,.3765625,.5109375,.2796875,.4609375,.2796875,.5296875,.6640625,.253125,.521875,.4765625,.6640625,.490625,.528125,.5546875,.496875,.5421875,.2796875,.2796875,.5625,.4609375,.5625,.4828125,.609375,.740625,.7234375,.740625,.8265625,.7234375,.6171875,.7359375,.765625,.240625,.5453125,.715625,.6078125,.8640625,.653125,.9125,.6484375,.946875,.6921875,.653125,.6953125,.8015625,.58125,.784375,.671875,.6265625,.690625,.4359375,.5296875,.4359375,.53125,.5,.2875,.5375,.603125,.4984375,.60625,.53125,.434375,.6421875,.56875,.209375,.4671875,.5484375,.2203125,.709375,.55,.5984375,.6140625,.5765625,.40625,.4734375,.3734375,.559375,.4421875,.6421875,.4890625,.578125,.4484375,.2546875,.2203125,.2546875,.55],avg:.536496710526316},Geneva:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.3328125,.3046875,.5,.6671875,.6671875,.90625,.728125,.3046875,.446875,.446875,.5078125,.6671875,.3046875,.3796875,.3046875,.5390625,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.6671875,.3046875,.3046875,.6671875,.6671875,.6671875,.56875,.871875,.728125,.6375,.6515625,.7015625,.5765625,.5546875,.675,.690625,.2421875,.4921875,.6640625,.584375,.7890625,.709375,.7359375,.584375,.78125,.60625,.60625,.640625,.6671875,.728125,.946875,.6109375,.6109375,.5765625,.446875,.5390625,.446875,.6671875,.6671875,.5921875,.5546875,.6109375,.546875,.603125,.5765625,.390625,.6109375,.584375,.2359375,.334375,.5390625,.2359375,.8953125,.584375,.60625,.603125,.603125,.3875,.509375,.44375,.584375,.565625,.78125,.53125,.571875,.5546875,.4515625,.246875,.4515625,.6671875],avg:.5762664473684211},Georgia:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2421875,.33125,.4125,.64375,.6109375,.81875,.7109375,.215625,.375,.375,.4734375,.64375,.2703125,.375,.2703125,.46875,.6140625,.4296875,.559375,.553125,.565625,.5296875,.5671875,.503125,.596875,.5671875,.3125,.3125,.64375,.64375,.64375,.4796875,.9296875,.715625,.6546875,.6421875,.75,.6546875,.6,.7265625,.815625,.390625,.51875,.7203125,.6046875,.928125,.7671875,.7453125,.6109375,.7453125,.7234375,.5625,.61875,.7578125,.70625,.99375,.7125,.6640625,.6015625,.375,.46875,.375,.64375,.65,.5,.5046875,.56875,.4546875,.575,.484375,.39375,.509375,.5828125,.29375,.3671875,.546875,.2875,.88125,.5921875,.5390625,.571875,.5640625,.4109375,.4328125,.3453125,.5765625,.5203125,.75625,.50625,.5171875,.4453125,.43125,.375,.43125,.64375],avg:.5551809210526316},"Gill Sans":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2765625,.271875,.3546875,.584375,.5421875,.6765625,.625,.1890625,.3234375,.3234375,.4171875,.584375,.2203125,.3234375,.2203125,.28125,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.2203125,.2296875,.584375,.584375,.584375,.334375,1.0109375,.6671875,.5640625,.709375,.75,.5,.4703125,.740625,.7296875,.25,.3125,.65625,.490625,.78125,.78125,.8234375,.5109375,.8234375,.6046875,.459375,.6046875,.709375,.6046875,1.0421875,.709375,.6046875,.646875,.334375,.28125,.334375,.4703125,.5828125,.334375,.428125,.5,.4390625,.5109375,.4796875,.296875,.428125,.5,.2203125,.2265625,.5,.2203125,.771875,.5,.553125,.5,.5,.3984375,.3859375,.334375,.5,.4390625,.7203125,.5,.4390625,.4171875,.334375,.2609375,.334375,.584375],avg:.4933717105263159},Helvetica:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625],avg:.5279276315789471},"Helvetica Neue":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.278125,.259375,.4265625,.55625,.55625,1,.6453125,.278125,.2703125,.26875,.353125,.6,.278125,.3890625,.278125,.36875,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.278125,.278125,.6,.6,.6,.55625,.8,.6625,.6859375,.7234375,.7046875,.6125,.575,.759375,.7234375,.259375,.5203125,.6703125,.55625,.871875,.7234375,.7609375,.6484375,.7609375,.6859375,.6484375,.575,.7234375,.6140625,.9265625,.6125,.6484375,.6125,.259375,.36875,.259375,.6,.5,.25625,.5375,.59375,.5375,.59375,.5375,.2984375,.575,.55625,.2234375,.2375,.5203125,.2234375,.853125,.55625,.575,.59375,.59375,.334375,.5,.315625,.55625,.5,.759375,.51875,.5,.48125,.334375,.2234375,.334375,.6],avg:.5279440789473684},"Hoefler Text":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2359375,.2234375,.3921875,.7125,.49375,.8859375,.771875,.2125,.3078125,.309375,.375,.4234375,.234375,.3125,.234375,.3,.5828125,.365625,.434375,.3921875,.5234375,.3984375,.5125,.4328125,.46875,.5125,.234375,.234375,.515625,.4234375,.515625,.340625,.7609375,.7359375,.6359375,.721875,.8125,.6375,.5875,.8078125,.853125,.4296875,.503125,.78125,.609375,.9609375,.8515625,.8140625,.6125,.8140625,.71875,.49375,.7125,.76875,.771875,1.125,.7765625,.7734375,.65625,.321875,.3078125,.321875,.3546875,.5,.3375,.446875,.5359375,.45,.5296875,.4546875,.425,.4921875,.54375,.2671875,.240625,.5390625,.25,.815625,.5375,.5234375,.5390625,.5421875,.365625,.36875,.35625,.5171875,.5015625,.75,.5,.509375,.44375,.2421875,.14375,.2421875,.35],avg:.5116447368421051},Inter:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2890625,.4671875,.634375,.6421875,.9828125,.6453125,.3,.365625,.365625,.5015625,.6625,.2890625,.4609375,.2890625,.3609375,.63125,.4078125,.6109375,.61875,.646875,.59375,.6203125,.5671875,.61875,.6203125,.2890625,.303125,.6625,.6625,.6625,.5125,.9671875,.690625,.6546875,.73125,.721875,.6015625,.590625,.746875,.74375,.26875,.571875,.671875,.565625,.9046875,.7546875,.765625,.6390625,.765625,.64375,.6421875,.646875,.7453125,.690625,.9859375,.6828125,.6796875,.6296875,.365625,.3609375,.365625,.471875,.45625,.3234375,.5625,.6125,.571875,.6125,.584375,.3703125,.6140625,.5921875,.2421875,.2548828125,.55,.2421875,.8765625,.5921875,.6,.6125,.6125,.3765625,.528125,.328125,.5921875,.5625,.81875,.546875,.5625,.553125,.4265625,.3328125,.4265625,.6625],avg:.5624362664473683},Montserrat:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2625,.2609375,.3734375,.696875,.615625,.8296875,.6703125,.203125,.3296875,.3296875,.3875,.575,.2125,.3828125,.2125,.3953125,.6625,.3625,.56875,.5640625,.6625,.5671875,.609375,.5890625,.6390625,.609375,.2125,.2125,.575,.575,.575,.5671875,1.034375,.7171875,.7546875,.7203125,.8265625,.6703125,.634375,.7734375,.8140625,.303125,.5078125,.7125,.5890625,.95625,.8140625,.8390625,.71875,.8390625,.7234375,.615625,.575,.7921875,.6984375,1.1125,.65625,.6359375,.6515625,.31875,.396875,.31875,.5765625,.5,.6,.590625,.678125,.5640625,.678125,.6046875,.375,.6875,.678125,.2703125,.365625,.6015625,.2703125,1.0625,.678125,.628125,.678125,.678125,.4015625,.4890625,.40625,.6734375,.5421875,.8796875,.534375,.5671875,.5125,.334375,.2953125,.334375,.575],avg:.571792763157895},monospace:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.5984375,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6078125,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.61875,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.615625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6140625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625,.6015625],avg:.6020559210526316},Overpass:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2296875,.2765625,.4203125,.68125,.584375,.8515625,.7015625,.2203125,.3453125,.3453125,.53125,.63125,.2234375,.3953125,.2234375,.509375,.65,.4046875,.6171875,.60625,.6484375,.60625,.6015625,.5375,.615625,.6015625,.2234375,.2234375,.63125,.63125,.63125,.5015625,.8203125,.696875,.6671875,.65,.6859375,.6015625,.559375,.690625,.7078125,.2953125,.565625,.678125,.58125,.8046875,.7109375,.740625,.6421875,.740625,.6765625,.6046875,.590625,.696875,.6640625,.853125,.65,.6671875,.6625,.3734375,.509375,.3734375,.63125,.5125,.4,.5328125,.5625,.51875,.5625,.546875,.3359375,.5625,.565625,.25625,.3203125,.55,.265625,.85,.565625,.5671875,.5625,.5625,.4046875,.4765625,.3796875,.565625,.521875,.7265625,.53125,.5390625,.5125,.3671875,.275,.3671875,.63125],avg:.5430756578947369},Palatino:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.25,.278125,.371875,.60625,.5,.840625,.778125,.209375,.334375,.334375,.390625,.60625,.2578125,.334375,.25,.60625,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.25,.25,.60625,.60625,.60625,.4453125,.7484375,.778125,.6109375,.709375,.775,.6109375,.55625,.7640625,.8328125,.3375,.346875,.7265625,.6109375,.946875,.83125,.7875,.6046875,.7875,.66875,.525,.6140625,.778125,.7234375,1,.6671875,.6671875,.6671875,.334375,.60625,.334375,.60625,.5,.334375,.5,.565625,.4453125,.6109375,.4796875,.340625,.55625,.5828125,.2921875,.2671875,.5640625,.2921875,.8828125,.5828125,.546875,.6015625,.5609375,.3953125,.425,.3265625,.603125,.565625,.834375,.5171875,.55625,.5,.334375,.60625,.334375,.60625],avg:.5408552631578947},RedHatText:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2328125,.2203125,.35625,.6890625,.55,.7390625,.6703125,.2140625,.4015625,.4015625,.4546875,.53125,.2203125,.45625,.2203125,.515625,.6609375,.3078125,.5484375,.5875,.61875,.5703125,.6203125,.559375,.6140625,.6203125,.2203125,.2234375,.465625,.534375,.465625,.5125,.7671875,.6609375,.6703125,.7265625,.728125,.6203125,.6109375,.8,.73125,.253125,.6,.6125,.6078125,.8625,.7390625,.8109375,.6546875,.809375,.6484375,.6234375,.6171875,.7125,.6609375,.8984375,.6546875,.646875,.60625,.3625,.5203125,.3625,.540625,.4609375,.5234375,.5265625,.584375,.509375,.5828125,.5578125,.3703125,.5828125,.553125,.2234375,.24375,.4890625,.2234375,.8453125,.553125,.58125,.584375,.5828125,.353125,.453125,.378125,.553125,.5015625,.6984375,.4875,.4984375,.459375,.3953125,.2921875,.3953125,.58125],avg:.5341940789473685},"sans-serif":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.278125,.278125,.35625,.55625,.55625,.890625,.6671875,.1921875,.334375,.334375,.390625,.584375,.278125,.334375,.278125,.303125,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.55625,.278125,.278125,.5859375,.584375,.5859375,.55625,1.015625,.6671875,.6671875,.7234375,.7234375,.6671875,.6109375,.778125,.7234375,.278125,.5,.6671875,.55625,.834375,.7234375,.778125,.6671875,.778125,.7234375,.6671875,.6109375,.7234375,.6671875,.9453125,.6671875,.6671875,.6109375,.278125,.35625,.278125,.478125,.55625,.334375,.55625,.55625,.5,.55625,.55625,.278125,.55625,.55625,.2234375,.2421875,.5,.2234375,.834375,.55625,.55625,.55625,.55625,.334375,.5,.278125,.55625,.5,.7234375,.5,.5,.5,.35625,.2609375,.3546875,.590625],avg:.5293256578947368},Seravek:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.215625,.296875,.4171875,.6734375,.4953125,.9125,.740625,.2421875,.3375,.3375,.409375,.60625,.2609375,.35625,.25625,.41875,.5921875,.3515625,.475,.4875,.5375,.509375,.5484375,.4546875,.5421875,.5484375,.25625,.2546875,.5875,.6171875,.5875,.4578125,.8140625,.6765625,.5703125,.6109375,.684375,.5109375,.4953125,.678125,.6859375,.2625,.2625,.5859375,.4734375,.846875,.709375,.740625,.509375,.740625,.584375,.5015625,.528125,.675,.5953125,.9453125,.596875,.540625,.540625,.359375,.4203125,.359375,.5109375,.421875,.4046875,.5015625,.5421875,.446875,.5453125,.484375,.38125,.5140625,.5546875,.240625,.2640625,.490625,.2765625,.8625,.5546875,.546875,.5453125,.5453125,.3625,.41875,.3890625,.5453125,.4703125,.7546875,.4921875,.4609375,.453125,.4015625,.2640625,.4015625,.58125],avg:.5044078947368421},serif:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2484375,.334375,.409375,.5,.5,.834375,.778125,.18125,.334375,.334375,.5,.5640625,.25,.334375,.25,.278125,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.278125,.278125,.5640625,.5640625,.5640625,.4453125,.921875,.7234375,.6671875,.6671875,.7234375,.6109375,.55625,.7234375,.7234375,.334375,.390625,.7234375,.6109375,.890625,.7234375,.7234375,.55625,.7234375,.6671875,.55625,.6109375,.7234375,.7234375,.9453125,.7234375,.7234375,.6109375,.334375,.340625,.334375,.4703125,.5,.3453125,.4453125,.5,.4453125,.5,.4453125,.3828125,.5,.5,.278125,.3359375,.5,.278125,.778125,.5,.5,.5,.5,.3375,.390625,.2796875,.5,.5,.7234375,.5,.5,.4453125,.48125,.2015625,.48125,.5421875],avg:.5126315789473684},Tahoma:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.3109375,.3328125,.4015625,.728125,.546875,.9765625,.70625,.2109375,.3828125,.3828125,.546875,.728125,.303125,.3640625,.303125,.3953125,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.546875,.3546875,.3546875,.728125,.728125,.728125,.475,.909375,.6109375,.590625,.6015625,.6796875,.5625,.521875,.66875,.6765625,.3734375,.4171875,.6046875,.4984375,.771875,.66875,.7078125,.5515625,.7078125,.6375,.5578125,.5875,.65625,.60625,.903125,.58125,.5890625,.559375,.3828125,.39375,.3828125,.728125,.5625,.546875,.525,.553125,.4625,.553125,.5265625,.3546875,.553125,.5578125,.2296875,.328125,.51875,.2296875,.840625,.5578125,.54375,.553125,.553125,.3609375,.446875,.3359375,.5578125,.4984375,.7421875,.4953125,.4984375,.4453125,.48125,.3828125,.48125,.728125],avg:.5384374999999998},"Times New Roman":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2484375,.334375,.409375,.5,.5,.834375,.778125,.18125,.334375,.334375,.5,.5640625,.25,.334375,.25,.28125,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.278125,.278125,.5640625,.5640625,.5640625,.4453125,.921875,.7234375,.6671875,.6671875,.7234375,.6109375,.55625,.7234375,.7234375,.334375,.390625,.73125,.6109375,.890625,.7375,.7234375,.55625,.7234375,.6765625,.55625,.6109375,.7234375,.7234375,.9453125,.7234375,.7234375,.6109375,.334375,.28125,.334375,.4703125,.51875,.334375,.4453125,.503125,.4453125,.503125,.4453125,.4359375,.5,.5,.278125,.35625,.50625,.278125,.778125,.5,.5,.5046875,.5,.340625,.390625,.2796875,.5,.5,.7234375,.5,.5,.4453125,.48125,.2015625,.48125,.5421875],avg:.5134375},"Trebuchet MS":{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.3015625,.3671875,.325,.53125,.525,.6015625,.70625,.1609375,.3671875,.3671875,.3671875,.525,.3671875,.3671875,.3671875,.525,.525,.525,.525,.525,.525,.525,.525,.525,.525,.525,.3671875,.3671875,.525,.525,.525,.3671875,.771875,.590625,.5671875,.5984375,.6140625,.5359375,.525,.6765625,.6546875,.2796875,.4765625,.5765625,.5078125,.7109375,.6390625,.675,.5578125,.7421875,.5828125,.48125,.58125,.6484375,.5875,.853125,.5578125,.5703125,.5515625,.3671875,.3578125,.3671875,.525,.53125,.525,.5265625,.5578125,.4953125,.5578125,.546875,.375,.503125,.546875,.2859375,.3671875,.5046875,.2953125,.83125,.546875,.5375,.5578125,.5578125,.3890625,.40625,.396875,.546875,.490625,.7453125,.5015625,.49375,.475,.3671875,.525,.3671875,.525],avg:.5085197368421052},Verdana:{widths:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.35,.39375,.459375,.81875,.6359375,1.0765625,.759375,.26875,.4546875,.4546875,.6359375,.81875,.3640625,.4546875,.3640625,.4703125,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.6359375,.4546875,.4546875,.81875,.81875,.81875,.546875,1,.684375,.6859375,.6984375,.771875,.6328125,.575,.7765625,.7515625,.421875,.4546875,.69375,.5578125,.84375,.7484375,.7875,.603125,.7875,.7,.684375,.6171875,.7328125,.684375,.9890625,.6859375,.615625,.6859375,.4546875,.46875,.4546875,.81875,.6421875,.6359375,.6015625,.6234375,.521875,.6234375,.596875,.384375,.6234375,.6328125,.275,.3765625,.5921875,.275,.9734375,.6328125,.6078125,.6234375,.6234375,.43125,.521875,.3953125,.6328125,.5921875,.81875,.5921875,.5921875,.5265625,.6359375,.4546875,.6359375,.81875],avg:.6171875000000003}},lC={mm:3.8,sm:38,pt:1.33,pc:16,in:96,px:1},cC={em:1,ex:.5},vk={heightOverlapCoef:1.05,lineCapitalCoef:1.15},yk={lineHeight:1,letterSpacing:"0px",fontSize:0,angle:0,fontFamily:""},nbe=e=>e*Math.PI/180,rbe=e=>{const n=e.split(",").map(r=>r.replace(/'|"/g,"")).find(r=>oC[r])||"Helvetica";return oC[n]},g1=e=>Array.isArray(e)?e:e.toString().split(/\r\n|\r|\n/g),Tf=(e,t,n)=>{const r=nbe(n);return Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t)},Dp=(e,t)=>{var a;const n=(a=e.match(/[a-zA-Z%]+/))==null?void 0:a[0],r=Number(e.match(/[0-9.,]+/));let s;return n?lC.hasOwnProperty(n)?s=r*lC[n]:cC.hasOwnProperty(n)?s=(t?r*t:r*yk.fontSize)*cC[n]:s=r:s=r||0,s},p1=(e,t)=>{const n=Array.isArray(e)?e[t]:e,r=we({},n,yk);return Object.assign({},r,{fontFamily:r.fontFamily,letterSpacing:typeof r.letterSpacing=="number"?r.letterSpacing:Dp(String(r.letterSpacing),r.fontSize),fontSize:typeof r.fontSize=="number"?r.fontSize:Dp(String(r.fontSize))})},sbe=(e,t)=>{if(e===void 0||e===""||e===null)return 0;const n=g1(e).map((r,s)=>{const a=r.toString().length,{fontSize:A,letterSpacing:o,fontFamily:l}=p1(t,s),u=rbe(l);return r.toString().split("").map(c=>c.charCodeAt(0)<u.widths.length?u.widths[c.charCodeAt(0)]:u.avg).reduce((c,d)=>d+c,0)*A+o*Math.max(a-1,0)});return Math.max(...n)},abe=(e,t)=>e===void 0||e===""||e===null?0:g1(e).reduce((n,r,s)=>{const a=p1(t,s),o=r.toString().match(/[(A-Z)(0-9)]/)?a.fontSize*vk.lineCapitalCoef:a.fontSize;return n+a.lineHeight*o},0),ibe=(e,t)=>{const n=Array.isArray(t)?t[0]&&t[0].angle:t&&t.angle,r=abe(e,t),s=sbe(e,t),a=n?Tf(s,r,n):s,A=n?Tf(r,s,n):r;return{width:a,height:A*vk.heightOverlapCoef}},Nm=FN(()=>{const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("xlink","http://www.w3.org/1999/xlink"),e.setAttribute("width","300"),e.setAttribute("height","300"),e.setAttribute("viewBox","0 0 300 300"),e.setAttribute("aria-hidden","true");const t=document.createElementNS("http://www.w3.org/2000/svg","text");return e.appendChild(t),e.style.position="fixed",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e),t}),uC=e=>e?`${e.angle}:${e.fontFamily}:${e.fontSize}:${e.letterSpacing}:${e.lineHeight}`:"null",Abe=FN((e,t)=>{var A,o;let n=Nm();n.isConnected||((o=(A=Nm.cache).clear)==null||o.call(A),n=Nm());const r=g1(e);let s=0;for(const[l,u]of r.entries()){const f=document.createElementNS("http://www.w3.org/2000/svg","tspan"),c=p1(t,l);f.style.fontFamily=c.fontFamily,f.style.fontSize=`${c.fontSize}px`,f.style.lineHeight=c.lineHeight,f.style.fontFamily=c.fontFamily,f.style.letterSpacing=c.letterSpacing,f.textContent=u,f.setAttribute("x","0"),f.setAttribute("y",`${s}`),n.appendChild(f),s+=c.lineHeight*f.getBoundingClientRect().height}const{width:a}=n.getBoundingClientRect();return n.innerHTML="",{width:t!=null&&t.angle?Tf(a,s,t==null?void 0:t.angle):a,height:t!=null&&t.angle?Tf(s,a,t==null?void 0:t.angle):s}},(e,t)=>{const n=Array.isArray(e)?e.join():e,r=Array.isArray(t)?t.map(uC).join():uC(t);return`${n}::${r}`}),obe={impl:function(e,t,n){return n===void 0&&(n=!1),!(typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u")||n?ibe(e,t):Abe(e,t)}},bk=(e,t)=>obe.impl(e,t);var lbe=Wh,cbe=j6;function ube(e,t){return e&&e.length?cbe(e,lbe(t)):[]}var dbe=ube;const fbe=xt(dbe);function hbe(e,t,n){const{datasets:r,horizontal:s}=e,a=s?zt(e,"y"):zt(e,"x"),A=Math.abs(a[1]-a[0]),o=n!==void 0?n:Array.isArray(r[0])&&r[0].length||1,u=(t||r.length)*o;return Math.round(.5*A/u)}function mbe(e,t,n){if(e.polar||t!=="x")return;const r=n.filter(f=>f.type&&f.type.role&&f.type.role==="group");if(r.length<1)return;const{offset:s,children:a}=r[0].props;if(!s)return;const A=Array.isArray(a)&&a[0];if(!A)return;let o=A.props.barWidth,l=A.props.data&&A.props.data.length||1;if(A&&A.type.role==="stack"){const f=A.props.children&&A.props.children[0];if(!f)return;o=f.props.barWidth,l=A.props.children.length}const u=o||hbe(e,a.length,l);return{x:u*a.length/2+(s-u*((a.length-1)/2))}}function gbe(e,t,n){const r=n?n.slice(0):P.Children.toArray(e.children),s=e.data?Lr(e):void 0,{polar:a,startAngle:A,endAngle:o,categories:l,minDomain:u,maxDomain:f,horizontal:c}=e,d={horizontal:c,polar:a,startAngle:A,endAngle:o,minDomain:u,maxDomain:f,categories:l},h=s?Object.assign(d,{data:s}):d,x=Pc(r,p=>{const y=Object.assign({},p.props,h);if(y3(p)){if(p.type&&qe(p.type.getDomain))return p.props&&p.type.getDomain(y,t)}else return null;return Ci(y,t)},e),v=x.length===0?0:Hr(x),g=x.length===0?1:Pr(x);return[v,g]}function pbe(e,t,n){const r=n||P.Children.toArray(e.children),s=e1(e,t),a=mbe(e,t,r);let A;if(s)A=s;else{const o=Ri(e,t),l=$i(e,t),u=(e.data||e.y)&&Lr(e),f=u?Zy(e,t,u):[],c=gbe(e,t,r),d=o||Hr([...f,...c]),h=l||Pr([...f,...c]);A=Ls(d,h)}return Jy(A,Object.assign({domainPadding:a},e),t)}function dC(e,t,n){if(e.data)return vr(e,t);const r=n?n.slice(0):P.Children.toArray(e.children),a=Bi(Pc(r,A=>{const o=Object.assign({},A.props,{horizontal:e.horizontal});return _f(o,t)},e));return a.length>1?cc("linear"):cc(a[0])}function xbe(e){const n=Ny(e,["groupComponent","containerComponent","labelComponent"]);let r=e.events;return Array.isArray(n)&&(r=Array.isArray(e.events)?n.concat(...e.events):n),r||[]}function vbe(e,t){const n=r=>{if(!y3(r))return null;const s=r.props||{};return no(s,t)};return Pc(e.slice(0),n)}function ybe(e){const t=s=>{const a=s.props||{};let A;if(Sve(s))s.type&&qe(s.type.getData)?A=s.type.getData(a):A=Lr(a);else return null;return A.map(o=>({x:o.xName,y:o.yName}))},n={x:[],y:[]},r=(s,a)=>{const A=Array.isArray(a)?a.map(l=>l.x).filter(Boolean):a.x,o=Array.isArray(a)?a.map(l=>l.y).filter(Boolean):a.y;return{x:A!==void 0?s.x.concat(A):s.x,y:o!==void 0?s.y.concat(o):s.y}};return Pc(e.slice(0),t,{},n,r)}function fC(e,t,n){const r=no(e,t),s=w3(n,t),a=s?v3(s.props,t):[],A=r.length?r:vbe(n,t);return Bi([...A,...a].flat())}function wk(e,t){const n=t||P.Children.toArray(e.children),r=fC(e,"x",n),s=fC(e,"y",n),a=ybe(n);return{x:Bi([...r,...a.x].flat()),y:Bi([...s,...a.y].flat())}}function bbe(e,t,n){const r=e.categories&&no(e,"x"),s=e.categories&&no(e,"y"),A=!r||!s?n||wk(e,t):{},o=r||A.x,l=s||A.y;return{x:o.length>0?o:void 0,y:l.length>0?l:void 0}}const x1=P.createContext(void 0);x1.displayName="PortalContext";const Bk=()=>P.useContext(x1),wbe=e=>{let{children:t}=e;const[n,r]=P.useState(new Map),s=P.useCallback((o,l)=>{r(u=>{const f=new Map(u);return f.set(o,l),f})},[r]),a=P.useCallback(o=>{r(l=>{const u=new Map(l);return u.delete(o),u})},[r]),A=P.useMemo(()=>({addChild:s,removeChild:a,children:n}),[s,a,n]);return P.createElement(x1.Provider,{value:A},t)},Bbe=e=>{let{as:t,...n}=e;const r=Bk();if(!r)return null;const s=Array.from(r.children.values());return P.cloneElement(t,n,s)};function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pp.apply(this,arguments)}const Cbe={className:"VictoryContainer",portalComponent:P.createElement(she,null),portalZIndex:99,responsive:!0,role:"img"};function _be(e){const t={...Cbe,...e},{title:n,desc:r,width:s,height:a,responsive:A}=t,o=j.useRef(null),l=j.useRef(xy("victory-container-")),u=t.containerId??l.current,f=y=>`${u}-${y}`,c=qs(t),d=A?{width:"100%",height:"100%"}:{width:s,height:a},h=A?`0 0 ${s} ${a}`:void 0,m=A?t.preserveAspectRatio:void 0,x=[n&&f("title"),t["aria-labelledby"]].filter(Boolean).join(" ")||void 0,v=[r&&f("desc"),t["aria-describedby"]].filter(Boolean).join(" ")||void 0,g=f("title"),p=f("desc");return{...t,titleId:g,descId:p,dimensions:d,viewBox:h,preserveAspectRatio:m,ariaLabelledBy:x,ariaDescribedBy:v,userProps:c,localContainerRef:o}}const Li=e=>{const{role:t,title:n,desc:r,children:s,className:a,portalZIndex:A,portalComponent:o,width:l,height:u,style:f,tabIndex:c,responsive:d,events:h,ouiaId:m,ouiaSafe:x,ouiaType:v,dimensions:g,ariaDescribedBy:p,ariaLabelledBy:y,viewBox:b,preserveAspectRatio:C,userProps:B,titleId:_,descId:N,containerRef:w,localContainerRef:E}=_be(e);return P.useEffect(()=>{if(!(h!=null&&h.onWheel))return;const U=H=>H.preventDefault(),I=E==null?void 0:E.current;return I==null||I.addEventListener("wheel",U),()=>{I==null||I.removeEventListener("wheel",U)}},[]),P.createElement("div",{className:a,style:{...f,width:d?f==null?void 0:f.width:g.width,height:d?f==null?void 0:f.height:g.height,pointerEvents:(f==null?void 0:f.pointerEvents)??"none",touchAction:(f==null?void 0:f.touchAction)??"none",position:(f==null?void 0:f.position)??"relative"},"data-ouia-component-id":m,"data-ouia-component-type":v,"data-ouia-safe":x,ref:Qge([E,w])},P.createElement(wbe,null,P.createElement("svg",Pp({width:l,height:u,tabIndex:c,role:t,"aria-labelledby":y,"aria-describedby":p,viewBox:b,preserveAspectRatio:C,style:{...g,pointerEvents:"all"}},B,h),n?P.createElement("title",{id:_},n):null,r?P.createElement("desc",{id:N},r):null,s),P.createElement("div",{style:{...g,zIndex:A,position:"absolute",top:0,left:0}},P.createElement(Bbe,{as:o,width:l,height:u,viewBox:b,preserveAspectRatio:C,style:{...g,overflow:"visible"}}))))};Li.role="container";const Sbe={groupComponent:P.createElement("g",null)},Hp=e=>{const t={...Sbe,...e},[n]=j.useState(xy()),r=Bk(),s=Array.isArray(t.children)?t.children[0]:t.children,{groupComponent:a}=t,A=s&&s.props||{},o=A.groupComponent?{groupComponent:a,standalone:!1}:{},l=we(o,A,vy(t,["children","groupComponent"]),{key:A.key??n}),u=s&&P.cloneElement(s,l);return P.useEffect(()=>{r==null||r.addChild(n,u)},[t.children]),P.useEffect(()=>()=>r==null?void 0:r.removeChild(n),[]),r?null:u};Hp.role="portal";function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},If.apply(this,arguments)}const v1=j.forwardRef((e,t)=>{var l;const{desc:n,id:r,tabIndex:s,origin:a,...A}=e,o={vectorEffect:"non-scaling-stroke",id:(l=Be(r,e))==null?void 0:l.toString(),tabIndex:Be(s,e),...A};return n?P.createElement("rect",If({},o,{ref:t}),P.createElement("desc",null,n)):P.createElement("rect",If({},o,{ref:t}))}),jbe=e=>{var u;const{children:t,desc:n,id:r,origin:s,tabIndex:a,title:A,...o}=e,l={id:(u=Be(r,e))==null?void 0:u.toString(),tabIndex:Be(a,e),...o};return P.createElement("text",l,A&&P.createElement("title",null,A),n&&P.createElement("desc",null,n),t)},Nbe=e=>{var o;const{desc:t,id:n,tabIndex:r,origin:s,...a}=e,A={id:(o=Be(n,e))==null?void 0:o.toString(),tabIndex:Be(r,e),...a};return P.createElement("tspan",A)},ci={fill:"#252525",fontSize:14,fontFamily:"'Gill Sans', 'Gill Sans MT', 'Seravek', 'Trebuchet MS', sans-serif",stroke:"transparent"},hC=(e,t)=>e.datum?yy(e,e.datum)[t]:0,mC=e=>{const t=e&&e.fontSize;if(typeof t=="number")return t;if(t==null)return ci.fontSize;if(typeof t=="string"){const n=Number(t.replace("px",""));return isNaN(n)?ci.fontSize:n}return ci.fontSize},yn=function(e,t){return t===void 0&&(t=0),Array.isArray(e)?e[t]||e[0]:e},Ck=e=>{const{backgroundStyle:t,backgroundPadding:n}=e;return Array.isArray(t)&&!St(t)||Array.isArray(n)&&!St(n)},kbe=(e,t)=>{if(t.disableInlineStyles){const r=un(e,t);return{fontSize:mC(r)}}const n=r=>{const s=un(r?we({},r,ci):ci,t);return Object.assign({},s,{fontSize:mC(s)})};return Array.isArray(e)&&!St(e)?e.map(r=>n(r)):n(e)},Ebe=(e,t)=>{if(e)return Array.isArray(e)&&!St(e)?e.map(n=>un(n,t)):un(e,t)},Fbe=e=>{if(e.backgroundPadding&&Array.isArray(e.backgroundPadding))return e.backgroundPadding.map(n=>{const r=Be(n,e);return xr(r)});const t=Be(e.backgroundPadding,e);return xr(t)},Qbe=e=>{const t=Be(e.lineHeight,e);return Array.isArray(t)&&St(t)?[1]:t},Ube=(e,t)=>{if(e==null)return;if(Array.isArray(e))return e.map(r=>Be(r,t));const n=Be(e,t);if(n!=null)return Array.isArray(n)?n:`${n}`.split(`
`)},Tbe=(e,t,n)=>{const r=e.dy?Be(e.dy,e):0,s=e.inline?1:e.text.length,a=Be(e.capHeight,e),A=t?Be(t,e):"middle",o=[...Array(s).keys()].map(f=>yn(e.style,f).fontSize),l=[...Array(s).keys()].map(f=>yn(n,f));if(A==="start")return r+(a/2+l[0]/2)*o[0];if(e.inline)return A==="end"?r+(a/2-l[0]/2)*o[0]:r+a/2*o[0];if(s===1)return A==="end"?r+(a/2+(.5-s)*l[0])*o[0]:r+(a/2+(.5-s/2)*l[0])*o[0];const u=[...Array(s).keys()].reduce((f,c)=>f+(a/2+(.5-s)*l[c])*o[c]/s,0);return A==="end"?r+u:r+u/2+a/2*l[s-1]*o[s-1]},Ibe=(e,t,n)=>{const{polar:r}=e,s=yn(e.style),a=r?a1(e):0,A=s.angle===void 0?Be(e.angle,e):s.angle,o=A===void 0?a:A,l=e.transform||s.transform,u=l&&Be(l,e);return u||o?Mp(u,o&&{rotate:[o,t,n]}):void 0},_k=(e,t)=>{const{direction:n,textAnchor:r,x:s,dx:a}=e;if(n==="rtl")return s-t;switch(r){case"middle":return Math.round(s-t/2);case"end":return Math.round(s-t);default:return s+(a||0)}},Sk=(e,t)=>{const{verticalAnchor:n,y:r,originalDy:s=0}=e,a=r+s;switch(n){case"start":return Math.floor(a);case"end":return Math.ceil(a-t);default:return Math.floor(a-t/2)}},Mbe=(e,t)=>{const{dx:n=0,transform:r,backgroundComponent:s,backgroundStyle:a,inline:A,backgroundPadding:o,capHeight:l}=e,u=t.map(x=>x.textSize),f=A?Math.max(...u.map(x=>x.height)):u.reduce((x,v,g)=>{const p=g?0:l/2;return x+v.height*(t[g].lineHeight-p)},0),c=A?u.reduce((x,v,g)=>{const p=g?n:0;return x+v.width+p},0):Math.max(...u.map(x=>x.width)),d=_k(e,c),h=Sk(e,f),m={key:"background",height:f+o.top+o.bottom,style:a,transform:r,width:c+o.left+o.right,x:A?d-o.left:d+n-o.left,y:h};return P.cloneElement(s,we({},s.props,m))},Dbe=(e,t,n)=>{const{textAnchor:r}=e,s=t.map(o=>o.widthWithPadding),A=-s.reduce((o,l)=>o+l,0)/2;switch(r){case"start":return s.reduce((o,l,u)=>u<n?o+l:o,0);case"end":return s.reduce((o,l,u)=>u>n?o-l:o,0);default:return s.reduce((o,l,u)=>{const f=u<n?l:0;return u===n?o+l/2:o+f},A)}},Pbe=(e,t)=>{const{dy:n,dx:r,transform:s,backgroundStyle:a,backgroundPadding:A,backgroundComponent:o,inline:l,y:u}=e,f=t.map((c,d)=>{const h=yn(t,d-1),m=c.textSize,x=c.fontSize*c.lineHeight,v=Math.ceil(x),g=yn(A,d),p=yn(A,d-1),y=l&&r||0,b=d&&!l?h.fontSize*h.lineHeight+p.top+p.bottom:n-x*.5-(c.fontSize-c.capHeight);return{textHeight:v,labelSize:m,heightWithPadding:v+g.top+g.bottom,widthWithPadding:m.width+g.left+g.right+y,y:u,fontSize:c.fontSize,dy:b}});return f.map((c,d)=>{const h=_k(e,c.labelSize.width),m=f.slice(0,d+1).reduce((b,C)=>b+C.dy,u),x=yn(A,d),v=c.heightWithPadding,g=l?Dbe(e,f,d)+h-x.left:h,p=l?Sk(e,v)-x.top:m,y={key:`tspan-background-${d}`,height:v,style:yn(a,d),width:c.widthWithPadding,transform:s,x:g-x.left,y:p};return P.cloneElement(o,we({},o.props,y))})},Hbe=(e,t)=>Ck(e)?Pbe(e,t):Mbe(e,t),$be=(e,t,n)=>{const r=yn(e,t),s=yn(e,t-1),a=s.fontSize*s.lineHeight,A=r.fontSize*r.lineHeight,o=s.fontSize-s.capHeight,l=r.fontSize-r.capHeight,u=a-s.fontSize/2+r.fontSize/2-a/2+A/2-l/2+o/2;return Ck(n)?u+r.backgroundPadding.top+s.backgroundPadding.bottom:u},Rbe=(e,t,n)=>{const{inline:r}=t,s=yn(e,n);return n&&!r?$be(e,n,t):r?n===0?s.backgroundPadding.top:void 0:s.backgroundPadding.top},Lbe=e=>{const t=Ube(e.text,e),n=kbe(e.style,Object.assign({},e,{text:t})),r=Ebe(e.backgroundStyle,Object.assign({},e,{text:t,style:n})),s=Fbe(Object.assign({},e,{text:t,style:n,backgroundStyle:r})),a=Be(e.id,e);return Object.assign({},e,{backgroundStyle:r,backgroundPadding:s,style:n,text:t,id:a})},Obe=e=>{const t=Be(e.ariaLabel,e),n=yn(e.style),r=Qbe(e),s=e.direction?Be(e.direction,e):"inherit",a=e.textAnchor?Be(e.textAnchor,e):n.textAnchor||"start",A=e.verticalAnchor?Be(e.verticalAnchor,e):n.verticalAnchor||"middle",o=e.dx?Be(e.dx,e):0,l=Tbe(e,A,r),u=e.x!==void 0?e.x:hC(e,"x"),f=e.y!==void 0?e.y:hC(e,"y"),c=Ibe(e,u,f);return Object.assign({},e,{ariaLabel:t,lineHeight:r,direction:s,textAnchor:a,verticalAnchor:A,dx:o,dy:l,originalDy:Be(e.dy,e),transform:c,x:u,y:f})},Kbe=(e,t)=>{const{ariaLabel:n,inline:r,className:s,title:a,events:A,direction:o,text:l,textAnchor:u,dx:f,dy:c,transform:d,x:h,y:m,desc:x,id:v,tabIndex:g,tspanComponent:p,textComponent:y}=e,b=qs(e),C={"aria-label":n,key:"text",...A,direction:o,dx:f,x:h,y:m+c,transform:d,className:s,title:a,desc:Be(x,e),tabIndex:Be(g,e),id:v,...b},B=l.map((_,N)=>{const w=t[N].style,E={key:`${v}-key-${N}`,x:r?void 0:h,dx:r?f+t[N].backgroundPadding.left:f,dy:Rbe(t,e,N),textAnchor:w.textAnchor||u,style:w,children:_};return P.cloneElement(p,E)});return P.cloneElement(y,C,B)},zbe={backgroundComponent:P.createElement(v1,null),groupComponent:P.createElement("g",null),direction:"inherit",textComponent:P.createElement(jbe,null),tspanComponent:P.createElement(Nbe,null),capHeight:.71,lineHeight:1},rs=e=>{const t=Lbe(we({},e,zbe));if(t.text===null||t.text===void 0)return null;const n=Obe(t),{text:r,style:s,capHeight:a,backgroundPadding:A,lineHeight:o}=n,l=r.map((f,c)=>{const d=yn(s,c),h=Dp(`${a}em`,d.fontSize),m=yn(o,c);return{style:d,fontSize:d.fontSize||ci.fontSize,capHeight:h,text:f,textSize:bk(f,d),lineHeight:m,backgroundPadding:yn(A,c)}}),u=Kbe(n,l);if(t.backgroundStyle){const c=[Hbe(n,l),u],d=P.cloneElement(t.groupComponent,{},c);return t.renderInPortal?P.createElement(Hp,null,d):d}return t.renderInPortal?P.createElement(Hp,null,u):u};rs.displayName="VictoryLabel";rs.role="label";rs.defaultStyles=ci;const Gbe=e=>{var t;return P.createElement("defs",null,P.createElement("clipPath",{id:(t=e.clipId)==null?void 0:t.toString()},e.children))};function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mf.apply(this,arguments)}const jk=j.forwardRef((e,t)=>{var l;const{desc:n,id:r,tabIndex:s,origin:a,...A}=e,o={vectorEffect:"non-scaling-stroke",id:(l=Be(r,e))==null?void 0:l.toString(),tabIndex:Be(s,e),...A};return n?P.createElement("circle",Mf({},o,{ref:t}),P.createElement("desc",null,n)):P.createElement("circle",Mf({},o,{ref:t}))});class Sl extends P.Component{constructor(t){super(t),this.state={clipId:t==null?void 0:t.clipId}}componentDidMount(){this.state.clipId||this.setState({clipId:xy("victory-clip-")})}calculateAttributes(t){const{polar:n,origin:r,clipWidth:s=0,clipHeight:a=0,translateX:A=0,translateY:o=0}=t,l=xr(t.clipPadding),u=t.radius||gp(t);return{x:(n?r.x:A)-l.left,y:(n?r.y:o)-l.top,width:Math.max((n?u:s)+l.left+l.right,0),height:Math.max((n?u:a)+l.top+l.bottom,0)}}renderClippedGroup(t,n){const r=qs(t),{style:s,events:a,transform:A,children:o,className:l,groupComponent:u,tabIndex:f}=t,c=this.renderClipComponent(t,n),d=Object.assign({className:l,style:s,transform:A,key:`clipped-group-${n}`,clipPath:`url(#${n})`},a);return P.cloneElement(u,{...d,tabIndex:f,...r},[c,...P.Children.toArray(o)])}renderGroup(t){const{style:n,events:r,transform:s,children:a,className:A,groupComponent:o,tabIndex:l}=t;return P.cloneElement(o,Object.assign({className:A,style:n,transform:s,"aria-label":t["aria-label"],tabIndex:l},r),a)}renderClipComponent(t,n){const{polar:r,origin:s,clipWidth:a=0,clipHeight:A=0,translateX:o=0,translateY:l=0,circleComponent:u,rectComponent:f,clipPathComponent:c}=t,{top:d,bottom:h,left:m,right:x}=xr(t.clipPadding);let v;if(r){const g=t.radius||gp(t),p={r:Math.max(g+m+x,g+d+h,0),cx:s.x-m,cy:s.y-d};v=P.cloneElement(u,p)}else{const g={x:o-m,y:l-d,width:Math.max(a+m+x,0),height:Math.max(A+d+h,0)};v=P.cloneElement(f,g)}return P.cloneElement(c,Object.assign({key:`clip-path-${n}`},t,{clipId:n}),v)}getClipValue(t,n){const r={x:t.clipWidth,y:t.clipHeight};if(r[n]!==void 0)return r[n];const s=zt(t,n);return s&&Math.abs(s[0]-s[1])||void 0}getTranslateValue(t,n){const r={x:t.translateX,y:t.translateY};if(r[n]!==void 0)return r[n];const s=zt(t,n);return s?Math.min(...s):void 0}render(){const t=this.getClipValue(this.props,"y"),n=this.getClipValue(this.props,"x");if(n===void 0||t===void 0)return this.renderGroup(this.props);const r=this.getTranslateValue(this.props,"x"),s=this.getTranslateValue(this.props,"y"),a=we({},this.props,{clipHeight:t,clipWidth:n,translateX:r,translateY:s});return this.renderClippedGroup(a,this.state.clipId)}}ne(Sl,"displayName","VictoryClipContainer"),ne(Sl,"role","container"),ne(Sl,"defaultProps",{circleComponent:P.createElement(jk,null),rectComponent:P.createElement(v1,null),clipPathComponent:P.createElement(Gbe,null),groupComponent:P.createElement("g",null)});function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(this,arguments)}const u0=j.forwardRef((e,t)=>{var l;const{desc:n,id:r,tabIndex:s,origin:a,...A}=e,o={id:(l=Be(r,e))==null?void 0:l.toString(),tabIndex:Be(s,e),...A};return n?P.createElement("path",Df({},o,{ref:t}),P.createElement("desc",null,n)):P.createElement("path",Df({},o,{ref:t}))}),Wbe=e=>{const{cx:t,cy:n,r,startAngle:s,endAngle:a,closedPath:A}=e,o=Math.abs(a-s)/2+s,l=t+r*Math.cos(Ot(s)),u=n-r*Math.sin(Ot(s)),f=t+r*Math.cos(Ot(o)),c=n-r*Math.sin(Ot(o)),d=t+r*Math.cos(Ot(a)),h=n-r*Math.sin(Ot(a)),m=o-s<=180?0:1,x=a-o<=180?0:1,v=A?` M ${t}, ${n} L ${l}, ${u}`:`M ${l}, ${u}`,g=`A ${r}, ${r}, 0, ${m}, 0, ${f}, ${c}`,p=`A ${r}, ${r}, 0, ${x}, 0, ${d}, ${h}`;return`${v} ${g} ${p} ${A?"Z":""}`},Vbe=e=>{const t=Be(e.ariaLabel,e),n=Be(e.desc,e),r=Be(e.id,e),s=un(Object.assign({stroke:"black",fill:"none"},e.style),e),a=Be(e.tabIndex,e);return Object.assign({},e,{ariaLabel:t,desc:n,id:r,style:s,tabIndex:a})},qbe={pathComponent:P.createElement(u0,null),role:"presentation",shapeRendering:"auto"},gC=e=>{const t=Vbe(we({},e,qbe));return P.cloneElement(t.pathComponent,{...t.events,"aria-label":t.ariaLabel,d:Wbe(t),style:t.style,desc:t.desc,tabIndex:t.tabIndex,className:t.className,role:t.role,shapeRendering:t.shapeRendering,transform:t.transform,clipPath:t.clipPath})},Xbe=e=>{const t=Be(e.id,e);return Object.assign({},e,{id:t})},Ybe={circleComponent:P.createElement(jk,null),rectComponent:P.createElement(v1,null),role:"presentation",shapeRendering:"auto"},Jbe=e=>{const t=Xbe(we({},e,Ybe));return t.polar?P.cloneElement(t.circleComponent,{...t.events,style:t.style,role:t.role,shapeRendering:t.shapeRendering,cx:t.x,cy:t.y,r:t.height,className:t.className}):P.cloneElement(t.rectComponent,{...t.events,style:t.style,role:t.role,shapeRendering:t.shapeRendering,x:t.x,y:t.y,rx:t.rx,ry:t.ry,width:t.width,height:t.height,className:t.className})};function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pf.apply(this,arguments)}const Zbe=j.forwardRef((e,t)=>{var l;const{desc:n,id:r,tabIndex:s,origin:a,...A}=e,o={vectorEffect:"non-scaling-stroke",id:(l=Be(r,e))==null?void 0:l.toString(),tabIndex:Be(s,e),...A};return n?P.createElement("line",Pf({},o,{ref:t}),P.createElement("desc",null,n)):P.createElement("line",Pf({},o,{ref:t}))}),ewe=e=>{const t=Be(e.ariaLabel,e),n=Be(e.desc,e),r=Be(e.id,e),s=un(Object.assign({stroke:"black"},e.style),e),a=Be(e.tabIndex,e);return Object.assign({},e,{ariaLabel:t,desc:n,id:r,style:s,tabIndex:a})},twe={lineComponent:P.createElement(Zbe,null),role:"presentation",shapeRendering:"auto"},DA=e=>{const t=ewe(we({},e,twe));return P.cloneElement(t.lineComponent,{...t.events,"aria-label":t.ariaLabel,style:t.style,desc:t.desc,tabIndex:t.tabIndex,className:t.className,role:t.role,shapeRendering:t.shapeRendering,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,transform:t.transform,clipPath:t.clipPath})},nwe=e=>{const{x:t,y:n,size:r,symbol:s}=e;if(e.getPath)return e.getPath(t,n,r);const a=d1e;return(typeof a[s]=="function"?a[s]:a.circle)(t,n,r)},rwe=e=>{const t=Be(e.ariaLabel,e),n=Be(e.desc,e),r=Be(e.id,e),s=Be(e.size,e),a=un(e.style,e),A=Be(e.symbol,e),o=Be(e.tabIndex,e);return Object.assign({},e,{ariaLabel:t,desc:n,id:r,size:s,style:a,symbol:A,tabIndex:o})},swe={pathComponent:P.createElement(u0,null),role:"presentation",shapeRendering:"auto"},awe=e=>{const t=rwe(we({},e,swe)),n=qs(t);return P.cloneElement(t.pathComponent,{...t.events,"aria-label":t.ariaLabel,d:nwe(t),style:t.style,desc:t.desc,tabIndex:t.tabIndex,role:t.role,shapeRendering:t.shapeRendering,className:t.className,transform:t.transform,clipPath:t.clipPath,...n})},iwe=(e,t)=>{let n=Lr(e);n.length<2&&(n=[]);const r=s=>{const a=g3(t[s])==="log"?1/Number.MAX_SAFE_INTEGER:0,A=t[s].domain(),o=Hr(A),l=Pr(A);let u=a;return o.valueOf()<0&&l.valueOf()<=0?u=l:o.valueOf()>=0&&l.valueOf()>0&&(u=o),Ps(A)?new Date(u):u};return n.map(s=>{const a=s._y1!==void 0?s._y1:s._y,A=s._y0!==void 0?s._y0:r("y"),o=s._x1!==void 0?s._x1:s._x,l=s._x0!==void 0?s._x0:r("x");return Object.assign({},s,{_y0:A,_y1:a,_x0:l,_x1:o})})},Awe=e=>{const{polar:t}=e,n=by(e,"area"),r=wy(e.style,n),s={x:zt(e,"x"),y:zt(e,"y")},a={x:jp(e,"x"),y:jp(e,"y")},A={x:vr(e,"x").domain(a.x).range(e.horizontal?s.y:s.x),y:vr(e,"y").domain(a.y).range(e.horizontal?s.x:s.y)},o=t?e.origin||Dc(e):void 0,l=iwe(e,A);return{style:r,data:l,scale:A,domain:a,origin:o}},owe=(e,t)=>{const n=Mr(e,t,"area"),r=Object.assign({},n,Awe(n)),{data:s,domain:a,events:A,groupComponent:o,height:l,horizontal:u,interpolation:f,origin:c,padding:d,polar:h,scale:m,sharedEvents:x,standalone:v,style:g,theme:p,width:y,labels:b,name:C,disableInlineStyles:B}=r,_={parent:{style:g.parent,width:y,height:l,scale:m,data:s,domain:a,standalone:v,theme:p,polar:h,origin:c,padding:d,name:C,horizontal:u},all:{data:{horizontal:u,polar:h,origin:c,scale:m,data:s,interpolation:f,groupComponent:o,style:B?{}:g.data,disableInlineStyles:B}}};return s.reduce((N,w,E)=>{const U=s0(r,w,E);if(U!=null||b&&(A||x)){const I=oc(w.eventKey)?E:w.eventKey;N[I]={labels:A1(r,E)}}return N},_)},$p=e=>{const t=e._y1!==void 0?e._y1:e._y;return t!=null&&e._y0!==null},pC=e=>t=>e.x(t._x1!==void 0?t._x1:t._x),Rp=e=>t=>e.y(t._y1!==void 0?t._y1:t._y),Lp=e=>t=>e.y(t._y0),lwe=e=>t=>-1*e.x(t._x1!==void 0?t._x1:t._x)+Math.PI/2,cwe=e=>{const{horizontal:t,scale:n}=e,r=Ff(e);return t?jf().defined($p).curve(r).x0(Lp(n)).x1(Rp(n)).y(pC(n)):jf().defined($p).curve(r).x(pC(n)).y1(Rp(n)).y0(Lp(n))},uwe=e=>{const{polar:t,scale:n}=e,r=Ff(e);return t?Fp().defined($p).curve(r).angle(lwe(n)).outerRadius(Rp(n)).innerRadius(Lp(n)):cwe(e)},dwe=e=>{const t=Be(e.ariaLabel,e),n=Be(e.desc,e),r=Be(e.id,e),s=un(Object.assign({fill:"black"},e.style),e),a=Be(e.tabIndex,e);return Object.assign({},e,{ariaLabel:t,desc:n,id:r,style:s,tabIndex:a})},fwe={groupComponent:P.createElement("g",null),pathComponent:P.createElement(u0,null),role:"presentation",shapeRendering:"auto"},hwe=e=>{const t=dwe(we({},e,fwe)),{ariaLabel:n,role:r,shapeRendering:s,className:a,polar:A,origin:o,data:l,pathComponent:u,events:f,groupComponent:c,clipPath:d,id:h,style:m,desc:x,tabIndex:v}=t,g=qs(t),p=A&&o?`translate(${o.x}, ${o.y})`:void 0,y=t.transform||p,b=m.stroke&&m.stroke!=="none"&&m.stroke!=="transparent",C=uwe(t),B=b&&ck(t),_=m.stroke?"none":m.fill,N={"aria-label":n,className:a,role:r,shapeRendering:s,transform:y,...f,clipPath:d,tabIndex:v},w=P.cloneElement(u,Object.assign({key:`${h}-area`,style:Object.assign({},m,{stroke:_}),d:C(l),desc:x,tabIndex:v},N,g)),E=b?P.cloneElement(u,Object.assign({key:`${h}-area-stroke`,style:Object.assign({},m,{fill:"none"}),d:B(l)},N)):null;return b?P.cloneElement(c,g,[w,E]):w},xC={width:450,height:300,padding:50,interpolation:"linear"},mwe={components:[{name:"parent",index:"parent"},{name:"data",index:"all"},{name:"labels"}]},zn=class zn extends P.Component{static getBaseProps(t){return owe(t,xC)}shouldAnimate(){return!!this.props.animate}render(){const{animationWhitelist:t,role:n}=zn,r=Mr(this.props,xC,n);if(this.shouldAnimate())return this.animateComponent(r,t);const s=this.renderContinuousData(r),a=r.standalone?this.renderContainer(r.containerComponent,s):s;return Sy(a,r)}};ne(zn,"animationWhitelist",["data","domain","height","padding","style","width"]),ne(zn,"defaultProps",{containerComponent:P.createElement(Li,null),dataComponent:P.createElement(hwe,null),groupComponent:P.createElement(Sl,null),labelComponent:P.createElement(rs,{renderInPortal:!0}),samples:50,sortKey:"x",sortOrder:"ascending",standalone:!0,theme:Bo.grayscale}),ne(zn,"displayName","VictoryArea"),ne(zn,"role","area"),ne(zn,"continuous",!0),ne(zn,"defaultTransitions",j3()),ne(zn,"defaultPolarTransitions",N3()),ne(zn,"getDomain",jp),ne(zn,"getData",Lr),ne(zn,"expectedComponents",["dataComponent","labelComponent","groupComponent","containerComponent"]);let Op=zn;const ju=Hc(Op,mwe),y1={top:-1,left:-1,right:1,bottom:1},Hf=e=>e!=null,gwe=(e,t)=>{const{orientation:n,horizontal:r}=e;return n?{top:"x",bottom:"x",left:"y",right:"y"}[n]:r?t==="x"?"y":"x":t},pwe=e=>{const t=Cr(e),n=gwe(e,t),r=vr(e,t),a=e.domain&&e.domain[t]||wo(e)||r.domain();return r.range(zt(e,n)),r.domain(a),r},xwe=e=>{const{theme:t,dependentAxis:n}=e,r=t&&t.axis&&t.axis.style,s=n?"dependentAxis":"independentAxis",a=t&&t[s]&&t[s].style;return r&&a?(()=>["axis","axisLabel","grid","parent","tickLabels","ticks"].reduce((l,u)=>(l[u]=we({},a[u],r[u]),l),{}))():a||r},Nk=function(e,t){t===void 0&&(t={});const n=e.style||{},r={height:"100%",width:"100%"};return{parent:we(n.parent,t.parent,r),axis:we({},n.axis,t.axis),axisLabel:we({},n.axisLabel,t.axisLabel),grid:we({},n.grid,t.grid),ticks:we({},n.ticks,t.ticks),tickLabels:we({},n.tickLabels,t.tickLabels)}},vwe=(e,t,n)=>{const{position:r,transform:s}=e;return{x1:s.x,y1:s.y,x2:s.x+r.x2,y2:s.y+r.y2,style:t,datum:n}},ywe=(e,t,n,r,s)=>{const{position:a,transform:A}=e;return{style:t,x:A.x+a.x,y:A.y+a.y,verticalAnchor:n.verticalAnchor,textAnchor:n.textAnchor,angle:t.angle,text:s,datum:r}},bwe=(e,t,n)=>{const{edge:r,transform:s}=e;return{x1:s.x,y1:s.y,x2:r.x+s.x,y2:r.y+s.y,style:t,datum:n}},wwe=(e,t,n)=>{const{style:r,padding:s,isVertical:a}=t,{width:A,height:o}=e;return{style:r.axis,x1:a?n.x:s.left+n.x,x2:a?n.x:A-s.right+n.x,y1:a?s.top+n.y:n.y,y2:a?o-s.bottom+n.y:n.y}},Bwe=(e,t)=>({tickStyle:un(e.ticks,t),labelStyle:un(e.tickLabels,t),gridStyle:un(e.grid,t)}),Cwe=(e,t,n)=>{const{style:r,orientation:s,padding:a,labelPadding:A,isVertical:o}=t,l=y1[s],u=a.left+a.right,f=a.top+a.bottom,c=l<0?"end":"start",d=r.axisLabel,h=o?-90:0,m=o?n.x+l*A:(e.width-u)/2+a.left+n.x,x=o?(e.height-f)/2+a.top+n.y:l*A+n.y;return{x:m,y:x,verticalAnchor:d.verticalAnchor||c,textAnchor:d.textAnchor||"middle",angle:d.angle===void 0?h:d.angle,style:d,text:e.label}},_we=(e,t)=>{const r={top:"end",left:"end",right:"start",bottom:"start"}[e];return{textAnchor:t?r:"middle",verticalAnchor:t?"middle":r}},Swe=(e,t)=>{const n=t.axisLabel||{};if(n.padding!==void 0&&n.padding!==null)return n.padding;const r=t0(e),s=n.fontSize||14;return e.label?s*(r?2.3:1.6):0},vC=(e,t,n)=>{const r=t||"positive";return n?{positive:{x:"left",y:"bottom"},negative:{x:"right",y:"top"}}[r][e]:{positive:{x:"bottom",y:"left"},negative:{x:"top",y:"right"}}[r][e]},jwe=(e,t)=>{const{style:n,scale:r,orientation:s,padding:a,axis:A,ticks:o,stringTicks:l,isVertical:u,labelPadding:f}=t,{polar:c,horizontal:d}=e,h={scale:{[A]:r},polar:c,horizontal:d,ticks:o,stringTicks:l},m=s==="right"?a.right:a.left,x=s==="top"?a.top:a.bottom,v=e.offsetX!==null&&e.offsetX!==void 0?e.offsetX:m,g=e.offsetY!==null&&e.offsetY!==void 0?e.offsetY:x,p=n.axisLabel.fontSize||14,y=o.map((N,w)=>{const E=l?e.tickValues[N-1]:N;return un(n.ticks,Object.assign({},h,{tick:E,index:w})).size||0}),b=p+2*Math.max(...y)+f,C=1.2*p;return{x:v??(u?b:C),y:g??(u?C:b)}},fa=(e,t)=>e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t,Nwe=(e,t)=>{const{scale:n,origin:r,orientation:s,orientations:a,domain:A,padding:o}=t,{top:l,bottom:u,left:f,right:c}=o,d={x:s==="bottom"||s==="top"?s:a.x,y:s==="left"||s==="right"?s:a.y},h={x:d.y==="left"?f:c,y:d.x==="bottom"?u:l},m={x:d.y==="left"?0:e.width,y:d.x==="bottom"?e.height:0},x={x:fa(r.x,A.x[0])||fa(r.x,A.x[1])?0:n.x(r.x),y:fa(r.y,A.y[0])||fa(r.y,A.y[1])?0:n.y(r.y)},v=x.x?Math.abs(m.x-x.x):h.x,g=x.y?Math.abs(m.y-x.y):h.y,p=Hf(e.offsetX)?e.offsetX:v,y=Hf(e.offsetY)?e.offsetY:g;return{x:p,y}},kwe=(e,t)=>{const{scale:n,origin:r,orientation:s,orientations:a,domain:A,padding:o}=t,{top:l,bottom:u,left:f,right:c}=o,d={y:s==="bottom"||s==="top"?s:a.x,x:s==="left"||s==="right"?s:a.y},h={x:d.y==="bottom"?u:l,y:d.x==="left"?f:c},m={y:d.x==="left"?0:e.width,x:d.y==="bottom"?e.height:0},x={x:fa(r.x,A.x[0])||fa(r.x,A.x[1])?0:n.x(r.x),y:fa(r.y,A.y[0])||fa(r.y,A.y[1])?0:n.y(r.y)},v=x.x?Math.abs(m.x-x.x):h.x,g=x.y?Math.abs(m.y-x.y):h.y,p=Hf(e.offsetX)?e.offsetX:g,y=Hf(e.offsetY)?e.offsetY:v;return{x:p,y}},Ewe=(e,t,n)=>{const{orientation:r,axis:s}=t,a=S3(e,s);return{top:{x:0,y:a!==void 0?a:n.y},bottom:{x:0,y:a!==void 0?a:e.height-n.y},left:{x:a!==void 0?a:n.x,y:0},right:{x:a!==void 0?a:e.width-n.x,y:0}}[r]},Fwe=(e,t,n)=>{const{tickStyle:r,labelStyle:s}=e,a=r.size||0,A=r.padding||0,o=s.padding||0,l=a+A+o,u=y1[t];return{x:n?u*l:0,x2:n?u*a:0,y:n?0:u*l,y2:n?0:u*a}},Qwe=(e,t,n)=>({x:n?t.x:e+t.x,y:n?e+t.y:t.y}),Uwe=(e,t)=>{const{orientation:n,padding:r,isVertical:s}=t,a=-y1[n],A=s?a*(e.width-(r.left+r.right)):0,o=s?0:a*(e.height-(r.top+r.bottom));return{x:A,y:o}},Twe=(e,t)=>{const{padding:n,orientation:r,crossAxis:s}=e,a=r==="right"?n.right:n.left,A=r==="top"?n.top:n.bottom;return{x:s?t.x-a:0,y:s?t.y-A:0}},Iwe=(e,t)=>{let n;return t.domain.x&&t.domain.y?n=e.horizontal?kwe(e,t):Nwe(e,t):n=jwe(e,t),{globalTransform:Ewe(e,t,n),gridOffset:Twe(t,n),gridEdge:Uwe(e,t)}},Mwe=e=>{if(e.orientation)return e.orientation;const t={dependent:e.horizontal?"bottom":"left",independent:e.horizontal?"left":"bottom"};return e.dependentAxis?t.dependent:t.independent},Dwe=e=>{const t=xwe(e),n=Nk(e,t),r=xr(e.padding),s=Swe(e,n),a=n0(e)?e.tickValues:void 0,A=Cr(e),o=wo(e),l=pwe(e),u=A==="x"?o:void 0,f=A==="y"?o:void 0,c=A==="x"?l:void 0,d=A==="y"?l:void 0,h=!(e.crossAxis===!1||e.standalone===!0),m=_3(e,l,h),x=C3(e,l),v={x:zt(e,"x"),y:zt(e,"y")},g={x:e.domain&&e.domain.x?e.domain.x:u,y:e.domain&&e.domain.y?e.domain.y:f},p={x:e.domain&&e.domain.x?vr(e,"x").domain(e.domain.x).range(e.horizontal?v.y:v.x):c,y:e.domain&&e.domain.y?vr(e,"y").domain(e.domain.y).range(e.horizontal?v.x:v.y):d},y=g.x&&g.y?B3(g):void 0,b=y?{x:X2(y.x,g.x),y:X2(y.y,g.y)}:void 0,C=b?{x:vC("x",b.y,e.horizontal),y:vC("y",b.x,e.horizontal)}:void 0,B=C?e.orientation||C[A]:Mwe(e),_=t0(Object.assign({},e,{orientation:B}));return{anchors:_we(B,_),axis:A,crossAxis:h,domain:g,isVertical:_,labelPadding:s,orientation:B,orientations:C,origin:y,padding:r,scale:p,stringTicks:a,style:n,tickFormat:x,ticks:m}},Pwe=(e,t)=>{const n=r0(e,t),r=Dwe(n),{axis:s,style:a,orientation:A,isVertical:o,scale:l,ticks:u,tickFormat:f,anchors:c,domain:d,stringTicks:h}=r,m=s==="x"?"y":"x",{width:x,height:v,standalone:g,theme:p,polar:y,padding:b,horizontal:C}=n,{globalTransform:B,gridOffset:_,gridEdge:N}=Iwe(n,r),w={scale:{[s]:l[s]},polar:y,horizontal:C,ticks:u,stringTicks:h},E=wwe(n,r,B),U=Cwe(n,r,B),I={parent:Object.assign({style:a.parent,ticks:u,standalone:g,theme:p,width:x,height:v,padding:b,domain:d},w)},H={dimension:m,range:{[m]:zt(n,m)},scale:n.scale&&n.scale[m]?{[m]:n.scale[m]}:void 0};return u.reduce(($,K,M)=>{var W,V,Y;const D=h?h[M]:K,k=f(K,M,u),R=Bwe(a,Object.assign({},w,{tick:D,tickValue:K,index:M,text:k})),S={position:Fwe(R,A,o),transform:Qwe((W=l[s])==null?void 0:W.call(l,K),B,o)},T={edge:N,transform:{x:o?-_.x+B.x:((V=l[s])==null?void 0:V.call(l,K))+B.x,y:o?((Y=l[s])==null?void 0:Y.call(l,K))+B.y:_.y+B.y}};return $[M]={axis:Object.assign({dimension:s},w,E),axisLabel:Object.assign({},w,U),ticks:Object.assign({},w,vwe(S,R.tickStyle,K)),tickLabels:Object.assign({},w,ywe(S,R.labelStyle,c,K,k)),grid:Object.assign({},w,H,bwe(T,R.gridStyle,K))},$},I)},yC={width:450,height:300,padding:50},Hwe={components:[{name:"axis",index:0},{name:"axisLabel",index:0},{name:"grid"},{name:"parent",index:"parent"},{name:"ticks"},{name:"tickLabels"}]};class xs extends P.Component{static getStyles(t){return Nk(t)}static getBaseProps(t){return Pwe(t,yC)}renderLine(t){const{axisComponent:n}=t,r=this.getComponentProps(n,"axis",0);return P.cloneElement(n,r)}renderLabel(t){const{axisLabelComponent:n,label:r}=t;if(!r)return null;const s=this.getComponentProps(n,"axisLabel",0);return P.cloneElement(n,s)}renderGridAndTicks(t){const{tickComponent:n,tickLabelComponent:r,gridComponent:s,name:a}=t,A=o=>{const{style:l={},events:u={}}=o;return l.stroke!=="transparent"&&l.stroke!=="none"&&l.strokeWidth!==0||!St(u)};return this.dataKeys.map((o,l)=>{const u=this.getComponentProps(n,"ticks",l),f=P.cloneElement(n,u),c=A(f.props)?f:void 0,d=this.getComponentProps(s,"grid",l),h=P.cloneElement(s,d),m=A(h.props)?h:void 0,x=this.getComponentProps(r,"tickLabels",l),g=[m,c,P.cloneElement(r,x)].filter(Boolean);return P.cloneElement(t.groupComponent,{key:`${a}-tick-group-${o}`},g)})}fixLabelOverlap(t,n){const r=t0(n),s=r?n.height:n.width,a=h=>h.type&&h.type.role==="label",A=t.map(h=>h.props.children).reduce((h,m)=>h.concat(m),[]).filter(a).map(h=>h.props),o=h=>typeof h=="object"?Object.assign({},{top:0,right:0,bottom:0,left:0},h):{top:h,right:h,bottom:h,left:h},l=A.reduce((h,m)=>{const x=o(m.style.padding),v=bk(m.text,{angle:m.angle,fontSize:m.style.fontSize,letterSpacing:m.style.letterSpacing,fontFamily:m.style.fontFamily});return h+(r?v.height+x.top+x.bottom:v.width+x.right+x.left)},0),u=Math.floor(s*t.length/l),f=Math.ceil(t.length/u)||1,c=h=>h.props.children.filter(a).reduce((m,x)=>(r?x.props.y:x.props.x)||0,0);return t.sort((h,m)=>r?c(m)-c(h):c(h)-c(m)).filter((h,m)=>m%f===0)}shouldAnimate(){return!!this.props.animate}render(){const{animationWhitelist:t}=Na,n=r0(this.props,yC),r=qs(this.props);if(this.shouldAnimate())return this.animateComponent(n,t);const s=this.renderGridAndTicks(n),a=n.fixLabelOverlap?this.fixLabelOverlap(s,n):s,A=[this.renderLine(n),this.renderLabel(n),...a],o=P.cloneElement(n.containerComponent,r);return n.standalone?this.renderContainer(o,A):P.cloneElement(n.groupComponent,r,A)}}ne(xs,"animationWhitelist",["style","domain","range","tickCount","tickValues","offsetX","offsetY","padding","width","height"]),ne(xs,"displayName","VictoryAxis"),ne(xs,"role","axis"),ne(xs,"defaultTransitions",{onExit:{duration:500},onEnter:{duration:500}}),ne(xs,"defaultProps",{axisComponent:P.createElement(DA,null),axisLabelComponent:P.createElement(rs,null),tickLabelComponent:P.createElement(rs,null),tickComponent:P.createElement(DA,null),gridComponent:P.createElement(DA,null),standalone:!0,theme:Bo.grayscale,containerComponent:P.createElement(Li,null),groupComponent:P.createElement("g",{role:"presentation"}),fixLabelOverlap:!1}),ne(xs,"getDomain",wo),ne(xs,"getAxis",Cr),ne(xs,"expectedComponents",["axisComponent","axisLabelComponent","groupComponent","containerComponent","tickComponent","tickLabelComponent","gridComponent"]);const Na=Hc(xs,Hwe);function $we(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}var Rwe=$we;const Lwe=xt(Rwe);var Kp={exports:{}};(function(e,t){t=e.exports=n,t.getSerialize=r;function n(s,a,A,o){return JSON.stringify(s,r(a,o),A)}function r(s,a){var A=[],o=[];return a==null&&(a=function(l,u){return A[0]===u?"[Circular ~]":"[Circular ~."+o.slice(0,A.indexOf(u)).join(".")+"]"}),function(l,u){if(A.length>0){var f=A.indexOf(this);~f?A.splice(f+1):A.push(this),~f?o.splice(f,1/0,l):o.push(l),~A.indexOf(u)&&(u=a.call(this,l,u))}else A.push(u);return s==null?u:s.call(this,l,u)}}})(Kp,Kp.exports);var Owe=Kp.exports;const Kwe=xt(Owe);class Al extends P.Component{constructor(t){super(t),this.getScopedEvents=k6.bind(this),this.getEventState=F6.bind(this),this.state=this.state||{},this.sharedEventsCache={},this.globalEvents={},this.prevGlobalEventKeys=[],this.boundGlobalEvents={},this.baseProps=this.getBaseProps(t)}shouldComponentUpdate(t){if(!li(this.props,t)){this.baseProps=this.getBaseProps(t);const n=this.getExternalMutations(t,this.baseProps);this.applyExternalMutations(t,n)}return!0}componentDidMount(){const t=Object.keys(this.globalEvents);t.forEach(n=>this.addGlobalListener(n)),this.prevGlobalEventKeys=t}componentDidUpdate(){const t=Object.keys(this.globalEvents);gf(this.prevGlobalEventKeys,t).forEach(s=>this.removeGlobalListener(s)),gf(t,this.prevGlobalEventKeys).forEach(s=>this.addGlobalListener(s)),this.prevGlobalEventKeys=t}componentWillUnmount(){this.prevGlobalEventKeys.forEach(t=>this.removeGlobalListener(t))}addGlobalListener(t){const n=r=>{const s=this.globalEvents[t];return s&&s(I6(r))};this.boundGlobalEvents[t]=n,window.addEventListener(xf(t),n)}removeGlobalListener(t){window.removeEventListener(xf(t),this.boundGlobalEvents[t])}getAllEvents(t){const r=Ny(t,["container","groupComponent"]);return Array.isArray(r)?Array.isArray(t.events)?r.concat(...t.events):r:t.events}applyExternalMutations(t,n){if(!St(n)){const r=t.externalEventMutations.reduce((a,A)=>qe(A.callback)?a.concat(A.callback):a,[]),s=r.length?()=>{r.forEach(a=>a())}:void 0;this.setState(n,s)}}getExternalMutations(t,n){return St(t.externalEventMutations)?void 0:kge(t.externalEventMutations,n,this.state,Object.keys(n))}cacheSharedEvents(t,n,r){this.sharedEventsCache[t]=[n,r]}getCachedSharedEvents(t,n){const[r,s]=this.sharedEventsCache[t]||[];if(r&&li(n,s))return r}getBaseProps(t){const{container:n}=t,r=P.Children.toArray(this.props.children),s=this.getBasePropsFromChildren(r),a=n?n.props:{};return Object.assign({},s,{parent:a})}getBasePropsFromChildren(t){const r=Pc(t,(s,a)=>{if(s.type&&qe(s.type.getBaseProps)){const A=s.props&&s.type.getBaseProps(s.props);return A?[[a,A]]:null}return null});return Lwe(r)}getNewChildren(t,n){const{events:r,eventKey:s}=t,a=(l,u)=>l.reduce((f,c,d)=>{if(c.props.children){const h=P.Children.toArray(c.props.children),m=u.slice(d,d+h.length),x=P.cloneElement(c,c.props,a(h,m));return f.concat(x)}else if(u[d]!=="parent"&&c.type&&qe(c.type.getBaseProps)){const h=c.props.name||u[d],m=Array.isArray(r)&&r.filter(g=>g.target==="parent"?!1:Array.isArray(g.childName)?g.childName.indexOf(h)>-1:g.childName===h||g.childName==="all"),x=[h,n,m,Kwe(this.state[h])],v=this.getCachedSharedEvents(h,x)||{events:m,getEvents:(g,p)=>this.getScopedEvents(g,p,h,n),getEventState:(g,p)=>this.getEventState(g,p,h)};return this.cacheSharedEvents(h,v,x),f.concat(P.cloneElement(c,Object.assign({key:`events-${h}`,sharedEvents:v,eventKey:s,name:h},c.props)))}return f.concat(c)},[]),A=Object.keys(n),o=P.Children.toArray(t.children);return a(o,A)}getContainer(t,n,r){const s=this.getNewChildren(t,n),a=Array.isArray(r)?r.filter(x=>x.target==="parent"):[],A=a.length>0?{events:a,getEvents:(x,v)=>this.getScopedEvents(x,v,null,n),getEventState:this.getEventState}:null,o=t.container||t.groupComponent,l=o.type&&o.type.role,u=o.props||{},f=N6.bind(this),c=A&&f({sharedEvents:A},"parent"),d=we({},this.getEventState("parent","parent"),u,n.parent,{children:s}),h=we({},E6(c,"parent",d),u.events);this.globalEvents=U6(h);const m=T6(h);return l==="container"?P.cloneElement(o,Object.assign({},d,{events:m})):P.cloneElement(o,m,s)}render(){const t=this.getAllEvents(this.props);return t?this.getContainer(this.props,this.baseProps,t):P.cloneElement(this.props.container,{children:this.props.children})}}ne(Al,"displayName","VictorySharedEvents"),ne(Al,"role","shared-event-wrapper"),ne(Al,"contextType",py),ne(Al,"defaultProps",{groupComponent:P.createElement("g",null)});const Dn=(e,t,n)=>n==="x"?e*Math.cos(t):-e*Math.sin(t),kk=e=>{const t=e.dependentAxis?"radial":"angular",n=t==="angular"?"radial":"angular";return e.horizontal?n:t},zwe=(e,t)=>fbe(e,r=>t(r)%(2*Math.PI)),b1=(e,t)=>({tickStyle:un(e.ticks,t),labelStyle:un(e.tickLabels,t),gridStyle:un(e.grid,t)}),Gwe=e=>{var l,u;const{theme:t={},dependentAxis:n}=e,r=t.polarAxis&&t.polarAxis.style||t.axis&&t.axis.style,s=n?"polarDependentAxis":"polarIndependentAxis",a=n?"dependentAxis":"independentAxis",A=((l=t==null?void 0:t[s])==null?void 0:l.style)||((u=t==null?void 0:t[a])==null?void 0:u.style);return r&&A?(()=>["axis","axisLabel","grid","parent","tickLabels","ticks"].reduce((c,d)=>(c[d]=we({},A==null?void 0:A[d],r==null?void 0:r[d]),c),{}))():A||r},Ek=e=>{const{left:t,right:n,top:r,bottom:s}=xr(e.padding),{width:a,height:A}=e;if(a===void 0||A===void 0)throw new Error("VictoryPolarAxis: width and height properties are required for standalone axes.");return Math.min(a-t-n,A-r-s)/2},Fk=(e,t)=>{if(e.range&&e.range[t])return e.range[t];if(e.range&&Array.isArray(e.range))return e.range;if(kk(e)==="angular"){const s=Ot(e.startAngle),a=Ot(e.endAngle);return[s,a]}const r=Ek(e);return[e.innerRadius||0,r]},Qk=e=>{const t=Cr(e),n=vr(e,t),r=wo(e,t)||n.domain(),s=Fk(e,t);return n.range(s),n.domain(r),n},Uk=function(e,t){if(t===void 0&&(t={}),e.disableInlineStyles)return{};const n=e.style||{};return{parent:we({height:"auto",width:"100%"},n.parent,t.parent),axis:we({},n.axis,t.axis),axisLabel:we({},n.axisLabel,t.axisLabel),grid:we({},n.grid,t.grid),ticks:we({},n.ticks,t.ticks),tickLabels:we({},n.tickLabels,t.tickLabels)}},d0=e=>{const{axisAngle:t,startAngle:n,dependentAxis:r}=e,s=Cr(e),a=S3(e,s);return a===void 0||!r?t===void 0?n:t:By(a)},Wwe=(e,t,n,r)=>{const{axisType:s,radius:a,scale:A,style:o,stringTicks:l,ticks:u,tickFormat:f,origin:c}=t,d=f(n,r,u),h=l?l[r]:n,{tickStyle:m}=b1(o,{tick:h,tickValue:n,index:r,ticks:u,stringTicks:l,radius:a,scale:A,axisType:s,text:d}),x=s==="radial"?d0(e):void 0,v=m.padding||m.size||0,g=Ot(90-x),p=s==="angular"?A(n):Ot(-1*x),y=s==="angular"?a:A(n);return s==="angular"?{index:r,datum:h,style:m,x1:Dn(y,p,"x")+c.x,y1:Dn(y,p,"y")+c.y,x2:Dn(y+v,p,"x")+c.x,y2:Dn(y+v,p,"y")+c.y}:{index:r,datum:h,style:m,x1:y*Math.cos(p)+Math.cos(g)*v+c.x,x2:y*Math.cos(p)-Math.cos(g)*v+c.x,y1:y*Math.sin(p)+Math.sin(g)*v+c.y,y2:y*Math.sin(p)-Math.sin(g)*v+c.y}},Vwe=(e,t,n,r)=>{const{axisType:s,radius:a,tickFormat:A,style:o,scale:l,ticks:u,stringTicks:f,origin:c}=t,d=A(n,r,u),h=f?f[r]:n,{labelStyle:m}=b1(o,{text:d,tick:h,tickValue:n,index:r,ticks:u,stringTicks:f,radius:a,scale:l,axisType:s}),{tickLabelComponent:x}=e,v=x!=null&&x.props.labelPlacement?x.props.labelPlacement:e.labelPlacement,g=m.padding||0,p=0,y=s==="radial"?d0(e):void 0,b=s==="angular"?By(l(n)):y+p,C=m.angle===void 0?a1(Object.assign({},e,{labelPlacement:v}),b):m.angle,B=s==="angular"?a+g:l(n),_=m.textAnchor||s1(Object.assign({},e,{labelPlacement:v}),b);return{index:r,datum:h,style:m,angle:C,textAnchor:_,text:d,x:B*Math.cos(Ot(b))+c.x,y:-B*Math.sin(Ot(b))+c.y}},qwe=(e,t,n,r)=>{const{axisType:s,radius:a,style:A,scale:o,stringTicks:l,ticks:u,tickFormat:f,origin:c}=t,d=f(n,r,u),{startAngle:h,endAngle:m,innerRadius:x=0}=e,v=l?l[r]:n,{gridStyle:g}=b1(A,{tick:v,tickValue:n,index:r,ticks:u,stringTicks:l,radius:a,scale:o,axisType:s,text:d}),p=o(n);return s==="angular"?{index:r,datum:v,style:g,x1:Dn(a,p,"x")+c.x,y1:Dn(a,p,"y")+c.y,x2:Dn(x,p,"x")+c.x,y2:Dn(x,p,"y")+c.y}:{style:g,index:r,datum:v,cx:c.x,cy:c.y,r:o(n),startAngle:h,endAngle:m}},Xwe=(e,t)=>{const{axisType:n,radius:r,style:s,origin:a}=t,{axisLabelComponent:A}=e;if(n!=="radial")return{};const o=A!=null&&A.props.labelPlacement?A.props.labelPlacement:e.labelPlacement,l=s&&s.axisLabel||{},u=n==="radial"?d0(e):void 0,f=l.angle===void 0?a1(Object.assign({},e,{labelPlacement:o}),u):l.angle,c=r+(l.padding||0),d=l.textAnchor||s1(Object.assign({},e,{labelPlacement:o}),u),h=l.verticalAnchor||k3(Object.assign({},e,{labelPlacement:o}),u);return{style:l,angle:f,textAnchor:d,verticalAnchor:h,text:e.label,x:Dn(c,Ot(u),"x")+a.x,y:Dn(c,Ot(u),"y")+a.y}},Ywe=(e,t)=>{const{style:n,axisType:r,radius:s,origin:a}=t,{startAngle:A,endAngle:o,innerRadius:l=0}=e,u=r==="radial"?Ot(d0(e)):void 0;return r==="radial"?{style:n.axis,x1:Dn(l,u,"x")+a.x,x2:Dn(s,u,"x")+a.x,y1:Dn(l,u,"y")+a.y,y2:Dn(s,u,"y")+a.y}:{style:n.axis,cx:a.x,cy:a.y,r:s,startAngle:A,endAngle:o}},Jwe=e=>{const t=Object.assign({polar:!0},e),n=Gwe(t),r=Uk(t,n),s=xr(t.padding),a=Cr(t),A=kk(t),o=n0(t)?t.tickValues:void 0,l=wo(t,a),u=Fk(t,a),f=Qk(t),c=_3(t,f),d=A==="angular"?zwe(c,f):c,h=C3(t,f),m=Ek(t),x=Dc(t);return{axis:a,style:r,padding:s,stringTicks:o,axisType:A,scale:f,ticks:d,tickFormat:h,domain:l,range:u,radius:m,origin:x}},Zwe=(e,t)=>{const n=r0(e,t),r=Jwe(n),{style:s,scale:a,ticks:A,domain:o}=r,{width:l,height:u,standalone:f,theme:c,name:d}=n,h=Ywe(n,r),m=Xwe(n,r),x={parent:{style:s.parent,ticks:A,scale:a,width:l,height:u,domain:o,standalone:f,theme:c,name:d}};return A.reduce((v,g,p)=>(v[p]={axis:h,axisLabel:m,ticks:Wwe(n,r,g,p),tickLabels:Vwe(n,r,g,p),grid:qwe(n,r,g,p)},v),x)},km={width:450,height:300,padding:50};class vs extends P.Component{static getScale(t){return Qk(t)}static getStyles(t){return Uk(t,km.style)}static getBaseProps(t){return Zwe(t,km)}renderAxisLine(t){const{dependentAxis:n}=t,r=n?t.axisComponent:t.circularAxisComponent,s=this.getComponentProps(r,"axis",0);return P.cloneElement(r,s)}renderLabel(t){const{axisLabelComponent:n,dependentAxis:r,label:s}=t;if(!s||!r)return null;const a=this.getComponentProps(n,"axisLabel",0);return P.cloneElement(n,a)}renderAxis(t){const{tickComponent:n,tickLabelComponent:r,name:s}=t,a=m=>{const{style:x={},events:v={}}=m;return x.stroke!=="transparent"&&x.stroke!=="none"&&x.strokeWidth!==0||!St(v)},o=(t.dependentAxis?"radial":"angular")==="radial"?t.circularGridComponent:t.gridComponent,l=this.dataKeys.map((m,x)=>{const v=Object.assign({key:`${s}-tick-${m}`},this.getComponentProps(n,"ticks",x)),g=P.cloneElement(n,v);return a(g.props)?g:void 0}).filter(Boolean),u=this.dataKeys.map((m,x)=>{const v=Object.assign({key:`${s}-grid-${m}`},this.getComponentProps(o,"grid",x)),g=P.cloneElement(o,v);return a(g.props)?g:void 0}).filter(Boolean),f=this.dataKeys.map((m,x)=>{const v=Object.assign({key:`${s}-tick-${m}`},this.getComponentProps(r,"tickLabels",x));return P.cloneElement(r,v)}),c=this.renderAxisLine(t),d=this.renderLabel(t),h=[c,d,...l,...u,...f];return this.renderGroup(t,h)}renderGroup(t,n){const{groupComponent:r}=t;return P.cloneElement(r,{},n)}shouldAnimate(){return!!this.props.animate}render(){const{animationWhitelist:t}=zp,n=r0(this.props,km);if(this.shouldAnimate())return this.animateComponent(n,t);const r=this.renderAxis(n);return n.standalone?this.renderContainer(n.containerComponent,r):r}}ne(vs,"animationWhitelist",["style","domain","range","tickCount","tickValues","padding","width","height"]),ne(vs,"displayName","VictoryAxis"),ne(vs,"role","axis"),ne(vs,"defaultTransitions",{onExit:{duration:500},onEnter:{duration:500}}),ne(vs,"defaultProps",{axisComponent:P.createElement(DA,null),axisLabelComponent:P.createElement(rs,null),circularAxisComponent:P.createElement(gC,null),circularGridComponent:P.createElement(gC,null),containerComponent:P.createElement(Li,null),endAngle:360,gridComponent:P.createElement(DA,null),groupComponent:P.createElement("g",{role:"presentation"}),labelPlacement:"parallel",startAngle:0,standalone:!0,theme:Bo.grayscale,tickComponent:P.createElement(DA,null),tickLabelComponent:P.createElement(rs,null)}),ne(vs,"getDomain",wo),ne(vs,"getAxis",Cr),ne(vs,"expectedComponents",["axisComponent","circularAxisComponent","groupComponent","containerComponent","tickComponent","tickLabelComponent","gridComponent","circularGridComponent"]);const eBe={components:[{name:"axis",index:0},{name:"axisLabel",index:0},{name:"grid"},{name:"parent",index:"parent"},{name:"ticks"},{name:"tickLabels"}]},zp=Hc(vs,eBe),tBe={width:450,height:300,padding:50};function nBe(e,t,n){const{domain:r,scale:s,stringMap:a,categories:A,horizontal:o}=n;return{stringMap:a,horizontal:o,categories:A,startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,domain:r,scale:s}}function rBe(e,t){const n=e.backgroundComponent,r=e.polar?t.range.y[1]:t.range.y[0]-t.range.y[1],s=t.range.x[1]-t.range.x[0],a=e.horizontal?t.scale.y.range()[0]:t.scale.x.range()[0],A=e.horizontal?t.scale.x.range()[1]:t.scale.y.range()[1],o=e.polar?t.origin.x:a,l=e.polar?t.origin.y:A,u=e.name||"chart",f={height:r,polar:e.polar,scale:t.scale,style:e.style.background,x:o,y:l,key:`${u}-background`,width:s};return P.cloneElement(n,we({},n.props,f))}function sBe(e,t,n){const r=b3([e]);if(r.length>0)return nBe(r[0],t,n);const{categories:s,domain:a,range:A,scale:o,stringMap:l,horizontal:u}=n;return{categories:s,domain:a,range:A,scale:o,stringMap:l,horizontal:u}}function aBe(e){const t=e.style&&e.style.parent;return{parent:we({},t,{height:"100%",width:"100%",userSelect:"none"})}}function Tk(e,t){const n=aBe(e),r=Mr(e,tBe,"chart"),{horizontal:s,polar:a}=r,A=wk(r,t),o=bbe(r,t,A),l=ABe(r,t,A),u={x:bC(Object.assign({},r,{categories:o}),"x",t),y:bC(Object.assign({},r,{categories:o}),"y",t)},f={x:zt(r,"x"),y:zt(r,"y")},c={x:_p(r,"x")||dC(r,"x"),y:_p(r,"y")||dC(r,"y")},d={x:c.x.domain(u.x).range(s?f.y:f.x),y:c.y.domain(u.y).range(s?f.x:f.y)},h=a?Dc(r):B3(u),m=xr(r.padding);return{categories:o,domain:u,range:f,horizontal:s,scale:d,stringMap:l,style:n,origin:h,padding:m}}function iBe(e,t,n){const r=t||Ik(e),s=n||Tk(e,r),a=s.style.parent,{height:A,polar:o,theme:l,width:u}=e,{origin:f,horizontal:c}=s,d=e.name||"chart";return r.filter(P.isValidElement).map((h,m)=>{const x=h.type&&h.type.role,v=Array.isArray(h.props.style)?h.props.style:we({},h.props.style,{parent:a}),g=sBe(h,e,s),p=h.props.name||`${d}-${x}-${m}`,y=we({horizontal:c,height:A,polar:o,theme:l,width:u,style:v,name:p,origin:o?f:void 0,padding:s.padding,key:`${p}-key-${m}`,standalone:!1},g);return P.cloneElement(h,y)})}const Ik=(e,t)=>{let n=P.Children.toArray(e.children);if(n.length===0)n.push(t.independent,t.dependent);else{const r={dependent:q2(n,"dependent"),independent:q2(n,"independent")};r.dependent.length===0&&r.independent.length===0&&(n=e.prependDefaultAxes?[t.independent,t.dependent].concat(n):n.concat([t.independent,t.dependent]))}return n},bC=(e,t,n)=>{const r=n||P.Children.toArray(e.children),s=pbe(e,t,r),a=w3(r,t);return a&&a.props&&a.props.invertAxis?s.concat().reverse():s},ABe=(e,t,n)=>{const r=!n.x||n.x.length===0?null:n.x.reduce((a,A,o)=>(a[A]=o+1,a),{}),s=!n.y||n.y.length===0?null:n.y.reduce((a,A,o)=>(a[A]=o+1,a),{});return{x:r,y:s}},oBe={width:450,height:300,padding:50},lBe={backgroundComponent:P.createElement(Jbe,null),containerComponent:P.createElement(Li,null),defaultAxes:{independent:P.createElement(Na,null),dependent:P.createElement(Na,{dependentAxis:!0})},defaultPolarAxes:{independent:P.createElement(zp,null),dependent:P.createElement(zp,{dependentAxis:!0})},groupComponent:P.createElement("g",null),standalone:!0,theme:Bo.grayscale},cBe=e=>{const t=P.useMemo(()=>we({},e,lBe),[e]),n="chart",{getAnimationProps:r,setAnimationState:s,getProps:a}=Hve(),A=a(t),o=Mr(A,oBe,n),{desc:l,eventKey:u,containerComponent:f,standalone:c,groupComponent:d,externalEventMutations:h,width:m,height:x,theme:v,polar:g,name:p,title:y}=o,b=A.polar?o.defaultPolarAxes:o.defaultAxes,C=P.useMemo(()=>Ik(o,b),[o,b]),B=P.useMemo(()=>Tk(o,C),[o,C]),{domain:_,scale:N,style:w,origin:E,horizontal:U}=B,I=P.useMemo(()=>{const k=iBe(A,C,B).map((R,S)=>{const T=Object.assign({animate:r(A,R,S)},R.props);return P.cloneElement(R,T)});if(A.style&&A.style.background){const R=rBe(A,B);k.unshift(R)}return k},[r,C,A,B]),H=P.useMemo(()=>c?{desc:l,domain:_,width:m,height:x,horizontal:U,name:p,origin:g?E:void 0,polar:g,theme:v,title:y,scale:N,standalone:c,style:w.parent}:{},[l,_,x,U,p,E,g,N,c,w,y,v,m]),$=P.useMemo(()=>{if(c){const D=we({},f.props,H,qs(t));return P.cloneElement(f,D)}return d},[d,c,f,H,t]),K=P.useMemo(()=>xbe(A),[A]),M=Dve(t);return P.useEffect(()=>()=>{t.animate&&s(M,t)},[s,M,t]),St(K)?P.cloneElement($,$.props,I):P.createElement(Al,{container:$,eventKey:u,events:K,externalEventMutations:h},I)},f0=P.memo(cBe,li);f0.displayName="VictoryChart";f0.expectedComponents=["groupComponent","containerComponent"];const uBe=e=>{let t=Lr(e);t.length<2&&(t=[]);const n={x:zt(e,"x"),y:zt(e,"y")},r={x:Ci(e,"x"),y:Ci(e,"y")},s={x:vr(e,"x").domain(r.x).range(e.horizontal?n.y:n.x),y:vr(e,"y").domain(r.y).range(e.horizontal?n.x:n.y)},a=e.polar?e.origin||Dc(e):void 0,A=by(e,"line"),o=wy(e.style,A);return{domain:r,data:t,scale:s,style:o,origin:a}},dBe=(e,t)=>{const n=Mr(e,t,"line"),r=Object.assign({},n,uBe(n)),{data:s,domain:a,events:A,groupComponent:o,height:l,horizontal:u,interpolation:f,origin:c,padding:d,polar:h,scale:m,sharedEvents:x,standalone:v,style:g,theme:p,width:y,labels:b,name:C,disableInlineStyles:B}=r,_={parent:{style:g.parent,scale:m,data:s,height:l,width:y,name:C,domain:a,standalone:v,polar:h,origin:c,padding:d,horizontal:u},all:{data:{horizontal:u,polar:h,origin:c,scale:m,data:s,interpolation:f,groupComponent:o,style:B?{}:g.data,theme:p,disableInlineStyles:B}}};return s.reduce((N,w,E)=>{const U=s0(r,w,E);if(U!=null||b&&(A||x)){const I=oc(w.eventKey)?E:w.eventKey;N[I]={labels:A1(r,E)}}return N},_)},fBe=e=>{const t=Be(e.ariaLabel,e),n=Be(e.id,e),r=un(Object.assign({fill:"none",stroke:"black",pointerEvents:"stroke"},e.style),e),s=Be(e.tabIndex,e);return Object.assign({},e,{ariaLabel:t,id:n,style:r,tabIndex:s})},hBe={pathComponent:P.createElement(u0,null),role:"presentation",shapeRendering:"auto"},mBe=e=>{const t=fBe(we({},e,hBe)),n=qs(t),{polar:r,origin:s}=t,a=ck(t),A=r&&s?`translate(${s.x}, ${s.y})`:void 0,o=a(t.data);return P.cloneElement(t.pathComponent,{...t.events,...n,"aria-label":t.ariaLabel,d:o,style:t.style,transform:t.transform||A,className:t.className,role:t.role,shapeRendering:t.shapeRendering,clipPath:t.clipPath,tabIndex:t.tabIndex})},wC={width:450,height:300,padding:50,interpolation:"linear"},gBe={components:[{name:"parent",index:"parent"},{name:"data",index:"all"},{name:"labels"}]},Gn=class Gn extends P.Component{constructor(t){super(t)}static getBaseProps(t){return dBe(t,wC)}shouldAnimate(){return!!this.props.animate}render(){const{animationWhitelist:t,role:n}=Gn,r=Mr(this.props,wC,n);if(this.shouldAnimate())return this.animateComponent(r,t);const s=this.renderContinuousData(r),a=r.standalone?this.renderContainer(r.containerComponent,s):s;return Sy(a,r)}};ne(Gn,"animationWhitelist",["data","domain","height","padding","samples","style","width"]),ne(Gn,"displayName","VictoryLine"),ne(Gn,"role","line"),ne(Gn,"defaultTransitions",j3()),ne(Gn,"defaultPolarTransitions",N3()),ne(Gn,"continuous",!0),ne(Gn,"defaultProps",{containerComponent:P.createElement(Li,null),dataComponent:P.createElement(mBe,null),labelComponent:P.createElement(rs,{renderInPortal:!0}),groupComponent:P.createElement(Sl,null),samples:50,sortKey:"x",sortOrder:"ascending",standalone:!0,theme:Bo.grayscale}),ne(Gn,"getDomain",Ci),ne(Gn,"getData",Lr),ne(Gn,"expectedComponents",["dataComponent","labelComponent","groupComponent","containerComponent"]);let Gp=Gn;const ol=Hc(Gp,gBe),pBe=(e,t)=>t.bubbleProperty?"circle":e.symbol||t.symbol,xBe=(e,t)=>{const{data:n,z:r,maxBubbleSize:s,minBubbleSize:a}=t,A=n.map(g=>g[r]),o=Math.min(...A),l=Math.max(...A),f=s||(()=>{const g=Math.min(...Object.values(xr(t.padding)));return Math.max(g,5)})(),c=a||f*.1;if(l===o)return Math.max(c,1);const d=Math.PI*Math.pow(f,2),h=Math.PI*Math.pow(c,2),m=(e[r]-o)/(l-o)*d,x=Math.max(m,h),v=Math.sqrt(x/Math.PI);return Math.max(v,1)},vBe=(e,t)=>{const{size:n,z:r}=t;return e.size?typeof e.size=="function"?e.size:Math.max(e.size,1):typeof t.size=="function"?n:e[r]?xBe(e,t):Math.max(n||0,1)},yBe=e=>{const t=by(e,"scatter"),n=wy(e.style,t),r={x:zt(e,"x"),y:zt(e,"y")},s={x:Ci(e,"x"),y:Ci(e,"y")},a={x:vr(e,"x").domain(s.x).range(e.horizontal?r.y:r.x),y:vr(e,"y").domain(s.y).range(e.horizontal?r.x:r.y)},A=e.polar?e.origin||Dc(e):void 0,o=e.bubbleProperty||"z";let l=Lr(e);return l=Bve(l,s),{domain:s,data:l,scale:a,style:n,origin:A,z:o}},bBe=(e,t)=>{const n=Mr(e,t,"scatter"),r=Object.assign({},n,yBe(n)),{data:s,domain:a,events:A,height:o,origin:l,padding:u,polar:f,scale:c,name:d,sharedEvents:h,standalone:m,style:x,theme:v,width:g,labels:p,horizontal:y,disableInlineStyles:b}=r,C={parent:{style:x.parent,scale:c,domain:a,data:s,height:o,width:g,standalone:m,theme:v,origin:l,polar:f,padding:u,name:d,horizontal:y}};return s.reduce((B,_,N)=>{const w=oc(_.eventKey)?N:_.eventKey,{x:E,y:U}=yy(r,_),I={x:E,y:U,datum:_,data:s,index:N,scale:c,polar:f,origin:l,horizontal:y,size:vBe(_,r),symbol:pBe(_,r),style:b?{}:x.data,disableInlineStyles:b};B[w]={data:I};const H=s0(r,_,N);return(H!=null||p&&(A||h))&&(B[w].labels=A1(r,N)),B},C)},BC={width:450,height:300,padding:50,size:3,symbol:"circle"};class ys extends P.Component{static getBaseProps(t){return bBe(t,BC)}shouldAnimate(){return!!this.props.animate}render(){const{animationWhitelist:t,role:n}=w1,r=Mr(this.props,BC,n);if(this.shouldAnimate())return this.animateComponent(r,t);const s=this.renderData(r),a=r.standalone?this.renderContainer(r.containerComponent,s):s;return Sy(a,r)}}ne(ys,"animationWhitelist",["data","domain","height","maxBubbleSize","padding","samples","size","style","width"]),ne(ys,"displayName","VictoryScatter"),ne(ys,"role","scatter"),ne(ys,"defaultTransitions",Mve()),ne(ys,"defaultProps",{containerComponent:P.createElement(Li,null),dataComponent:P.createElement(awe,null),labelComponent:P.createElement(rs,null),groupComponent:P.createElement("g",null),samples:50,sortOrder:"ascending",standalone:!0,theme:Bo.grayscale}),ne(ys,"getDomain",Ci),ne(ys,"getData",Lr),ne(ys,"expectedComponents",["dataComponent","labelComponent","groupComponent","containerComponent"]);const w1=Hc(ys);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wp=function(e,t){return Wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Wp(e,t)};function Or(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Wp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Vp=function(){return Vp=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Vp.apply(this,arguments)};function pn(e,t,n,r){function s(a){return a instanceof n?a:new n(function(A){A(a)})}return new(n||(n=Promise))(function(a,A){function o(f){try{u(r.next(f))}catch(c){A(c)}}function l(f){try{u(r.throw(f))}catch(c){A(c)}}function u(f){f.done?a(f.value):s(f.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}function on(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,A;return A={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function o(u){return function(f){return l([u,f])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],s=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Nu(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||t)}var Os=function(){function e(t,n,r,s){this.left=t,this.top=n,this.width=r,this.height=s}return e.prototype.add=function(t,n,r,s){return new e(this.left+t,this.top+n,this.width+r,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),h0=function(e,t){return Os.fromClientRect(e,t.getBoundingClientRect())},wBe=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new Os(0,0,r,s)},m0=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),n--)}else t.push(s)}return t},Ct=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var A=e[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},CC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BBe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ku=0;ku<CC.length;ku++)BBe[CC.charCodeAt(ku)]=ku;var _C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ll=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eu=0;Eu<_C.length;Eu++)ll[_C.charCodeAt(Eu)]=Eu;var CBe=function(e){var t=e.length*.75,n=e.length,r,s=0,a,A,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=ll[e.charCodeAt(r)],A=ll[e.charCodeAt(r+1)],o=ll[e.charCodeAt(r+2)],l=ll[e.charCodeAt(r+3)],f[s++]=a<<2|A>>4,f[s++]=(A&15)<<4|o>>2,f[s++]=(o&3)<<6|l&63;return u},_Be=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},SBe=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},ui=5,B1=6+5,Em=2,jBe=B1-ui,Mk=65536>>ui,NBe=1<<ui,Fm=NBe-1,kBe=1024>>ui,EBe=Mk+kBe,FBe=EBe,QBe=32,UBe=FBe+QBe,TBe=65536>>B1,IBe=1<<jBe,MBe=IBe-1,SC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},DBe=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},PBe=function(e,t){var n=CBe(e),r=Array.isArray(n)?SBe(n):new Uint32Array(n),s=Array.isArray(n)?_Be(n):new Uint16Array(n),a=24,A=SC(s,a/2,r[4]/2),o=r[5]===2?SC(s,(a+r[4])/2):DBe(r,Math.ceil((a+r[4])/4));return new HBe(r[0],r[1],r[2],r[3],A,o)},HBe=function(){function e(t,n,r,s,a,A){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=a,this.data=A}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>ui],n=(n<<Em)+(t&Fm),this.data[n];if(t<=65535)return n=this.index[Mk+(t-55296>>ui)],n=(n<<Em)+(t&Fm),this.data[n];if(t<this.highStart)return n=UBe-TBe+(t>>B1),n=this.index[n],n+=t>>ui&MBe,n=this.index[n],n=(n<<Em)+(t&Fm),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),jC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$Be=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Fu=0;Fu<jC.length;Fu++)$Be[jC.charCodeAt(Fu)]=Fu;var RBe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",NC=50,LBe=1,Dk=2,Pk=3,OBe=4,KBe=5,kC=7,Hk=8,EC=9,ha=10,qp=11,FC=12,Xp=13,zBe=14,cl=15,Yp=16,Qu=17,Go=18,GBe=19,QC=20,Jp=21,Wo=22,Qm=23,tA=24,On=25,ul=26,dl=27,nA=28,WBe=29,Ja=30,VBe=31,Uu=32,Tu=33,Zp=34,ex=35,tx=36,uc=37,nx=38,xd=39,vd=40,Um=41,$k=42,qBe=43,XBe=[9001,65288],Rk="!",He="",Iu="",rx=PBe(RBe),hs=[Ja,tx],sx=[LBe,Dk,Pk,KBe],Lk=[ha,Hk],UC=[dl,ul],YBe=sx.concat(Lk),TC=[nx,xd,vd,Zp,ex],JBe=[cl,Xp],ZBe=function(e,t){t===void 0&&(t="strict");var n=[],r=[],s=[];return e.forEach(function(a,A){var o=rx.get(a);if(o>NC?(s.push(!0),o-=NC):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(A),n.push(Yp);if(o===OBe||o===qp){if(A===0)return r.push(A),n.push(Ja);var l=n[A-1];return YBe.indexOf(l)===-1?(r.push(r[A-1]),n.push(l)):(r.push(A),n.push(Ja))}if(r.push(A),o===VBe)return n.push(t==="strict"?Jp:uc);if(o===$k||o===WBe)return n.push(Ja);if(o===qBe)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(uc):n.push(Ja);n.push(o)}),[r,n,s]},Tm=function(e,t,n,r){var s=r[n];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var a=n;a<=r.length;){a++;var A=r[a];if(A===t)return!0;if(A!==ha)break}if(s===ha)for(var a=n;a>0;){a--;var o=r[a];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var l=n;l<=r.length;){l++;var A=r[l];if(A===t)return!0;if(A!==ha)break}if(o!==ha)break}return!1},IC=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===ha)n--;else return r}return 0},e2e=function(e,t,n,r,s){if(n[r]===0)return He;var a=r-1;if(Array.isArray(s)&&s[a]===!0)return He;var A=a-1,o=a+1,l=t[a],u=A>=0?t[A]:0,f=t[o];if(l===Dk&&f===Pk)return He;if(sx.indexOf(l)!==-1)return Rk;if(sx.indexOf(f)!==-1||Lk.indexOf(f)!==-1)return He;if(IC(a,t)===Hk)return Iu;if(rx.get(e[a])===qp||(l===Uu||l===Tu)&&rx.get(e[o])===qp||l===kC||f===kC||l===EC||[ha,Xp,cl].indexOf(l)===-1&&f===EC||[Qu,Go,GBe,tA,nA].indexOf(f)!==-1||IC(a,t)===Wo||Tm(Qm,Wo,a,t)||Tm([Qu,Go],Jp,a,t)||Tm(FC,FC,a,t))return He;if(l===ha)return Iu;if(l===Qm||f===Qm)return He;if(f===Yp||l===Yp)return Iu;if([Xp,cl,Jp].indexOf(f)!==-1||l===zBe||u===tx&&JBe.indexOf(l)!==-1||l===nA&&f===tx||f===QC||hs.indexOf(f)!==-1&&l===On||hs.indexOf(l)!==-1&&f===On||l===dl&&[uc,Uu,Tu].indexOf(f)!==-1||[uc,Uu,Tu].indexOf(l)!==-1&&f===ul||hs.indexOf(l)!==-1&&UC.indexOf(f)!==-1||UC.indexOf(l)!==-1&&hs.indexOf(f)!==-1||[dl,ul].indexOf(l)!==-1&&(f===On||[Wo,cl].indexOf(f)!==-1&&t[o+1]===On)||[Wo,cl].indexOf(l)!==-1&&f===On||l===On&&[On,nA,tA].indexOf(f)!==-1)return He;if([On,nA,tA,Qu,Go].indexOf(f)!==-1)for(var c=a;c>=0;){var d=t[c];if(d===On)return He;if([nA,tA].indexOf(d)!==-1)c--;else break}if([dl,ul].indexOf(f)!==-1)for(var c=[Qu,Go].indexOf(l)!==-1?A:a;c>=0;){var d=t[c];if(d===On)return He;if([nA,tA].indexOf(d)!==-1)c--;else break}if(nx===l&&[nx,xd,Zp,ex].indexOf(f)!==-1||[xd,Zp].indexOf(l)!==-1&&[xd,vd].indexOf(f)!==-1||[vd,ex].indexOf(l)!==-1&&f===vd||TC.indexOf(l)!==-1&&[QC,ul].indexOf(f)!==-1||TC.indexOf(f)!==-1&&l===dl||hs.indexOf(l)!==-1&&hs.indexOf(f)!==-1||l===tA&&hs.indexOf(f)!==-1||hs.concat(On).indexOf(l)!==-1&&f===Wo&&XBe.indexOf(e[o])===-1||hs.concat(On).indexOf(f)!==-1&&l===Go)return He;if(l===Um&&f===Um){for(var h=n[a],m=1;h>0&&(h--,t[h]===Um);)m++;if(m%2!==0)return He}return l===Uu&&f===Tu?He:Iu},t2e=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=ZBe(e,t.lineBreak),r=n[0],s=n[1],a=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(o){return[On,Ja,$k].indexOf(o)!==-1?uc:o}));var A=t.wordBreak==="keep-all"?a.map(function(o,l){return o&&e[l]>=19968&&e[l]<=40959}):void 0;return[r,s,A]},n2e=function(){function e(t,n,r,s){this.codePoints=t,this.required=n===Rk,this.start=r,this.end=s}return e.prototype.slice=function(){return Ct.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),r2e=function(e,t){var n=m0(e),r=t2e(n,t),s=r[0],a=r[1],A=r[2],o=n.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var f=He;u<o&&(f=e2e(n,a,s,++u,A))===He;);if(f!==He||u===o){var c=new n2e(n,f,l,u);return l=u,{value:c,done:!1}}return{done:!0,value:null}}}},s2e=1,a2e=2,Vc=4,MC=8,$f=10,DC=47,jl=92,i2e=9,A2e=32,Mu=34,Vo=61,o2e=35,l2e=36,c2e=37,Du=39,Pu=40,qo=41,u2e=95,Un=45,d2e=33,f2e=60,h2e=62,m2e=64,g2e=91,p2e=93,x2e=61,v2e=123,Hu=63,y2e=125,PC=124,b2e=126,w2e=128,HC=65533,Im=42,ai=43,B2e=44,C2e=58,_2e=59,dc=46,S2e=0,j2e=8,N2e=11,k2e=14,E2e=31,F2e=127,Wr=-1,Ok=48,Kk=97,zk=101,Q2e=102,U2e=117,T2e=122,Gk=65,Wk=69,Vk=70,I2e=85,M2e=90,ln=function(e){return e>=Ok&&e<=57},D2e=function(e){return e>=55296&&e<=57343},rA=function(e){return ln(e)||e>=Gk&&e<=Vk||e>=Kk&&e<=Q2e},P2e=function(e){return e>=Kk&&e<=T2e},H2e=function(e){return e>=Gk&&e<=M2e},$2e=function(e){return P2e(e)||H2e(e)},R2e=function(e){return e>=w2e},$u=function(e){return e===$f||e===i2e||e===A2e},Rf=function(e){return $2e(e)||R2e(e)||e===u2e},$C=function(e){return Rf(e)||ln(e)||e===Un},L2e=function(e){return e>=S2e&&e<=j2e||e===N2e||e>=k2e&&e<=E2e||e===F2e},ia=function(e,t){return e!==jl?!1:t!==$f},Ru=function(e,t,n){return e===Un?Rf(t)||ia(t,n):Rf(e)?!0:!!(e===jl&&ia(e,t))},Mm=function(e,t,n){return e===ai||e===Un?ln(t)?!0:t===dc&&ln(n):ln(e===dc?t:e)},O2e=function(e){var t=0,n=1;(e[t]===ai||e[t]===Un)&&(e[t]===Un&&(n=-1),t++);for(var r=[];ln(e[t]);)r.push(e[t++]);var s=r.length?parseInt(Ct.apply(void 0,r),10):0;e[t]===dc&&t++;for(var a=[];ln(e[t]);)a.push(e[t++]);var A=a.length,o=A?parseInt(Ct.apply(void 0,a),10):0;(e[t]===Wk||e[t]===zk)&&t++;var l=1;(e[t]===ai||e[t]===Un)&&(e[t]===Un&&(l=-1),t++);for(var u=[];ln(e[t]);)u.push(e[t++]);var f=u.length?parseInt(Ct.apply(void 0,u),10):0;return n*(s+o*Math.pow(10,-A))*Math.pow(10,l*f)},K2e={type:2},z2e={type:3},G2e={type:4},W2e={type:13},V2e={type:8},q2e={type:21},X2e={type:9},Y2e={type:10},J2e={type:11},Z2e={type:12},eCe={type:14},Lu={type:23},tCe={type:1},nCe={type:25},rCe={type:24},sCe={type:26},aCe={type:27},iCe={type:28},ACe={type:29},oCe={type:31},ax={type:32},qk=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(m0(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==ax;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Mu:return this.consumeStringToken(Mu);case o2e:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if($C(n)||ia(r,s)){var a=Ru(n,r,s)?a2e:s2e,A=this.consumeName();return{type:5,value:A,flags:a}}break;case l2e:if(this.peekCodePoint(0)===Vo)return this.consumeCodePoint(),W2e;break;case Du:return this.consumeStringToken(Du);case Pu:return K2e;case qo:return z2e;case Im:if(this.peekCodePoint(0)===Vo)return this.consumeCodePoint(),eCe;break;case ai:if(Mm(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case B2e:return G2e;case Un:var o=t,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(Mm(o,l,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Ru(o,l,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Un&&u===h2e)return this.consumeCodePoint(),this.consumeCodePoint(),rCe;break;case dc:if(Mm(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case DC:if(this.peekCodePoint(0)===Im)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===Im&&(f=this.consumeCodePoint(),f===DC))return this.consumeToken();if(f===Wr)return this.consumeToken()}break;case C2e:return sCe;case _2e:return aCe;case f2e:if(this.peekCodePoint(0)===d2e&&this.peekCodePoint(1)===Un&&this.peekCodePoint(2)===Un)return this.consumeCodePoint(),this.consumeCodePoint(),nCe;break;case m2e:var c=this.peekCodePoint(0),d=this.peekCodePoint(1),h=this.peekCodePoint(2);if(Ru(c,d,h)){var A=this.consumeName();return{type:7,value:A}}break;case g2e:return iCe;case jl:if(ia(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case p2e:return ACe;case x2e:if(this.peekCodePoint(0)===Vo)return this.consumeCodePoint(),V2e;break;case v2e:return J2e;case y2e:return Z2e;case U2e:case I2e:var m=this.peekCodePoint(0),x=this.peekCodePoint(1);return m===ai&&(rA(x)||x===Hu)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case PC:if(this.peekCodePoint(0)===Vo)return this.consumeCodePoint(),X2e;if(this.peekCodePoint(0)===PC)return this.consumeCodePoint(),q2e;break;case b2e:if(this.peekCodePoint(0)===Vo)return this.consumeCodePoint(),Y2e;break;case Wr:return ax}return $u(t)?(this.consumeWhiteSpace(),oCe):ln(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Rf(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ct(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();rA(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===Hu&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Ct.apply(void 0,t.map(function(l){return l===Hu?Ok:l})),16),a=parseInt(Ct.apply(void 0,t.map(function(l){return l===Hu?Vk:l})),16);return{type:30,start:s,end:a}}var A=parseInt(Ct.apply(void 0,t),16);if(this.peekCodePoint(0)===Un&&rA(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];rA(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var a=parseInt(Ct.apply(void 0,o),16);return{type:30,start:A,end:a}}else return{type:30,start:A,end:A}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Pu?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Pu?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Wr)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Du||n===Mu){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Wr||this.peekCodePoint(0)===qo)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Lu)}for(;;){var s=this.consumeCodePoint();if(s===Wr||s===qo)return{type:22,value:Ct.apply(void 0,t)};if($u(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Wr||this.peekCodePoint(0)===qo?(this.consumeCodePoint(),{type:22,value:Ct.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Lu);if(s===Mu||s===Du||s===Pu||L2e(s))return this.consumeBadUrlRemnants(),Lu;if(s===jl)if(ia(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Lu;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;$u(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===qo||t===Wr)return;ia(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var s=Math.min(n,t);r+=Ct.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var s=this._value[r];if(s===Wr||s===void 0||s===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===$f)return this._value.splice(0,r),tCe;if(s===jl){var a=this._value[r+1];a!==Wr&&a!==void 0&&(a===$f?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):ia(s,a)&&(n+=this.consumeStringSlice(r),n+=Ct(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=Vc,r=this.peekCodePoint(0);for((r===ai||r===Un)&&t.push(this.consumeCodePoint());ln(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===dc&&ln(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=MC;ln(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===Wk||r===zk)&&((s===ai||s===Un)&&ln(a)||ln(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=MC;ln(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[O2e(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Ru(s,a,A)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return s===c2e?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(rA(t)){for(var n=Ct(t);rA(this.peekCodePoint(0))&&n.length<6;)n+=Ct(this.consumeCodePoint());$u(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||D2e(r)||r>1114111?HC:r}return t===Wr?HC:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if($C(n))t+=Ct(n);else if(ia(n,this.peekCodePoint(0)))t+=Ct(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),Xk=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new qk;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||cCe(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?ax:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),qc=function(e){return e.type===15},Co=function(e){return e.type===17},Je=function(e){return e.type===20},lCe=function(e){return e.type===0},ix=function(e,t){return Je(e)&&e.value===t},Yk=function(e){return e.type!==31},io=function(e){return e.type!==31&&e.type!==4},As=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},cCe=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Ma=function(e){return e.type===17||e.type===15},Nt=function(e){return e.type===16||Ma(e)},Jk=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Zt={type:17,number:0,flags:Vc},C1={type:16,number:50,flags:Vc},ma={type:16,number:100,flags:Vc},fl=function(e,t,n){var r=e[0],s=e[1];return[nt(r,t),nt(typeof s<"u"?s:r,n)]},nt=function(e,t){if(e.type===16)return e.number/100*t;if(qc(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Zk="deg",eE="grad",tE="rad",nE="turn",g0={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Zk:return Math.PI*t.number/180;case eE:return Math.PI/200*t.number;case tE:return t.number;case nE:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},rE=function(e){return e.type===15&&(e.unit===Zk||e.unit===eE||e.unit===tE||e.unit===nE)},sE=function(e){var t=e.filter(Je).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Zt,Zt];case"to top":case"bottom":return ur(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Zt,ma];case"to right":case"left":return ur(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ma,ma];case"to bottom":case"top":return ur(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ma,Zt];case"to left":case"right":return ur(270)}return 0},ur=function(e){return Math.PI*e/180},ka={name:"color",parse:function(e,t){if(t.type===18){var n=uCe[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return ga(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3),A=t.value.substring(3,4);return ga(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(A+A,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6);return ga(parseInt(r,16),parseInt(s,16),parseInt(a,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),A=t.value.substring(6,8);return ga(parseInt(r,16),parseInt(s,16),parseInt(a,16),parseInt(A,16)/255)}}if(t.type===20){var o=Us[t.value.toUpperCase()];if(typeof o<"u")return o}return Us.TRANSPARENT}},Ea=function(e){return(255&e)===0},$t=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+r+","+n+","+t/255+")":"rgb("+s+","+r+","+n+")"},ga=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},RC=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},LC=function(e,t){var n=t.filter(io);if(n.length===3){var r=n.map(RC),s=r[0],a=r[1],A=r[2];return ga(s,a,A,1)}if(n.length===4){var o=n.map(RC),s=o[0],a=o[1],A=o[2],l=o[3];return ga(s,a,A,l)}return 0};function Dm(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var OC=function(e,t){var n=t.filter(io),r=n[0],s=n[1],a=n[2],A=n[3],o=(r.type===17?ur(r.number):g0.parse(e,r))/(Math.PI*2),l=Nt(s)?s.number/100:0,u=Nt(a)?a.number/100:0,f=typeof A<"u"&&Nt(A)?nt(A,1):1;if(l===0)return ga(u*255,u*255,u*255,1);var c=u<=.5?u*(l+1):u+l-u*l,d=u*2-c,h=Dm(d,c,o+1/3),m=Dm(d,c,o),x=Dm(d,c,o-1/3);return ga(h*255,m*255,x*255,f)},uCe={hsl:OC,hsla:OC,rgb:LC,rgba:LC},Nl=function(e,t){return ka.parse(e,Xk.create(t).parseComponentValue())},Us={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dCe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Je(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fCe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},p0=function(e,t){var n=ka.parse(e,t[0]),r=t[1];return r&&Nt(r)?{color:n,stop:r}:{color:n,stop:null}},KC=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=Zt),r.stop===null&&(r.stop=ma);for(var s=[],a=0,A=0;A<e.length;A++){var o=e[A].stop;if(o!==null){var l=nt(o,t);l>a?s.push(l):s.push(a),a=l}else s.push(null)}for(var u=null,A=0;A<s.length;A++){var f=s[A];if(f===null)u===null&&(u=A);else if(u!==null){for(var c=A-u,d=s[u-1],h=(f-d)/(c+1),m=1;m<=c;m++)s[u+m-1]=h*m;u=null}}return e.map(function(x,v){var g=x.color;return{color:g,stop:Math.max(Math.min(1,s[v]/t),0)}})},hCe=function(e,t,n){var r=t/2,s=n/2,a=nt(e[0],t)-r,A=s-nt(e[1],n);return(Math.atan2(A,a)+Math.PI*2)%(Math.PI*2)},mCe=function(e,t,n){var r=typeof e=="number"?e:hCe(e,t,n),s=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,A=n/2,o=s/2,l=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[s,a-u,a+u,A-l,A+l]},Nr=function(e,t){return Math.sqrt(e*e+t*t)},zC=function(e,t,n,r,s){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(A,o){var l=o[0],u=o[1],f=Nr(n-l,r-u);return(s?f<A.optimumDistance:f>A.optimumDistance)?{optimumCorner:o,optimumDistance:f}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},gCe=function(e,t,n,r,s){var a=0,A=0;switch(e.size){case 0:e.shape===0?a=A=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-r)),A=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(e.shape===0)a=A=Math.min(Nr(t,n),Nr(t,n-s),Nr(t-r,n),Nr(t-r,n-s));else if(e.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-r)),l=zC(r,s,t,n,!0),u=l[0],f=l[1];a=Nr(u-t,(f-n)/o),A=o*a}break;case 1:e.shape===0?a=A=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-r)),A=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(e.shape===0)a=A=Math.max(Nr(t,n),Nr(t,n-s),Nr(t-r,n),Nr(t-r,n-s));else if(e.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-r)),c=zC(r,s,t,n,!1),u=c[0],f=c[1];a=Nr(u-t,(f-n)/o),A=o*a}break}return Array.isArray(e.size)&&(a=nt(e.size[0],r),A=e.size.length===2?nt(e.size[1],s):a),[a,A]},pCe=function(e,t){var n=ur(180),r=[];return As(t).forEach(function(s,a){if(a===0){var A=s[0];if(A.type===20&&A.value==="to"){n=sE(s);return}else if(rE(A)){n=g0.parse(e,A);return}}var o=p0(e,s);r.push(o)}),{angle:n,stops:r,type:1}},Ou=function(e,t){var n=ur(180),r=[];return As(t).forEach(function(s,a){if(a===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){n=sE(s);return}else if(rE(A)){n=(g0.parse(e,A)+ur(270))%ur(360);return}}var o=p0(e,s);r.push(o)}),{angle:n,stops:r,type:1}},xCe=function(e,t){var n=ur(180),r=[],s=1,a=0,A=3,o=[];return As(t).forEach(function(l,u){var f=l[0];if(u===0){if(Je(f)&&f.value==="linear"){s=1;return}else if(Je(f)&&f.value==="radial"){s=2;return}}if(f.type===18){if(f.name==="from"){var c=ka.parse(e,f.values[0]);r.push({stop:Zt,color:c})}else if(f.name==="to"){var c=ka.parse(e,f.values[0]);r.push({stop:ma,color:c})}else if(f.name==="color-stop"){var d=f.values.filter(io);if(d.length===2){var c=ka.parse(e,d[1]),h=d[0];Co(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:c})}}}}),s===1?{angle:(n+ur(180))%ur(360),stops:r,type:s}:{size:A,shape:a,stops:r,position:o,type:s}},aE="closest-side",iE="farthest-side",AE="closest-corner",oE="farthest-corner",lE="circle",cE="ellipse",uE="cover",dE="contain",vCe=function(e,t){var n=0,r=3,s=[],a=[];return As(t).forEach(function(A,o){var l=!0;if(o===0){var u=!1;l=A.reduce(function(c,d){if(u)if(Je(d))switch(d.value){case"center":return a.push(C1),c;case"top":case"left":return a.push(Zt),c;case"right":case"bottom":return a.push(ma),c}else(Nt(d)||Ma(d))&&a.push(d);else if(Je(d))switch(d.value){case lE:return n=0,!1;case cE:return n=1,!1;case"at":return u=!0,!1;case aE:return r=0,!1;case uE:case iE:return r=1,!1;case dE:case AE:return r=2,!1;case oE:return r=3,!1}else if(Ma(d)||Nt(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return c},l)}if(l){var f=p0(e,A);s.push(f)}}),{size:r,shape:n,stops:s,position:a,type:2}},Ku=function(e,t){var n=0,r=3,s=[],a=[];return As(t).forEach(function(A,o){var l=!0;if(o===0?l=A.reduce(function(f,c){if(Je(c))switch(c.value){case"center":return a.push(C1),!1;case"top":case"left":return a.push(Zt),!1;case"right":case"bottom":return a.push(ma),!1}else if(Nt(c)||Ma(c))return a.push(c),!1;return f},l):o===1&&(l=A.reduce(function(f,c){if(Je(c))switch(c.value){case lE:return n=0,!1;case cE:return n=1,!1;case dE:case aE:return r=0,!1;case iE:return r=1,!1;case AE:return r=2,!1;case uE:case oE:return r=3,!1}else if(Ma(c)||Nt(c))return Array.isArray(r)||(r=[]),r.push(c),!1;return f},l)),l){var u=p0(e,A);s.push(u)}}),{size:r,shape:n,stops:s,position:a,type:2}},yCe=function(e){return e.type===1},bCe=function(e){return e.type===2},_1={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=fE[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function wCe(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!fE[e.name])}var fE={"linear-gradient":pCe,"-moz-linear-gradient":Ou,"-ms-linear-gradient":Ou,"-o-linear-gradient":Ou,"-webkit-linear-gradient":Ou,"radial-gradient":vCe,"-moz-radial-gradient":Ku,"-ms-radial-gradient":Ku,"-o-radial-gradient":Ku,"-webkit-radial-gradient":Ku,"-webkit-gradient":xCe},BCe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return io(r)&&wCe(r)}).map(function(r){return _1.parse(e,r)})}},CCe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Je(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_Ce={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return As(t).map(function(n){return n.filter(Nt)}).map(Jk)}},SCe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return As(t).map(function(n){return n.filter(Je).map(function(r){return r.value}).join(" ")}).map(jCe)}},jCe=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},PA;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(PA||(PA={}));var NCe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return As(t).map(function(n){return n.filter(kCe)})}},kCe=function(e){return Je(e)||Nt(e)},x0=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ECe=x0("top"),FCe=x0("right"),QCe=x0("bottom"),UCe=x0("left"),v0=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return Jk(n.filter(Nt))}}},TCe=v0("top-left"),ICe=v0("top-right"),MCe=v0("bottom-right"),DCe=v0("bottom-left"),y0=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},PCe=y0("top"),HCe=y0("right"),$Ce=y0("bottom"),RCe=y0("left"),b0=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return qc(n)?n.number:0}}},LCe=b0("top"),OCe=b0("right"),KCe=b0("bottom"),zCe=b0("left"),GCe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},WCe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},VCe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Je).reduce(function(n,r){return n|qCe(r.value)},0)}},qCe=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},XCe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},YCe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Lf;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Lf||(Lf={}));var JCe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Lf.STRICT;case"normal":default:return Lf.NORMAL}}},ZCe={name:"line-height",initialValue:"normal",prefix:!1,type:4},GC=function(e,t){return Je(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Nt(e)?nt(e,t):t},e5e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:_1.parse(e,t)}},t5e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},Ax={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},w0=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},n5e=w0("top"),r5e=w0("right"),s5e=w0("bottom"),a5e=w0("left"),i5e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Je).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},A5e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},B0=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},o5e=B0("top"),l5e=B0("right"),c5e=B0("bottom"),u5e=B0("left"),d5e={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},f5e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},h5e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&ix(t[0],"none")?[]:As(t).map(function(n){for(var r={color:Us.TRANSPARENT,offsetX:Zt,offsetY:Zt,blur:Zt},s=0,a=0;a<n.length;a++){var A=n[a];Ma(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:r.blur=A,s++):r.color=ka.parse(e,A)}return r})}},m5e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},g5e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=v5e[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},p5e=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},x5e=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=t[0],r=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var A=t[12],o=t[13];return t[14],t[15],t.length===16?[n,r,s,a,A,o]:null},v5e={matrix:p5e,matrix3d:x5e},WC={type:16,number:50,flags:Vc},y5e=[WC,WC],b5e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Nt);return n.length!==2?y5e:[n[0],n[1]]}},w5e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},kl;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(kl||(kl={}));var B5e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return kl.BREAK_ALL;case"keep-all":return kl.KEEP_ALL;case"normal":default:return kl.NORMAL}}},C5e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Co(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},hE={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},_5e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Co(t)?t.number:1}},S5e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},j5e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Je).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},N5e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},k5e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},E5e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Co(t))return t.number;if(Je(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},F5e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Je).map(function(n){return n.value})}},Q5e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Mt=function(e,t){return(e&t)!==0},U5e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},T5e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=t.filter(Yk),a=0;a<s.length;a++){var A=s[a],o=s[a+1];if(A.type===20){var l=o&&Co(o)?o.number:1;r.push({counter:A.value,increment:l})}}return r}},I5e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(Yk),s=0;s<r.length;s++){var a=r[s],A=r[s+1];if(Je(a)&&a.value!=="none"){var o=A&&Co(A)?A.number:0;n.push({counter:a.value,reset:o})}}return n}},M5e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(qc).map(function(n){return hE.parse(e,n)})}},D5e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],s=t.filter(lCe);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var A=s[a].value,o=s[a+1].value;r.push({open:A,close:o})}return r}},VC=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},P5e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&ix(t[0],"none")?[]:As(t).map(function(n){for(var r={color:255,offsetX:Zt,offsetY:Zt,blur:Zt,spread:Zt,inset:!1},s=0,a=0;a<n.length;a++){var A=n[a];ix(A,"inset")?r.inset=!0:Ma(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:s===2?r.blur=A:r.spread=A,s++):r.color=ka.parse(e,A)}return r})}},H5e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Je).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},$5e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},R5e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return qc(t)?t.number:0}},L5e=function(){function e(t,n){var r,s;this.animationDuration=me(t,M5e,n.animationDuration),this.backgroundClip=me(t,dCe,n.backgroundClip),this.backgroundColor=me(t,fCe,n.backgroundColor),this.backgroundImage=me(t,BCe,n.backgroundImage),this.backgroundOrigin=me(t,CCe,n.backgroundOrigin),this.backgroundPosition=me(t,_Ce,n.backgroundPosition),this.backgroundRepeat=me(t,SCe,n.backgroundRepeat),this.backgroundSize=me(t,NCe,n.backgroundSize),this.borderTopColor=me(t,ECe,n.borderTopColor),this.borderRightColor=me(t,FCe,n.borderRightColor),this.borderBottomColor=me(t,QCe,n.borderBottomColor),this.borderLeftColor=me(t,UCe,n.borderLeftColor),this.borderTopLeftRadius=me(t,TCe,n.borderTopLeftRadius),this.borderTopRightRadius=me(t,ICe,n.borderTopRightRadius),this.borderBottomRightRadius=me(t,MCe,n.borderBottomRightRadius),this.borderBottomLeftRadius=me(t,DCe,n.borderBottomLeftRadius),this.borderTopStyle=me(t,PCe,n.borderTopStyle),this.borderRightStyle=me(t,HCe,n.borderRightStyle),this.borderBottomStyle=me(t,$Ce,n.borderBottomStyle),this.borderLeftStyle=me(t,RCe,n.borderLeftStyle),this.borderTopWidth=me(t,LCe,n.borderTopWidth),this.borderRightWidth=me(t,OCe,n.borderRightWidth),this.borderBottomWidth=me(t,KCe,n.borderBottomWidth),this.borderLeftWidth=me(t,zCe,n.borderLeftWidth),this.boxShadow=me(t,P5e,n.boxShadow),this.color=me(t,GCe,n.color),this.direction=me(t,WCe,n.direction),this.display=me(t,VCe,n.display),this.float=me(t,XCe,n.cssFloat),this.fontFamily=me(t,N5e,n.fontFamily),this.fontSize=me(t,k5e,n.fontSize),this.fontStyle=me(t,Q5e,n.fontStyle),this.fontVariant=me(t,F5e,n.fontVariant),this.fontWeight=me(t,E5e,n.fontWeight),this.letterSpacing=me(t,YCe,n.letterSpacing),this.lineBreak=me(t,JCe,n.lineBreak),this.lineHeight=me(t,ZCe,n.lineHeight),this.listStyleImage=me(t,e5e,n.listStyleImage),this.listStylePosition=me(t,t5e,n.listStylePosition),this.listStyleType=me(t,Ax,n.listStyleType),this.marginTop=me(t,n5e,n.marginTop),this.marginRight=me(t,r5e,n.marginRight),this.marginBottom=me(t,s5e,n.marginBottom),this.marginLeft=me(t,a5e,n.marginLeft),this.opacity=me(t,_5e,n.opacity);var a=me(t,i5e,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=me(t,A5e,n.overflowWrap),this.paddingTop=me(t,o5e,n.paddingTop),this.paddingRight=me(t,l5e,n.paddingRight),this.paddingBottom=me(t,c5e,n.paddingBottom),this.paddingLeft=me(t,u5e,n.paddingLeft),this.paintOrder=me(t,H5e,n.paintOrder),this.position=me(t,f5e,n.position),this.textAlign=me(t,d5e,n.textAlign),this.textDecorationColor=me(t,S5e,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=me(t,j5e,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=me(t,h5e,n.textShadow),this.textTransform=me(t,m5e,n.textTransform),this.transform=me(t,g5e,n.transform),this.transformOrigin=me(t,b5e,n.transformOrigin),this.visibility=me(t,w5e,n.visibility),this.webkitTextStrokeColor=me(t,$5e,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=me(t,R5e,n.webkitTextStrokeWidth),this.wordBreak=me(t,B5e,n.wordBreak),this.zIndex=me(t,C5e,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Ea(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Mt(this.display,4)||Mt(this.display,33554432)||Mt(this.display,268435456)||Mt(this.display,536870912)||Mt(this.display,67108864)||Mt(this.display,134217728)},e}(),O5e=function(){function e(t,n){this.content=me(t,U5e,n.content),this.quotes=me(t,D5e,n.quotes)}return e}(),qC=function(){function e(t,n){this.counterIncrement=me(t,T5e,n.counterIncrement),this.counterReset=me(t,I5e,n.counterReset)}return e}(),me=function(e,t,n){var r=new qk,s=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(s);var a=new Xk(r.read());switch(t.type){case 2:var A=a.parseComponentValue();return t.parse(e,Je(A)?A.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return g0.parse(e,a.parseComponentValue());case"color":return ka.parse(e,a.parseComponentValue());case"image":return _1.parse(e,a.parseComponentValue());case"length":var o=a.parseComponentValue();return Ma(o)?o:Zt;case"length-percentage":var l=a.parseComponentValue();return Nt(l)?l:Zt;case"time":return hE.parse(e,a.parseComponentValue())}break}},K5e="data-html2canvas-debug",z5e=function(e){var t=e.getAttribute(K5e);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ox=function(e,t){var n=z5e(e);return n===1||t===n},os=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,ox(n,3))debugger;this.styles=new L5e(t,window.getComputedStyle(n,null)),ux(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=h0(this.context,n),ox(n,4)&&(this.flags|=16)}return e}(),G5e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",XC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zu=0;zu<XC.length;zu++)hl[XC.charCodeAt(zu)]=zu;var W5e=function(e){var t=e.length*.75,n=e.length,r,s=0,a,A,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=hl[e.charCodeAt(r)],A=hl[e.charCodeAt(r+1)],o=hl[e.charCodeAt(r+2)],l=hl[e.charCodeAt(r+3)],f[s++]=a<<2|A>>4,f[s++]=(A&15)<<4|o>>2,f[s++]=(o&3)<<6|l&63;return u},V5e=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},q5e=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},di=5,S1=6+5,Pm=2,X5e=S1-di,mE=65536>>di,Y5e=1<<di,Hm=Y5e-1,J5e=1024>>di,Z5e=mE+J5e,e_e=Z5e,t_e=32,n_e=e_e+t_e,r_e=65536>>S1,s_e=1<<X5e,a_e=s_e-1,YC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},i_e=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},A_e=function(e,t){var n=W5e(e),r=Array.isArray(n)?q5e(n):new Uint32Array(n),s=Array.isArray(n)?V5e(n):new Uint16Array(n),a=24,A=YC(s,a/2,r[4]/2),o=r[5]===2?YC(s,(a+r[4])/2):i_e(r,Math.ceil((a+r[4])/4));return new o_e(r[0],r[1],r[2],r[3],A,o)},o_e=function(){function e(t,n,r,s,a,A){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=a,this.data=A}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>di],n=(n<<Pm)+(t&Hm),this.data[n];if(t<=65535)return n=this.index[mE+(t-55296>>di)],n=(n<<Pm)+(t&Hm),this.data[n];if(t<this.highStart)return n=n_e-r_e+(t>>S1),n=this.index[n],n+=t>>di&a_e,n=this.index[n],n=(n<<Pm)+(t&Hm),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),JC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l_e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gu=0;Gu<JC.length;Gu++)l_e[JC.charCodeAt(Gu)]=Gu;var c_e=1,$m=2,Rm=3,ZC=4,e5=5,u_e=7,t5=8,Lm=9,Om=10,n5=11,r5=12,s5=13,a5=14,Km=15,d_e=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),n--)}else t.push(s)}return t},f_e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var A=e[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},h_e=A_e(G5e),sr="",zm="",m_e=function(e){return h_e.get(e)},g_e=function(e,t,n){var r=n-2,s=t[r],a=t[n-1],A=t[n];if(a===$m&&A===Rm)return sr;if(a===$m||a===Rm||a===ZC||A===$m||A===Rm||A===ZC)return zm;if(a===t5&&[t5,Lm,n5,r5].indexOf(A)!==-1||(a===n5||a===Lm)&&(A===Lm||A===Om)||(a===r5||a===Om)&&A===Om||A===s5||A===e5||A===u_e||a===c_e)return sr;if(a===s5&&A===a5){for(;s===e5;)s=t[--r];if(s===a5)return sr}if(a===Km&&A===Km){for(var o=0;s===Km;)o++,s=t[--r];if(o%2===0)return sr}return zm},p_e=function(e){var t=d_e(e),n=t.length,r=0,s=0,a=t.map(m_e);return{next:function(){if(r>=n)return{done:!0,value:null};for(var A=sr;r<n&&(A=g_e(t,a,++r))===sr;);if(A!==sr||r===n){var o=f_e.apply(null,t.slice(s,r));return s=r,{value:o,done:!1}}return{done:!0,value:null}}}},x_e=function(e){for(var t=p_e(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},v_e=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(r),a===t)return!0}}return!1},y_e=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,s=m0(r.data).map(function(l){return Ct(l)}),a=0,A={},o=s.every(function(l,u){n.setStart(r,a),n.setEnd(r,a+l.length);var f=n.getBoundingClientRect();a+=l.length;var c=f.x>A.x||f.y>A.y;return A=f,u===0?!0:c});return e.body.removeChild(t),o},b_e=function(){return typeof new Image().crossOrigin<"u"},w_e=function(){return typeof new XMLHttpRequest().responseType=="string"},B_e=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},i5=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},C_e=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,a=t.toDataURL();s.src=a;var A=lx(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),A5(A).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=e.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=n+"px",i5(l)?A5(lx(n,n,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),i5(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},lx=function(e,t,n,r,s){var a="http://www.w3.org/2000/svg",A=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return A.setAttributeNS(null,"width",e.toString()),A.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(o),o.appendChild(s),A},A5=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Jt={get SUPPORT_RANGE_BOUNDS(){var e=v_e(document);return Object.defineProperty(Jt,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Jt.SUPPORT_RANGE_BOUNDS&&y_e(document);return Object.defineProperty(Jt,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=B_e(document);return Object.defineProperty(Jt,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?C_e(document):Promise.resolve(!1);return Object.defineProperty(Jt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=b_e();return Object.defineProperty(Jt,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=w_e();return Object.defineProperty(Jt,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Jt,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Jt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},El=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),__e=function(e,t,n,r){var s=N_e(t,n),a=[],A=0;return s.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Jt.SUPPORT_RANGE_BOUNDS){var l=o5(r,A,o.length).getClientRects();if(l.length>1){var u=j1(o),f=0;u.forEach(function(d){a.push(new El(d,Os.fromDOMRectList(e,o5(r,f+A,d.length).getClientRects()))),f+=d.length})}else a.push(new El(o,Os.fromDOMRectList(e,l)))}else{var c=r.splitText(o.length);a.push(new El(o,S_e(e,r))),r=c}else Jt.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));A+=o.length}),a},S_e=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(r,t);var a=h0(e,r);return r.firstChild&&s.replaceChild(r.firstChild,r),a}}return Os.EMPTY},o5=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},j1=function(e){if(Jt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return x_e(e)},j_e=function(e,t){if(Jt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return E_e(e,t)},N_e=function(e,t){return t.letterSpacing!==0?j1(e):j_e(e,t)},k_e=[32,160,4961,65792,65793,4153,4241],E_e=function(e,t){for(var n=r2e(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],s,a=function(){if(s.value){var A=s.value.slice(),o=m0(A),l="";o.forEach(function(u){k_e.indexOf(u)===-1?l+=Ct(u):(l.length&&r.push(l),r.push(Ct(u)),l="")}),l.length&&r.push(l)}};!(s=n.next()).done;)a();return r},F_e=function(){function e(t,n,r){this.text=Q_e(n.data,r.textTransform),this.textBounds=__e(t,this.text,r,n)}return e}(),Q_e=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(U_e,T_e);case 2:return e.toUpperCase();default:return e}},U_e=/(^|\s|:|-|\(|\))([a-z])/g,T_e=function(e,t,n){return e.length>0?t+n.toUpperCase():e},gE=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return t}(os),pE=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return t}(os),xE=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this,a=new XMLSerializer,A=h0(n,r);return r.setAttribute("width",A.width+"px"),r.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(os),vE=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.value=r.value,s}return t}(os),cx=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return t}(os),I_e=[{type:15,flags:0,unit:"px",number:3}],M_e=[{type:16,flags:0,number:50}],D_e=function(e){return e.width>e.height?new Os(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Os(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},P_e=function(e){var t=e.type===H_e?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},Of="checkbox",Kf="radio",H_e="password",l5=707406591,N1=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=P_e(r),(s.type===Of||s.type===Kf)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=D_e(s.bounds)),s.type){case Of:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=I_e;break;case Kf:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=M_e;break}return s}return t}(os),yE=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return s.value=a&&a.text||"",s}return t}(os),bE=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.value=r.value,s}return t}(os),wE=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=CE(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?Nl(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Us.TRANSPARENT,A=r.contentWindow.document.body?Nl(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Us.TRANSPARENT;s.backgroundColor=Ea(a)?Ea(A)?s.styles.backgroundColor:A:a}}catch{}return s}return t}(os),$_e=["OL","UL","MENU"],yd=function(e,t,n,r){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,_E(s)&&s.data.trim().length>0)n.textNodes.push(new F_e(e,s,n.styles));else if(jA(s))if(kE(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return yd(e,o,n,r)});else{var A=BE(e,s);A.styles.isVisible()&&(R_e(s,A,r)?A.flags|=4:L_e(A.styles)&&(A.flags|=2),$_e.indexOf(s.tagName)!==-1&&(A.flags|=8),n.elements.push(A),s.slot,s.shadowRoot?yd(e,s.shadowRoot,A,r):!zf(s)&&!SE(s)&&!Gf(s)&&yd(e,s,A,r))}},BE=function(e,t){return dx(t)?new gE(e,t):jE(t)?new pE(e,t):SE(t)?new xE(e,t):O_e(t)?new vE(e,t):K_e(t)?new cx(e,t):z_e(t)?new N1(e,t):Gf(t)?new yE(e,t):zf(t)?new bE(e,t):NE(t)?new wE(e,t):new os(e,t)},CE=function(e,t){var n=BE(e,t);return n.flags|=4,yd(e,t,n,n),n},R_e=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||k1(e)&&n.styles.isTransparent()},L_e=function(e){return e.isPositioned()||e.isFloating()},_E=function(e){return e.nodeType===Node.TEXT_NODE},jA=function(e){return e.nodeType===Node.ELEMENT_NODE},ux=function(e){return jA(e)&&typeof e.style<"u"&&!bd(e)},bd=function(e){return typeof e.className=="object"},O_e=function(e){return e.tagName==="LI"},K_e=function(e){return e.tagName==="OL"},z_e=function(e){return e.tagName==="INPUT"},G_e=function(e){return e.tagName==="HTML"},SE=function(e){return e.tagName==="svg"},k1=function(e){return e.tagName==="BODY"},jE=function(e){return e.tagName==="CANVAS"},c5=function(e){return e.tagName==="VIDEO"},dx=function(e){return e.tagName==="IMG"},NE=function(e){return e.tagName==="IFRAME"},u5=function(e){return e.tagName==="STYLE"},W_e=function(e){return e.tagName==="SCRIPT"},zf=function(e){return e.tagName==="TEXTAREA"},Gf=function(e){return e.tagName==="SELECT"},kE=function(e){return e.tagName==="SLOT"},d5=function(e){return e.tagName.indexOf("-")>0},V_e=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,s=t.counterReset,a=!0;r!==null&&r.forEach(function(o){var l=n.counters[o.counter];l&&o.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var A=[];return a&&s.forEach(function(o){var l=n.counters[o.counter];A.push(o.counter),l||(l=n.counters[o.counter]=[]),l.push(o.reset)}),A},e}(),f5={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},h5={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},q_e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},X_e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sA=function(e,t,n,r,s,a){return e<t||e>n?fc(e,s,a.length>0):r.integers.reduce(function(A,o,l){for(;e>=o;)e-=o,A+=r.values[l];return A},"")+a},EE=function(e,t,n,r){var s="";do n||e--,s=r(e)+s,e/=t;while(e*t>=t);return s},Bt=function(e,t,n,r,s){var a=n-t+1;return(e<0?"-":"")+(EE(Math.abs(e),a,r,function(A){return Ct(Math.floor(A%a)+t)})+s)},Ga=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return EE(Math.abs(e),r,!1,function(s){return t[Math.floor(s%r)]})+n},dA=1,ta=2,na=4,ml=8,ms=function(e,t,n,r,s,a){if(e<-9999||e>9999)return fc(e,4,s.length>0);var A=Math.abs(e),o=s;if(A===0)return t[0]+o;for(var l=0;A>0&&l<=4;l++){var u=A%10;u===0&&Mt(a,dA)&&o!==""?o=t[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Mt(a,ta)||u===1&&l===1&&Mt(a,na)&&e>100||u===1&&l>1&&Mt(a,ml)?o=t[u]+(l>0?n[l-1]:"")+o:u===1&&l>0&&(o=n[l-1]+o),A=Math.floor(A/10)}return(e<0?r:"")+o},m5="",g5="",p5="",Gm="",fc=function(e,t,n){var r=n?". ":"",s=n?"":"",a=n?", ":"",A=n?" ":"";switch(t){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var o=Bt(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Ga(e,"",s);case 6:return sA(e,1,3999,f5,3,r).toLowerCase();case 7:return sA(e,1,3999,f5,3,r);case 8:return Bt(e,945,969,!1,r);case 9:return Bt(e,97,122,!1,r);case 10:return Bt(e,65,90,!1,r);case 11:return Bt(e,1632,1641,!0,r);case 12:case 49:return sA(e,1,9999,h5,3,r);case 35:return sA(e,1,9999,h5,3,r).toLowerCase();case 13:return Bt(e,2534,2543,!0,r);case 14:case 30:return Bt(e,6112,6121,!0,r);case 15:return Ga(e,"",s);case 16:return Ga(e,"",s);case 17:case 48:return ms(e,"",m5,"",s,ta|na|ml);case 47:return ms(e,"",g5,"",s,dA|ta|na|ml);case 42:return ms(e,"",m5,"",s,ta|na|ml);case 41:return ms(e,"",g5,"",s,dA|ta|na|ml);case 26:return ms(e,"","",p5,s,0);case 25:return ms(e,"","",p5,s,dA|ta|na);case 31:return ms(e,"","",Gm,a,dA|ta|na);case 33:return ms(e,"","",Gm,a,0);case 32:return ms(e,"","",Gm,a,dA|ta|na);case 18:return Bt(e,2406,2415,!0,r);case 20:return sA(e,1,19999,X_e,3,r);case 21:return Bt(e,2790,2799,!0,r);case 22:return Bt(e,2662,2671,!0,r);case 22:return sA(e,1,10999,q_e,3,r);case 23:return Ga(e,"");case 24:return Ga(e,"");case 27:return Bt(e,3302,3311,!0,r);case 28:return Ga(e,"",s);case 29:return Ga(e,"",s);case 34:return Bt(e,3792,3801,!0,r);case 37:return Bt(e,6160,6169,!0,r);case 38:return Bt(e,4160,4169,!0,r);case 39:return Bt(e,2918,2927,!0,r);case 40:return Bt(e,1776,1785,!0,r);case 43:return Bt(e,3046,3055,!0,r);case 44:return Bt(e,3174,3183,!0,r);case 45:return Bt(e,3664,3673,!0,r);case 46:return Bt(e,3872,3881,!0,r);case 3:default:return Bt(e,48,57,!0,r)}},FE="data-html2canvas-ignore",x5=function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new V_e,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,s=Y_e(t,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,A=t.defaultView.pageYOffset,o=s.contentWindow,l=o.document,u=e4e(s).then(function(){return pn(r,void 0,void 0,function(){var f,c;return on(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(s4e),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),f=this.options.onclone,c=this.clonedReferenceElement,typeof c>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Z_e(l)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(l,c)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(n4e(document.doctype)+"<html></html>"),r4e(this.referenceElement.ownerDocument,a,A),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},e.prototype.createElementClone=function(t){if(ox(t,2))debugger;if(jE(t))return this.createCanvasClone(t);if(c5(t))return this.createVideoClone(t);if(u5(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return dx(n)&&(dx(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),d5(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return Wm(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,A){return A&&typeof A.cssText=="string"?a+A.cssText:a},""),s=t.cloneNode(!1);return s.textContent=r,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var a=t.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&a)A.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var o=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}A.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,n,r){(!jA(n)||!W_e(n)&&!n.hasAttribute(FE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!jA(n)||!u5(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var s=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(jA(a)&&kE(a)&&typeof a.assignedNodes=="function"){var A=a.assignedNodes();A.length&&A.forEach(function(o){return s.appendChildNode(n,o,r)})}else this.appendChildNode(n,a,r)},e.prototype.cloneNode=function(t,n){if(_E(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&jA(t)&&(ux(t)||bd(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var a=r.getComputedStyle(t),A=r.getComputedStyle(t,":before"),o=r.getComputedStyle(t,":after");this.referenceElement===t&&ux(s)&&(this.clonedReferenceElement=s),k1(s)&&A4e(s);var l=this.counters.parse(new qC(this.context,a)),u=this.resolvePseudoContent(t,s,A,Fl.BEFORE);d5(t)&&(n=!0),c5(t)||this.cloneChildNodes(t,s,n),u&&s.insertBefore(u,s.firstChild);var f=this.resolvePseudoContent(t,s,o,Fl.AFTER);return f&&s.appendChild(f),this.counters.pop(l),(a&&(this.options.copyStyles||bd(t))&&!NE(t)||n)&&Wm(a,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(zf(t)||Gf(t))&&(zf(s)||Gf(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,s){var a=this;if(r){var A=r.content,o=n.ownerDocument;if(!(!o||!A||A==="none"||A==="-moz-alt-content"||r.display==="none")){this.counters.parse(new qC(this.context,r));var l=new O5e(this.context,r),u=o.createElement("html2canvaspseudoelement");Wm(r,u),l.content.forEach(function(c){if(c.type===0)u.appendChild(o.createTextNode(c.value));else if(c.type===22){var d=o.createElement("img");d.src=c.value,d.style.opacity="1",u.appendChild(d)}else if(c.type===18){if(c.name==="attr"){var h=c.values.filter(Je);h.length&&u.appendChild(o.createTextNode(t.getAttribute(h[0].value)||""))}else if(c.name==="counter"){var m=c.values.filter(io),x=m[0],v=m[1];if(x&&Je(x)){var g=a.counters.getCounterValue(x.value),p=v&&Je(v)?Ax.parse(a.context,v.value):3;u.appendChild(o.createTextNode(fc(g,p,!1)))}}else if(c.name==="counters"){var y=c.values.filter(io),x=y[0],b=y[1],v=y[2];if(x&&Je(x)){var C=a.counters.getCounterValues(x.value),B=v&&Je(v)?Ax.parse(a.context,v.value):3,_=b&&b.type===0?b.value:"",N=C.map(function(U){return fc(U,B,!1)}).join(_);u.appendChild(o.createTextNode(N))}}}else if(c.type===20)switch(c.value){case"open-quote":u.appendChild(o.createTextNode(VC(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(VC(l.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(c.value))}}),u.className=fx+" "+hx;var f=s===Fl.BEFORE?" "+fx:" "+hx;return bd(n)?n.className.baseValue+=f:n.className+=f,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Fl;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Fl||(Fl={}));var Y_e=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(FE,"true"),e.body.appendChild(n),n},J_e=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Z_e=function(e){return Promise.all([].slice.call(e.images,0).map(J_e))},e4e=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},t4e=["all","d","content"],Wm=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);t4e.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},n4e=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},r4e=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},s4e=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},a4e=":before",i4e=":after",fx="___html2canvas___pseudoelement_before",hx="___html2canvas___pseudoelement_after",v5=`{
    content: "" !important;
    display: none !important;
}`,A4e=function(e){o4e(e,"."+fx+a4e+v5+`
         .`+hx+i4e+v5)},o4e=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},QE=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),l4e=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(qm(t)||f4e(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return pn(this,void 0,void 0,function(){var n,r,s,a,A=this;return on(this,function(o){switch(o.label){case 0:return n=QE.isSameOrigin(t),r=!Vm(t)&&this._options.useCORS===!0&&Jt.SUPPORT_CORS_IMAGES&&!n,s=!Vm(t)&&!n&&!qm(t)&&typeof this._options.proxy=="string"&&Jt.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!Vm(t)&&!qm(t)&&!s&&!r?[2]:(a=t,s?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,u){var f=new Image;f.onload=function(){return l(f)},f.onerror=u,(h4e(a)||r)&&(f.crossOrigin="anonymous"),f.src=a,f.complete===!0&&setTimeout(function(){return l(f)},500),A._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(a,A){var o=Jt.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")a(l.response);else{var c=new FileReader;c.addEventListener("load",function(){return a(c.result)},!1),c.addEventListener("error",function(d){return A(d)},!1),c.readAsDataURL(l.response)}else A("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=A;var u=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+u+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),n._options.imageTimeout){var f=n._options.imageTimeout;l.timeout=f,l.ontimeout=function(){return A("Timed out ("+f+"ms) proxying "+s)}}l.send()})},e}(),c4e=/^data:image\/svg\+xml/i,u4e=/^data:image\/.*;base64,/i,d4e=/^data:image\/.*/i,f4e=function(e){return Jt.SUPPORT_SVG_DRAWING||!m4e(e)},Vm=function(e){return d4e.test(e)},h4e=function(e){return u4e.test(e)},qm=function(e){return e.substr(0,4)==="blob"},m4e=function(e){return e.substr(-3).toLowerCase()==="svg"||c4e.test(e)},de=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),aA=function(e,t,n){return new de(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Wu=function(){function e(t,n,r,s){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=s}return e.prototype.subdivide=function(t,n){var r=aA(this.start,this.startControl,t),s=aA(this.startControl,this.endControl,t),a=aA(this.endControl,this.end,t),A=aA(r,s,t),o=aA(s,a,t),l=aA(A,o,t);return n?new e(this.start,r,A,l):new e(l,o,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ar=function(e){return e.type===1},g4e=function(){function e(t){var n=t.styles,r=t.bounds,s=fl(n.borderTopLeftRadius,r.width,r.height),a=s[0],A=s[1],o=fl(n.borderTopRightRadius,r.width,r.height),l=o[0],u=o[1],f=fl(n.borderBottomRightRadius,r.width,r.height),c=f[0],d=f[1],h=fl(n.borderBottomLeftRadius,r.width,r.height),m=h[0],x=h[1],v=[];v.push((a+l)/r.width),v.push((m+c)/r.width),v.push((A+x)/r.height),v.push((u+d)/r.height);var g=Math.max.apply(Math,v);g>1&&(a/=g,A/=g,l/=g,u/=g,c/=g,d/=g,m/=g,x/=g);var p=r.width-l,y=r.height-d,b=r.width-c,C=r.height-x,B=n.borderTopWidth,_=n.borderRightWidth,N=n.borderBottomWidth,w=n.borderLeftWidth,E=nt(n.paddingTop,t.bounds.width),U=nt(n.paddingRight,t.bounds.width),I=nt(n.paddingBottom,t.bounds.width),H=nt(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||A>0?dt(r.left+w/3,r.top+B/3,a-w/3,A-B/3,We.TOP_LEFT):new de(r.left+w/3,r.top+B/3),this.topRightBorderDoubleOuterBox=a>0||A>0?dt(r.left+p,r.top+B/3,l-_/3,u-B/3,We.TOP_RIGHT):new de(r.left+r.width-_/3,r.top+B/3),this.bottomRightBorderDoubleOuterBox=c>0||d>0?dt(r.left+b,r.top+y,c-_/3,d-N/3,We.BOTTOM_RIGHT):new de(r.left+r.width-_/3,r.top+r.height-N/3),this.bottomLeftBorderDoubleOuterBox=m>0||x>0?dt(r.left+w/3,r.top+C,m-w/3,x-N/3,We.BOTTOM_LEFT):new de(r.left+w/3,r.top+r.height-N/3),this.topLeftBorderDoubleInnerBox=a>0||A>0?dt(r.left+w*2/3,r.top+B*2/3,a-w*2/3,A-B*2/3,We.TOP_LEFT):new de(r.left+w*2/3,r.top+B*2/3),this.topRightBorderDoubleInnerBox=a>0||A>0?dt(r.left+p,r.top+B*2/3,l-_*2/3,u-B*2/3,We.TOP_RIGHT):new de(r.left+r.width-_*2/3,r.top+B*2/3),this.bottomRightBorderDoubleInnerBox=c>0||d>0?dt(r.left+b,r.top+y,c-_*2/3,d-N*2/3,We.BOTTOM_RIGHT):new de(r.left+r.width-_*2/3,r.top+r.height-N*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||x>0?dt(r.left+w*2/3,r.top+C,m-w*2/3,x-N*2/3,We.BOTTOM_LEFT):new de(r.left+w*2/3,r.top+r.height-N*2/3),this.topLeftBorderStroke=a>0||A>0?dt(r.left+w/2,r.top+B/2,a-w/2,A-B/2,We.TOP_LEFT):new de(r.left+w/2,r.top+B/2),this.topRightBorderStroke=a>0||A>0?dt(r.left+p,r.top+B/2,l-_/2,u-B/2,We.TOP_RIGHT):new de(r.left+r.width-_/2,r.top+B/2),this.bottomRightBorderStroke=c>0||d>0?dt(r.left+b,r.top+y,c-_/2,d-N/2,We.BOTTOM_RIGHT):new de(r.left+r.width-_/2,r.top+r.height-N/2),this.bottomLeftBorderStroke=m>0||x>0?dt(r.left+w/2,r.top+C,m-w/2,x-N/2,We.BOTTOM_LEFT):new de(r.left+w/2,r.top+r.height-N/2),this.topLeftBorderBox=a>0||A>0?dt(r.left,r.top,a,A,We.TOP_LEFT):new de(r.left,r.top),this.topRightBorderBox=l>0||u>0?dt(r.left+p,r.top,l,u,We.TOP_RIGHT):new de(r.left+r.width,r.top),this.bottomRightBorderBox=c>0||d>0?dt(r.left+b,r.top+y,c,d,We.BOTTOM_RIGHT):new de(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||x>0?dt(r.left,r.top+C,m,x,We.BOTTOM_LEFT):new de(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||A>0?dt(r.left+w,r.top+B,Math.max(0,a-w),Math.max(0,A-B),We.TOP_LEFT):new de(r.left+w,r.top+B),this.topRightPaddingBox=l>0||u>0?dt(r.left+Math.min(p,r.width-_),r.top+B,p>r.width+_?0:Math.max(0,l-_),Math.max(0,u-B),We.TOP_RIGHT):new de(r.left+r.width-_,r.top+B),this.bottomRightPaddingBox=c>0||d>0?dt(r.left+Math.min(b,r.width-w),r.top+Math.min(y,r.height-N),Math.max(0,c-_),Math.max(0,d-N),We.BOTTOM_RIGHT):new de(r.left+r.width-_,r.top+r.height-N),this.bottomLeftPaddingBox=m>0||x>0?dt(r.left+w,r.top+Math.min(C,r.height-N),Math.max(0,m-w),Math.max(0,x-N),We.BOTTOM_LEFT):new de(r.left+w,r.top+r.height-N),this.topLeftContentBox=a>0||A>0?dt(r.left+w+H,r.top+B+E,Math.max(0,a-(w+H)),Math.max(0,A-(B+E)),We.TOP_LEFT):new de(r.left+w+H,r.top+B+E),this.topRightContentBox=l>0||u>0?dt(r.left+Math.min(p,r.width+w+H),r.top+B+E,p>r.width+w+H?0:l-w+H,u-(B+E),We.TOP_RIGHT):new de(r.left+r.width-(_+U),r.top+B+E),this.bottomRightContentBox=c>0||d>0?dt(r.left+Math.min(b,r.width-(w+H)),r.top+Math.min(y,r.height+B+E),Math.max(0,c-(_+U)),d-(N+I),We.BOTTOM_RIGHT):new de(r.left+r.width-(_+U),r.top+r.height-(N+I)),this.bottomLeftContentBox=m>0||x>0?dt(r.left+w+H,r.top+C,Math.max(0,m-(w+H)),x-(N+I),We.BOTTOM_LEFT):new de(r.left+w+H,r.top+r.height-(N+I))}return e}(),We;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(We||(We={}));var dt=function(e,t,n,r,s){var a=4*((Math.sqrt(2)-1)/3),A=n*a,o=r*a,l=e+n,u=t+r;switch(s){case We.TOP_LEFT:return new Wu(new de(e,u),new de(e,u-o),new de(l-A,t),new de(l,t));case We.TOP_RIGHT:return new Wu(new de(e,t),new de(e+A,t),new de(l,u-o),new de(l,u));case We.BOTTOM_RIGHT:return new Wu(new de(l,t),new de(l,t+o),new de(e+A,u),new de(e,u));case We.BOTTOM_LEFT:default:return new Wu(new de(l,u),new de(l-A,u),new de(e,t+o),new de(e,t))}},Wf=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},p4e=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Vf=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},x4e=function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e}(),Vu=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),v4e=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),y4e=function(e){return e.type===0},UE=function(e){return e.type===1},b4e=function(e){return e.type===2},y5=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},w4e=function(e,t,n,r,s){return e.map(function(a,A){switch(A){case 0:return a.add(t,n);case 1:return a.add(t+r,n);case 2:return a.add(t+r,n+s);case 3:return a.add(t,n+s)}return a})},TE=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),IE=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new g4e(this.container),this.container.styles.opacity<1&&this.effects.push(new v4e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new x4e(r,s,a))}if(this.container.styles.overflowX!==0){var A=Wf(this.curves),o=Vf(this.curves);y5(A,o)?this.effects.push(new Vu(A,6)):(this.effects.push(new Vu(A,2)),this.effects.push(new Vu(o,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var a=r.effects.filter(function(l){return!UE(l)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var A=Wf(r.curves),o=Vf(r.curves);y5(A,o)||s.unshift(new Vu(o,6))}}else s.unshift.apply(s,a);r=r.parent}return s.filter(function(l){return Mt(l.target,t)})},e}(),mx=function(e,t,n,r){e.container.elements.forEach(function(s){var a=Mt(s.flags,4),A=Mt(s.flags,2),o=new IE(s,e);Mt(s.styles.display,2048)&&r.push(o);var l=Mt(s.flags,8)?[]:r;if(a||A){var u=a||s.styles.isPositioned()?n:t,f=new TE(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var c=s.styles.zIndex.order;if(c<0){var d=0;u.negativeZIndex.some(function(m,x){return c>m.element.container.styles.zIndex.order?(d=x,!1):d>0}),u.negativeZIndex.splice(d,0,f)}else if(c>0){var h=0;u.positiveZIndex.some(function(m,x){return c>=m.element.container.styles.zIndex.order?(h=x+1,!1):h>0}),u.positiveZIndex.splice(h,0,f)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else s.styles.isFloating()?u.nonPositionedFloats.push(f):u.nonPositionedInlineLevel.push(f);mx(o,f,a?f:n,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),mx(o,t,n,l);Mt(s.flags,8)&&ME(s,l)})},ME=function(e,t){for(var n=e instanceof cx?e.start:1,r=e instanceof cx?e.reversed:!1,s=0;s<t.length;s++){var a=t[s];a.container instanceof vE&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=fc(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},B4e=function(e){var t=new IE(e,null),n=new TE(t),r=[];return mx(t,n,n,r),ME(t.container,r),n},b5=function(e,t){switch(t){case 0:return dr(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return dr(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return dr(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return dr(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},C4e=function(e,t){switch(t){case 0:return dr(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return dr(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return dr(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return dr(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},_4e=function(e,t){switch(t){case 0:return dr(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return dr(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return dr(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return dr(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},S4e=function(e,t){switch(t){case 0:return qu(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return qu(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return qu(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return qu(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},qu=function(e,t){var n=[];return Ar(e)?n.push(e.subdivide(.5,!1)):n.push(e),Ar(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},dr=function(e,t,n,r){var s=[];return Ar(e)?s.push(e.subdivide(.5,!1)):s.push(e),Ar(n)?s.push(n.subdivide(.5,!0)):s.push(n),Ar(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),Ar(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},DE=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},qf=function(e){var t=e.styles,n=e.bounds,r=nt(t.paddingLeft,n.width),s=nt(t.paddingRight,n.width),a=nt(t.paddingTop,n.width),A=nt(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+s),-(t.borderTopWidth+t.borderBottomWidth+a+A))},j4e=function(e,t){return e===0?t.bounds:e===2?qf(t):DE(t)},N4e=function(e,t){return e===0?t.bounds:e===2?qf(t):DE(t)},Xm=function(e,t,n){var r=j4e(fA(e.styles.backgroundOrigin,t),e),s=N4e(fA(e.styles.backgroundClip,t),e),a=k4e(fA(e.styles.backgroundSize,t),n,r),A=a[0],o=a[1],l=fl(fA(e.styles.backgroundPosition,t),r.width-A,r.height-o),u=E4e(fA(e.styles.backgroundRepeat,t),l,a,r,s),f=Math.round(r.left+l[0]),c=Math.round(r.top+l[1]);return[u,f,c,A,o]},iA=function(e){return Je(e)&&e.value===PA.AUTO},Xu=function(e){return typeof e=="number"},k4e=function(e,t,n){var r=t[0],s=t[1],a=t[2],A=e[0],o=e[1];if(!A)return[0,0];if(Nt(A)&&o&&Nt(o))return[nt(A,n.width),nt(o,n.height)];var l=Xu(a);if(Je(A)&&(A.value===PA.CONTAIN||A.value===PA.COVER)){if(Xu(a)){var u=n.width/n.height;return u<a!=(A.value===PA.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var f=Xu(r),c=Xu(s),d=f||c;if(iA(A)&&(!o||iA(o))){if(f&&c)return[r,s];if(!l&&!d)return[n.width,n.height];if(d&&l){var h=f?r:s*a,m=c?s:r/a;return[h,m]}var x=f?r:n.width,v=c?s:n.height;return[x,v]}if(l){var g=0,p=0;return Nt(A)?g=nt(A,n.width):Nt(o)&&(p=nt(o,n.height)),iA(A)?g=p*a:(!o||iA(o))&&(p=g/a),[g,p]}var y=null,b=null;if(Nt(A)?y=nt(A,n.width):o&&Nt(o)&&(b=nt(o,n.height)),y!==null&&(!o||iA(o))&&(b=f&&c?y/r*s:n.height),b!==null&&iA(A)&&(y=f&&c?b/s*r:n.width),y!==null&&b!==null)return[y,b];throw new Error("Unable to calculate background-size for element")},fA=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},E4e=function(e,t,n,r,s){var a=t[0],A=t[1],o=n[0],l=n[1];switch(e){case 2:return[new de(Math.round(r.left),Math.round(r.top+A)),new de(Math.round(r.left+r.width),Math.round(r.top+A)),new de(Math.round(r.left+r.width),Math.round(l+r.top+A)),new de(Math.round(r.left),Math.round(l+r.top+A))];case 3:return[new de(Math.round(r.left+a),Math.round(r.top)),new de(Math.round(r.left+a+o),Math.round(r.top)),new de(Math.round(r.left+a+o),Math.round(r.height+r.top)),new de(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new de(Math.round(r.left+a),Math.round(r.top+A)),new de(Math.round(r.left+a+o),Math.round(r.top+A)),new de(Math.round(r.left+a+o),Math.round(r.top+A+l)),new de(Math.round(r.left+a),Math.round(r.top+A+l))];default:return[new de(Math.round(s.left),Math.round(s.top)),new de(Math.round(s.left+s.width),Math.round(s.top)),new de(Math.round(s.left+s.width),Math.round(s.height+s.top)),new de(Math.round(s.left),Math.round(s.height+s.top))]}},F4e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",w5="Hidden Text",Q4e=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),A=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",A.appendChild(r),s.src=F4e,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(w5)),r.appendChild(a),r.appendChild(s);var o=s.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(w5)),r.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-r.offsetTop+2;return A.removeChild(r),{baseline:o,middle:l}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e}(),PE=function(){function e(t,n){this.context=t,this.options=n}return e}(),U4e=1e4,T4e=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Q4e(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},t.prototype.applyEffect=function(n){this.ctx.save(),b4e(n)&&(this.ctx.globalAlpha=n.opacity),y4e(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),UE(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return pn(this,void 0,void 0,function(){var r;return on(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return pn(this,void 0,void 0,function(){return on(this,function(r){switch(r.label){case 0:if(Mt(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,s){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var A=j1(n.text);A.reduce(function(o,l){return a.ctx.fillText(l,o,n.bounds.top+s),o+a.ctx.measureText(l).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=H4e(n.fontFamily).join(", "),a=qc(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,s].join(" "),s,a]},t.prototype.renderTextNode=function(n,r){return pn(this,void 0,void 0,function(){var s,a,A,o,l,u,f,c,d=this;return on(this,function(h){return s=this.createFontStyle(r),a=s[0],A=s[1],o=s[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(A,o),u=l.baseline,f=l.middle,c=r.paintOrder,n.textBounds.forEach(function(m){c.forEach(function(x){switch(x){case 0:d.ctx.fillStyle=$t(r.color),d.renderTextWithLetterSpacing(m,r.letterSpacing,u);var v=r.textShadow;v.length&&m.text.trim().length&&(v.slice(0).reverse().forEach(function(g){d.ctx.shadowColor=$t(g.color),d.ctx.shadowOffsetX=g.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=g.offsetY.number*d.options.scale,d.ctx.shadowBlur=g.blur.number,d.renderTextWithLetterSpacing(m,r.letterSpacing,u)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),r.textDecorationLine.length&&(d.ctx.fillStyle=$t(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(g){switch(g){case 1:d.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+u),m.bounds.width,1);break;case 2:d.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:d.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+f),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(d.ctx.strokeStyle=$t(r.webkitTextStrokeColor),d.ctx.lineWidth=r.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+u)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=qf(n),A=Vf(r);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return pn(this,void 0,void 0,function(){var r,s,a,A,o,l,p,p,u,f,c,d,b,h,m,C,x,v,g,p,y,b,C;return on(this,function(B){switch(B.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,a=r.styles,A=0,o=r.textNodes,B.label=1;case 1:return A<o.length?(l=o[A],[4,this.renderTextNode(l,a)]):[3,4];case 2:B.sent(),B.label=3;case 3:return A++,[3,1];case 4:if(!(r instanceof gE))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return p=B.sent(),this.renderReplacedElement(r,s,p),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof pE&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof xE))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return p=B.sent(),this.renderReplacedElement(r,s,p),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof wE&&r.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:f=B.sent(),r.width&&r.height&&this.ctx.drawImage(f,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),B.label=14;case 14:if(r instanceof N1&&(c=Math.min(r.bounds.width,r.bounds.height),r.type===Of?r.checked&&(this.ctx.save(),this.path([new de(r.bounds.left+c*.39363,r.bounds.top+c*.79),new de(r.bounds.left+c*.16,r.bounds.top+c*.5549),new de(r.bounds.left+c*.27347,r.bounds.top+c*.44071),new de(r.bounds.left+c*.39694,r.bounds.top+c*.5649),new de(r.bounds.left+c*.72983,r.bounds.top+c*.23),new de(r.bounds.left+c*.84,r.bounds.top+c*.34085),new de(r.bounds.left+c*.39363,r.bounds.top+c*.79)]),this.ctx.fillStyle=$t(l5),this.ctx.fill(),this.ctx.restore()):r.type===Kf&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+c/2,r.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=$t(l5),this.ctx.fill(),this.ctx.restore())),I4e(r)&&r.value.length){switch(d=this.createFontStyle(a),b=d[0],h=d[1],m=this.fontMetrics.getMetrics(b,h).baseline,this.ctx.font=b,this.ctx.fillStyle=$t(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=D4e(r.styles.textAlign),C=qf(r),x=0,r.styles.textAlign){case 1:x+=C.width/2;break;case 2:x+=C.width;break}v=C.add(x,0,0,-C.height/2+1),this.ctx.save(),this.path([new de(C.left,C.top),new de(C.left+C.width,C.top),new de(C.left+C.width,C.top+C.height),new de(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new El(r.value,v),a.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Mt(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(g=r.styles.listStyleImage,g.type!==0)return[3,18];p=void 0,y=g.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return p=B.sent(),this.ctx.drawImage(p,r.bounds.left-(p.width+10),r.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(b=this.createFontStyle(a)[0],this.ctx.font=b,this.ctx.fillStyle=$t(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new Os(r.bounds.left,r.bounds.top+nt(r.styles.paddingTop,r.bounds.width),r.bounds.width,GC(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new El(n.listValue,C),a.letterSpacing,GC(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return pn(this,void 0,void 0,function(){var r,s,g,a,A,g,o,l,g,u,f,g,c,d,g,h,m,g,x,v,g;return on(this,function(p){switch(p.label){case 0:if(Mt(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:p.sent(),r=0,s=n.negativeZIndex,p.label=2;case 2:return r<s.length?(g=s[r],[4,this.renderStack(g)]):[3,5];case 3:p.sent(),p.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:p.sent(),a=0,A=n.nonInlineLevel,p.label=7;case 7:return a<A.length?(g=A[a],[4,this.renderNode(g)]):[3,10];case 8:p.sent(),p.label=9;case 9:return a++,[3,7];case 10:o=0,l=n.nonPositionedFloats,p.label=11;case 11:return o<l.length?(g=l[o],[4,this.renderStack(g)]):[3,14];case 12:p.sent(),p.label=13;case 13:return o++,[3,11];case 14:u=0,f=n.nonPositionedInlineLevel,p.label=15;case 15:return u<f.length?(g=f[u],[4,this.renderStack(g)]):[3,18];case 16:p.sent(),p.label=17;case 17:return u++,[3,15];case 18:c=0,d=n.inlineLevel,p.label=19;case 19:return c<d.length?(g=d[c],[4,this.renderNode(g)]):[3,22];case 20:p.sent(),p.label=21;case 21:return c++,[3,19];case 22:h=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,p.label=23;case 23:return h<m.length?(g=m[h],[4,this.renderStack(g)]):[3,26];case 24:p.sent(),p.label=25;case 25:return h++,[3,23];case 26:x=0,v=n.positiveZIndex,p.label=27;case 27:return x<v.length?(g=v[x],[4,this.renderStack(g)]):[3,30];case 28:p.sent(),p.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(s,a){var A=Ar(s)?s.start:s;a===0?r.ctx.moveTo(A.x,A.y):r.ctx.lineTo(A.x,A.y),Ar(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(n,r,s,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},t.prototype.resizeImage=function(n,r,s){var a;if(n.width===r&&n.height===s)return n;var A=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=A.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,s);var l=o.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,s),o},t.prototype.renderBackgroundImage=function(n){return pn(this,void 0,void 0,function(){var r,s,a,A,o,l;return on(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,s=function(f){var c,d,h,E,M,D,H,$,N,m,E,M,D,H,$,x,v,g,p,y,b,C,B,_,N,w,E,U,I,H,$,K,M,D,k,R,S,T,W,V,Y,se;return on(this,function(ee){switch(ee.label){case 0:if(f.type!==0)return[3,5];c=void 0,d=f.url,ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,a.context.cache.match(d)];case 2:return c=ee.sent(),[3,4];case 3:return ee.sent(),a.context.logger.error("Error loading background-image "+d),[3,4];case 4:return c&&(h=Xm(n,r,[c.width,c.height,c.width/c.height]),E=h[0],M=h[1],D=h[2],H=h[3],$=h[4],N=a.ctx.createPattern(a.resizeImage(c,H,$),"repeat"),a.renderRepeat(E,N,M,D)),[3,6];case 5:yCe(f)?(m=Xm(n,r,[null,null,null]),E=m[0],M=m[1],D=m[2],H=m[3],$=m[4],x=mCe(f.angle,H,$),v=x[0],g=x[1],p=x[2],y=x[3],b=x[4],C=document.createElement("canvas"),C.width=H,C.height=$,B=C.getContext("2d"),_=B.createLinearGradient(g,y,p,b),KC(f.stops,v).forEach(function(q){return _.addColorStop(q.stop,$t(q.color))}),B.fillStyle=_,B.fillRect(0,0,H,$),H>0&&$>0&&(N=a.ctx.createPattern(C,"repeat"),a.renderRepeat(E,N,M,D))):bCe(f)&&(w=Xm(n,r,[null,null,null]),E=w[0],U=w[1],I=w[2],H=w[3],$=w[4],K=f.position.length===0?[C1]:f.position,M=nt(K[0],H),D=nt(K[K.length-1],$),k=gCe(f,M,D,H,$),R=k[0],S=k[1],R>0&&S>0&&(T=a.ctx.createRadialGradient(U+M,I+D,0,U+M,I+D,R),KC(f.stops,R*2).forEach(function(q){return T.addColorStop(q.stop,$t(q.color))}),a.path(E),a.ctx.fillStyle=T,R!==S?(W=n.bounds.left+.5*n.bounds.width,V=n.bounds.top+.5*n.bounds.height,Y=S/R,se=1/Y,a.ctx.save(),a.ctx.translate(W,V),a.ctx.transform(1,0,0,Y,0,0),a.ctx.translate(-W,-V),a.ctx.fillRect(U,se*(I-V)+V,H,$*se),a.ctx.restore()):a.ctx.fill())),ee.label=6;case 6:return r--,[2]}})},a=this,A=0,o=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return A<o.length?(l=o[A],[5,s(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,s){return pn(this,void 0,void 0,function(){return on(this,function(a){return this.path(b5(s,r)),this.ctx.fillStyle=$t(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,s,a){return pn(this,void 0,void 0,function(){var A,o;return on(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,a)]:[3,2];case 1:return l.sent(),[2];case 2:return A=C4e(a,s),this.path(A),this.ctx.fillStyle=$t(n),this.ctx.fill(),o=_4e(a,s),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return pn(this,void 0,void 0,function(){var r,s,a,A,o,l,u,f,c=this;return on(this,function(d){switch(d.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Ea(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],A=M4e(fA(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Ea(r.backgroundColor)||(this.ctx.fillStyle=$t(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){c.ctx.save();var m=Wf(n.curves),x=h.inset?0:U4e,v=w4e(m,-x+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(c.path(m),c.ctx.clip(),c.mask(v)):(c.mask(m),c.ctx.clip(),c.path(v)),c.ctx.shadowOffsetX=h.offsetX.number+x,c.ctx.shadowOffsetY=h.offsetY.number,c.ctx.shadowColor=$t(h.color),c.ctx.shadowBlur=h.blur.number,c.ctx.fillStyle=h.inset?$t(h.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),d.label=2;case 2:o=0,l=0,u=a,d.label=3;case 3:return l<u.length?(f=u[l],f.style!==0&&!Ea(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,o,n.curves,3)];case 6:return d.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,o,n.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,o,n.curves)];case 10:d.sent(),d.label=11;case 11:o++,d.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,s,a,A){return pn(this,void 0,void 0,function(){var o,l,u,f,c,d,h,m,x,v,g,p,y,b,C,B,C,B;return on(this,function(_){return this.ctx.save(),o=S4e(a,s),l=b5(a,s),A===2&&(this.path(l),this.ctx.clip()),Ar(l[0])?(u=l[0].start.x,f=l[0].start.y):(u=l[0].x,f=l[0].y),Ar(l[1])?(c=l[1].end.x,d=l[1].end.y):(c=l[1].x,d=l[1].y),s===0||s===2?h=Math.abs(u-c):h=Math.abs(f-d),this.ctx.beginPath(),A===3?this.formatPath(o):this.formatPath(l.slice(0,2)),m=r<3?r*3:r*2,x=r<3?r*2:r,A===3&&(m=r,x=r),v=!0,h<=m*2?v=!1:h<=m*2+x?(g=h/(2*m+x),m*=g,x*=g):(p=Math.floor((h+x)/(m+x)),y=(h-p*m)/(p-1),b=(h-(p+1)*m)/p,x=b<=0||Math.abs(x-y)<Math.abs(x-b)?y:b),v&&(A===3?this.ctx.setLineDash([0,m+x]):this.ctx.setLineDash([m,x])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=$t(n),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(Ar(l[0])&&(C=l[3],B=l[0],this.ctx.beginPath(),this.formatPath([new de(C.end.x,C.end.y),new de(B.start.x,B.start.y)]),this.ctx.stroke()),Ar(l[1])&&(C=l[1],B=l[2],this.ctx.beginPath(),this.formatPath([new de(C.end.x,C.end.y),new de(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return pn(this,void 0,void 0,function(){var r;return on(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=$t(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=B4e(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(PE),I4e=function(e){return e instanceof bE||e instanceof yE?!0:e instanceof N1&&e.type!==Kf&&e.type!==Of},M4e=function(e,t){switch(e){case 0:return Wf(t);case 2:return p4e(t);case 1:default:return Vf(t)}},D4e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},P4e=["-apple-system","system-ui"],H4e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return P4e.indexOf(t)===-1}):e},$4e=function(e){Or(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return t.prototype.render=function(n){return pn(this,void 0,void 0,function(){var r,s;return on(this,function(a){switch(a.label){case 0:return r=lx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,R4e(r)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=$t(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(PE),R4e=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},L4e=function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Nu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Nu([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Nu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Nu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),O4e=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new L4e({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new l4e(this,t)}return e.instanceCount=1,e}(),C0=function(e,t){return t===void 0&&(t={}),K4e(e,t)};typeof window<"u"&&QE.setContext(window);var K4e=function(e,t){return pn(void 0,void 0,void 0,function(){var n,r,s,a,A,o,l,u,f,c,d,h,m,x,v,g,p,y,b,C,_,B,_,N,w,E,U,I,H,$,K,M,D,k,R,S,T,W,V,Y;return on(this,function(se){switch(se.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(N=t.allowTaint)!==null&&N!==void 0?N:!1,imageTimeout:(w=t.imageTimeout)!==null&&w!==void 0?w:15e3,proxy:t.proxy,useCORS:(E=t.useCORS)!==null&&E!==void 0?E:!1},a=Vp({logging:(U=t.logging)!==null&&U!==void 0?U:!0,cache:t.cache},s),A={windowWidth:(I=t.windowWidth)!==null&&I!==void 0?I:r.innerWidth,windowHeight:(H=t.windowHeight)!==null&&H!==void 0?H:r.innerHeight,scrollX:($=t.scrollX)!==null&&$!==void 0?$:r.pageXOffset,scrollY:(K=t.scrollY)!==null&&K!==void 0?K:r.pageYOffset},o=new Os(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),l=new O4e(a,o),u=(M=t.foreignObjectRendering)!==null&&M!==void 0?M:!1,f={allowTaint:(D=t.allowTaint)!==null&&D!==void 0?D:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),c=new x5(l,e,f),d=c.clonedReferenceElement,d?[4,c.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=se.sent(),m=k1(d)||G_e(d)?wBe(d.ownerDocument):h0(l,d),x=m.width,v=m.height,g=m.left,p=m.top,y=z4e(l,d,t.backgroundColor),b={canvas:t.canvas,backgroundColor:y,scale:(R=(k=t.scale)!==null&&k!==void 0?k:r.devicePixelRatio)!==null&&R!==void 0?R:1,x:((S=t.x)!==null&&S!==void 0?S:0)+g,y:((T=t.y)!==null&&T!==void 0?T:0)+p,width:(W=t.width)!==null&&W!==void 0?W:Math.ceil(x),height:(V=t.height)!==null&&V!==void 0?V:Math.ceil(v)},u?(l.logger.debug("Document cloned, using foreign object rendering"),_=new $4e(l,b),[4,_.render(d)]):[3,3];case 2:return C=se.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+p+" with size "+x+"x"+v+" using computed rendering"),l.logger.debug("Starting DOM parsing"),B=CE(l,d),y===B.styles.backgroundColor&&(B.styles.backgroundColor=Us.TRANSPARENT),l.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),_=new T4e(l,b),[4,_.render(B)];case 4:C=se.sent(),se.label=5;case 5:return(!((Y=t.removeContainer)!==null&&Y!==void 0)||Y)&&(x5.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,C]}})})},z4e=function(e,t,n){var r=t.ownerDocument,s=r.documentElement?Nl(e,getComputedStyle(r.documentElement).backgroundColor):Us.TRANSPARENT,a=r.body?Nl(e,getComputedStyle(r.body).backgroundColor):Us.TRANSPARENT,A=typeof n=="string"?Nl(e,n):n===null?Us.TRANSPARENT:4294967295;return t===r.documentElement?Ea(s)?Ea(a)?A:a:s:A};const G4e=({onBack:e})=>{const{playSound:t}=et(),[n,r]=j.useState(!0),[s,a]=j.useState([]),[A,o]=j.useState([]),[l,u]=j.useState(new Set),[f,c]=j.useState({}),[d,h]=j.useState(!1),[m,x]=j.useState(!1),[v,g]=j.useState(!1),[p,y]=j.useState(null),[b,C]=j.useState(()=>({start:localStorage.getItem("skillOverTime_startDate"),end:localStorage.getItem("skillOverTime_endDate")})),B=j.useRef(null);j.useEffect(()=>{const S=()=>{g(window.innerWidth<768)};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),j.useEffect(()=>{(async()=>{r(!0);try{const T=await ye.getHistoricalRatings(),W=await ye.getCurrentTrueSkillRatings(),V=await ye.getAllPlayers(),Y=new Map(V.map(z=>[z.id,z.name])),se=new Set;T.forEach(z=>{Object.keys(z.ratings).forEach(L=>{se.add(L)})});const ee=T.map(z=>{const L={matchNumber:z.matchNumber,date:z.date};return se.forEach(ue=>{const xe=Y.get(ue)||ue;z.ratings[ue]!==void 0&&(L[xe]=z.ratings[ue],L[xe+"_participated"]=z.participants.includes(ue))}),L});o(ee);const q=[];se.forEach(z=>{const L=Y.get(z)||z,ue=T.filter(xe=>xe.participants.includes(z)).length;ue>0&&q.push({playerId:z,playerName:L,currentRating:W[z]||1200,actualMatchCount:ue})}),q.sort((z,L)=>L.currentRating-z.currentRating),a(q);const Z=q.filter(z=>z.actualMatchCount>=5).slice(0,5).map(z=>z.playerId);u(new Set(Z));const Q=K(q.length),O={};q.forEach((z,L)=>{O[z.playerName]=Q[L]}),c(O)}catch(T){console.error("Error loading rating history:",T)}finally{r(!1)}})()},[]);const _=j.useMemo(()=>!b.start&&!b.end?A:A.filter(S=>{const T=new Date(S.date);return!(b.start&&T<new Date(b.start)||b.end&&T>new Date(b.end+"T23:59:59"))}),[A,b]),N=j.useCallback(S=>{const T=_;if(T.length<2)return{segments:[],participationPoints:[]};let W=-1,V=-1;for(let ee=0;ee<T.length;ee++)T[ee][S+"_participated"]&&(W===-1&&(W=ee),V=ee);if(W===-1)return{segments:[],participationPoints:[]};const Y=[];for(let ee=W;ee<V;ee++){const q=T[ee],Z=T[ee+1],Q=Z[S+"_participated"];Y.push({data:[{x:q.matchNumber,y:q[S]},{x:Z.matchNumber,y:Z[S]}],style:Q?"solid":"dotted"})}const se=T.filter(ee=>ee[S+"_participated"]).map(ee=>({x:ee.matchNumber,y:ee[S],date:ee.date}));return{segments:Y,participationPoints:se}},[_]),w=()=>{t("buttonClick"),e()},E=S=>{t("buttonClick");const T=new Set(l);T.has(S)?T.delete(S):T.add(S),u(T)},U=()=>{t("buttonClick"),u(new Set(s.map(S=>S.playerId)))},I=()=>{t("buttonClick"),u(new Set)},H=j.useCallback((S,T)=>{t("buttonClick");const W=T||null;C(V=>({...V,[S]:W})),W?localStorage.setItem(`skillOverTime_${S}Date`,W):localStorage.removeItem(`skillOverTime_${S}Date`)},[t]),$=j.useCallback(()=>{t("buttonClick"),C({start:null,end:null}),localStorage.removeItem("skillOverTime_startDate"),localStorage.removeItem("skillOverTime_endDate")},[t]),K=S=>{const T=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16","#06B6D4","#A855F7","#F43F5E","#0EA5E9","#22C55E"],W=[];for(let V=0;V<S;V++)W.push(T[V%T.length]);return W},M=async()=>{if(B.current){t("buttonClick"),h(!0);try{const S=document.createElement("div");S.className="screenshot-title text-center mb-6 bg-gray-800 p-6",S.innerHTML=`
        <h1 class="text-3xl font-bold">Guards of Atlantis II - Skill Rating Over Time</h1>
        <p class="text-gray-400 mt-2">Generated on ${new Date().toLocaleDateString()}</p>
      `,B.current.insertBefore(S,B.current.firstChild);const T=B.current.querySelectorAll(".no-screenshot");T.forEach(se=>{se.style.display="none"});const V=(await C0(B.current,{backgroundColor:"#1F2937",scale:2,logging:!1,windowWidth:1400,windowHeight:B.current.scrollHeight})).toDataURL("image/png"),Y=document.createElement("a");Y.download=`skill-over-time-${new Date().toISOString().slice(0,10)}.png`,Y.href=V,Y.click(),B.current.removeChild(S),T.forEach(se=>{se.style.display=""})}catch(S){console.error("Error creating screenshot:",S)}finally{h(!1)}}},D=()=>{t("buttonClick"),x(!m)},k=j.useMemo(()=>{let S=1/0,T=-1/0;return s.filter(W=>l.has(W.playerId)).forEach(W=>{_.forEach(V=>{const Y=V[W.playerName];Y!==void 0&&(S=Math.min(S,Y),T=Math.max(T,Y))})}),S===1/0?[1e3,1400]:[Math.floor(S/50)*50-50,Math.ceil(T/50)*50+50]},[_,s,l]),R=j.useMemo(()=>{if(_.length===0)return[0,10];const S=_.map(T=>T.matchNumber);return[Math.min(...S),Math.max(...S)]},[_]);return i.jsxs("div",{ref:B,className:"bg-gray-800 rounded-lg p-4 sm:p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4 no-screenshot",children:[i.jsxs("button",{onClick:w,className:"flex items-center text-gray-300 hover:text-white",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back"})]}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Skill Rating Over Time"}),i.jsxs("button",{onClick:M,disabled:d,className:"flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg w-full sm:w-auto justify-center",children:[i.jsx(dh,{size:18,className:"mr-2"}),i.jsx("span",{children:d?"Capturing...":"Screenshot"})]})]}),n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4 sm:hidden no-screenshot",children:i.jsxs("button",{onClick:D,className:"w-full px-4 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(vc,{size:18,className:"mr-2"}),i.jsxs("span",{children:["Player Selection (",l.size," selected)"]})]}),m?i.jsx(ns,{size:18}):i.jsx(gr,{size:18})]})}),i.jsx("div",{className:`mb-4 no-screenshot ${!m&&v?"hidden":""}`,children:i.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(lr,{size:18,className:"mr-2 text-blue-400"}),i.jsx("span",{className:"font-semibold",children:"Date Range"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm text-gray-400",children:"From:"}),i.jsx("input",{type:"date",value:b.start||"",onChange:S=>H("start",S.target.value),className:"bg-gray-600 rounded px-2 py-1 text-sm border border-gray-500 focus:border-blue-500 focus:outline-none"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm text-gray-400",children:"To:"}),i.jsx("input",{type:"date",value:b.end||"",onChange:S=>H("end",S.target.value),className:"bg-gray-600 rounded px-2 py-1 text-sm border border-gray-500 focus:border-blue-500 focus:outline-none"})]}),(b.start||b.end)&&i.jsx("button",{onClick:$,className:"text-sm text-blue-400 hover:text-blue-300 underline",children:"Clear"})]})]})})}),i.jsx("div",{className:`mb-6 no-screenshot ${!m&&v?"hidden":""}`,children:i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-2",children:[i.jsxs("h3",{className:"font-semibold flex items-center",children:[i.jsx(st,{size:18,className:"mr-2"}),"Select Players to Compare"]}),i.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[i.jsx("button",{onClick:U,className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 rounded text-sm flex-1 sm:flex-none",children:"Select All"}),i.jsx("button",{onClick:I,className:"px-3 py-1 bg-gray-600 hover:bg-gray-500 rounded text-sm flex-1 sm:flex-none",children:"Clear All"})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2",children:s.map(S=>i.jsxs("button",{onClick:()=>E(S.playerId),className:`p-2 sm:p-3 rounded-lg text-left transition-all ${l.has(S.playerId)?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:[i.jsx("div",{className:"font-medium truncate",children:S.playerName}),i.jsxs("div",{className:"text-xs sm:text-sm opacity-80",children:["Rating: ",S.currentRating]}),i.jsxs("div",{className:"text-xs opacity-60",children:[S.actualMatchCount," matches played"]})]},S.playerId))})]})}),l.size>0?i.jsxs("div",{className:"bg-gray-700 rounded-lg p-2 sm:p-4",children:[i.jsx("div",{style:{width:"100%",height:v?400:600},children:i.jsxs(f0,{width:v?380:1e3,height:v?380:580,domain:{x:R,y:k},padding:{top:60,bottom:60,left:70,right:30},children:[i.jsx(Na,{orientation:"top",tickValues:_.filter(S=>S.matchNumber>0).map(S=>S.matchNumber),tickFormat:S=>{const T=_.find(V=>V.matchNumber===S);return T?new Date(T.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"}):""},style:{axis:{stroke:"#6B7280"},tickLabels:{fill:"#9CA3AF",fontSize:v?8:10,angle:-45,textAnchor:"start"},grid:{stroke:"transparent"}}}),i.jsx(Na,{label:"Match Number",tickFormat:S=>Math.round(S),style:{axis:{stroke:"#6B7280"},axisLabel:{fill:"#9CA3AF",fontSize:v?12:14,padding:40},tickLabels:{fill:"#9CA3AF",fontSize:v?10:12},grid:{stroke:"#374151",strokeDasharray:"3,3"}}}),i.jsx(Na,{dependentAxis:!0,label:"Skill Rating",style:{axis:{stroke:"#6B7280"},axisLabel:{fill:"#9CA3AF",fontSize:v?12:14,padding:50},tickLabels:{fill:"#9CA3AF",fontSize:v?10:12},grid:{stroke:"#374151",strokeDasharray:"3,3"}}}),s.filter(S=>l.has(S.playerId)).flatMap(S=>{const{segments:T}=N(S.playerName),W=f[S.playerName],V=p===S.playerId,Y=p!==null&&!V;return T.map((se,ee)=>i.jsx(ol,{data:se.data,style:{data:{stroke:W,strokeWidth:V?5:3,strokeOpacity:Y?.3:1,strokeDasharray:se.style==="dotted"?"8 4":void 0,cursor:"pointer"}},events:[{target:"data",eventHandlers:{onMouseEnter:()=>(y(S.playerId),[]),onMouseLeave:()=>(y(null),[])}}]},`${S.playerId}-seg-${ee}`))}),s.filter(S=>l.has(S.playerId)).map(S=>{const{participationPoints:T}=N(S.playerName),W=f[S.playerName],V=p===S.playerId,Y=p!==null&&!V;return i.jsx(w1,{data:T,size:V?8:5,symbol:"circle",style:{data:{fill:W,fillOpacity:Y?.3:1,cursor:"pointer"}},events:[{target:"data",eventHandlers:{onMouseEnter:()=>(y(S.playerId),[]),onMouseLeave:()=>(y(null),[])}}]},`${S.playerId}-scatter`)})]})}),i.jsx("div",{className:"flex flex-wrap gap-4 mt-4 justify-center p-3 bg-gray-800 rounded-lg",children:s.filter(S=>l.has(S.playerId)).map(S=>i.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onMouseEnter:()=>y(S.playerId),onMouseLeave:()=>y(null),children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:f[S.playerName]}}),i.jsx("span",{className:`text-sm ${p===S.playerId?"text-white font-bold":"text-gray-300"}`,children:S.playerName})]},S.playerId))})]}):i.jsxs("div",{className:"bg-gray-700 rounded-lg p-8 text-center",children:[i.jsx(Qs,{size:48,className:"mx-auto mb-4 text-gray-500"}),i.jsx("p",{className:"text-gray-400",children:"Select players to view their rating progression"})]}),i.jsx("div",{className:"mt-6 p-4 bg-gray-700/50 rounded-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(jt,{size:16,className:"mr-2 text-blue-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Line Types:"})," Solid lines lead to matches where the player participated. Dotted lines show periods of inactivity (rating carried forward)."]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Dot Markers:"})," Each dot marks a match where the player actually participated."]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Legend Hover:"})," Hover over a player name in the legend to highlight their line."]}),i.jsx("p",{children:"Ratings use the TrueSkill system where new players start around 1200 and converge to their true skill level after ~20 matches."})]})]})})]})]})},W4e=({onClose:e,onDataReceived:t})=>{var S;const{connectionState:n,syncProgress:r,initAsHost:s,connect:a,disconnect:A,sendData:o,requestData:l,confirmDataOperation:u,rejectDataOperation:f}=vN(),{playSound:c}=et(),[d,h]=j.useState(""),[m,x]=j.useState(!1),[v,g]=j.useState(!1),[p,y]=j.useState(!1),[b,C]=j.useState(!1);j.useEffect(()=>{y(/^[A-Z0-9]{6,}$/.test(d))},[d]);const B=T=>{const W=T.target.value.replace(/[^A-Za-z0-9]/g,"").toUpperCase();h(W)},_=async()=>{try{c("buttonClick"),console.log("[ConnectionSetup] Initiating host session..."),C(!0);const T=await s();C(!1),console.log("[ConnectionSetup] Host session created with code:",T)}catch(T){C(!1),console.error("[ConnectionSetup] Failed to host session:",T)}},N=async()=>{if(p)try{c("buttonClick"),console.log("[ConnectionSetup] Joining session with code:",d),C(!0),await a(d),C(!1),console.log("[ConnectionSetup] Successfully joined session")}catch(T){C(!1),console.error("[ConnectionSetup] Failed to join session:",T)}},w=()=>{c("buttonClick"),console.log("[ConnectionSetup] Disconnecting from session"),A()},E=async()=>{try{c("buttonClick"),console.log("[ConnectionSetup] Sending data..."),await o()}catch(T){console.error("[ConnectionSetup] Failed to send data:",T)}},U=async()=>{try{c("buttonClick"),console.log("[ConnectionSetup] Requesting data..."),await l()}catch(T){console.error("[ConnectionSetup] Failed to request data:",T)}},I=()=>{if(c("buttonClick"),console.log("[ConnectionSetup] Confirming data operation"),!n.isConnected){console.error("[ConnectionSetup] Cannot confirm - not connected"),n.connectionCode&&(console.log("[ConnectionSetup] Attempting reconnection before confirming"),a(n.connectionCode).then(()=>{setTimeout(()=>{u()},1e3)}).catch(T=>{console.error("[ConnectionSetup] Reconnection failed:",T)}));return}u()},H=()=>{c("buttonClick"),console.log("[ConnectionSetup] Rejecting data operation"),f()},$=()=>{n.connectionCode&&(c("buttonClick"),navigator.clipboard.writeText(n.connectionCode),x(!0),setTimeout(()=>x(!1),2e3))},K=()=>{if(n.connectionCode){c("buttonClick");const T=new URL(window.location.href);T.searchParams.set("connect",n.connectionCode),navigator.clipboard.writeText(T.toString()),g(!0),setTimeout(()=>g(!1),2e3)}},M=()=>{c("buttonClick"),e&&e()},D=r.status==="awaiting-confirmation",k=r.status==="pending-confirmation",R=n.detailedStatus;return j.useEffect(()=>{r.status==="complete"&&t&&(console.log("[ConnectionSetup] Data sync completed, calling onDataReceived"),t())},[r.status,t]),j.useEffect(()=>{console.log("[ConnectionSetup] Connection state update:",n.isConnected?"connected":"disconnected","peers:",n.peerCount,"status:",r.status)},[n.isConnected,n.peerCount,r.status]),i.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[i.jsx(Yd,{className:"mr-2",size:22}),"P2P Connection"]}),e&&i.jsx("button",{onClick:M,className:"p-1 rounded-full hover:bg-gray-700","aria-label":"Close",children:i.jsx(zs,{size:20})})]}),n.error&&i.jsxs("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-500 rounded-lg text-red-300 flex items-start",children:[i.jsx("span",{className:"flex-shrink-0 mr-2",children:""}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Connection Error"}),i.jsx("div",{className:"text-sm mt-1",children:n.error}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsx("button",{onClick:n.isHost?_:w,className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-white text-sm",children:n.isHost?"Try Again":"Start Over"}),!n.isHost&&i.jsxs("button",{onClick:()=>a(d||n.connectionCode||""),className:"px-3 py-1 bg-blue-700 hover:bg-blue-600 rounded text-white text-sm flex items-center",disabled:!d&&!n.connectionCode||b,children:[b?i.jsx(aa,{size:14,className:"mr-1 animate-spin"}):i.jsx(Jl,{size:14,className:"mr-1"}),"Reconnect"]})]})]})]}),R&&!n.error&&n.isConnecting&&i.jsx("div",{className:"mb-4 p-2 bg-blue-900/30 border border-blue-500 rounded-lg text-blue-300 text-sm",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mr-2 animate-pulse"}),R]})}),!n.isConnected&&!n.isConnecting?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(fI,{className:"text-gray-400",size:48})}),i.jsx("p",{className:"text-center text-gray-300 mb-4",children:"Create a new connection to share data, or join an existing connection using a code."}),i.jsx("button",{className:"w-full py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center justify-center",onClick:_,disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(aa,{size:18,className:"mr-2 animate-spin"}),"Creating Connection..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yd,{size:18,className:"mr-2"}),"Create New Connection"]})}),i.jsxs("div",{className:"relative flex items-center py-2",children:[i.jsx("div",{className:"flex-grow border-t border-gray-600"}),i.jsx("span",{className:"flex-shrink mx-3 text-gray-400",children:"or"}),i.jsx("div",{className:"flex-grow border-t border-gray-600"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsx("input",{type:"text",placeholder:"Enter code",value:d,onChange:B,className:"flex-grow px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center font-mono text-lg uppercase tracking-wider",maxLength:12,disabled:b}),i.jsx("button",{className:`py-3 px-4 ${p&&!b?"bg-green-600 hover:bg-green-500":"bg-gray-600 cursor-not-allowed"} text-white rounded-lg flex-shrink-0 flex items-center justify-center`,onClick:N,disabled:!p||b,children:b?i.jsx(aa,{size:18,className:"animate-spin"}):"Join"})]})]}):n.isConnecting&&!n.connectionCode?i.jsxs("div",{className:"text-center py-4",children:[i.jsx(aa,{className:"animate-spin mx-auto mb-4",size:48}),i.jsx("p",{className:"text-lg mb-2",children:"Establishing connection..."}),i.jsx("p",{className:"text-sm text-gray-400 mb-4",children:n.isHost?"Creating secure connection code...":"Connecting to remote device..."}),i.jsx("button",{className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",onClick:w,children:"Cancel"})]}):n.connectionCode&&!n.isConnected?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center mb-2",children:i.jsx(aa,{className:"animate-spin text-blue-400",size:48})}),i.jsx("div",{className:"flex items-center justify-center text-lg font-medium mb-2",children:i.jsx("span",{children:n.isHost?"Waiting for Connection":"Connecting to Host..."})}),n.isHost&&n.connectionCode&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Share this code with others:"}),i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-grow py-3 px-4 bg-gray-700 border border-gray-600 rounded-l-lg text-center font-mono text-xl tracking-wider",children:n.connectionCode}),i.jsx("button",{onClick:$,className:"px-3 bg-blue-600 hover:bg-blue-500 rounded-r-lg flex items-center",title:"Copy code",children:m?i.jsx(_a,{size:18}):i.jsx(zb,{size:18})})]}),i.jsxs("button",{onClick:K,className:"mt-2 w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg flex items-center justify-center",children:[i.jsx(Gb,{size:16,className:"mr-2"}),v?"Link Copied!":"Copy as Link"]})]}),i.jsx("button",{className:"w-full py-2 bg-red-600 hover:bg-red-500 rounded-lg",onClick:w,children:"Cancel"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center mb-2",children:i.jsx(L4,{className:"text-green-400",size:48})}),i.jsxs("div",{className:"flex items-center justify-center text-lg font-medium mb-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),i.jsx("span",{children:n.isHost?`Hosting Connection (${n.peerCount} ${n.peerCount===1?"peer":"peers"} connected)`:"Connected to Host"})]}),n.isHost&&n.connectionCode&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Share this code with others:"}),i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-grow py-3 px-4 bg-gray-700 border border-gray-600 rounded-l-lg text-center font-mono text-xl tracking-wider",children:n.connectionCode}),i.jsx("button",{onClick:$,className:"px-3 bg-blue-600 hover:bg-blue-500 rounded-r-lg flex items-center",title:"Copy code",children:m?i.jsx(_a,{size:18}):i.jsx(zb,{size:18})})]}),i.jsxs("button",{onClick:K,className:"mt-2 w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg flex items-center justify-center",children:[i.jsx(Gb,{size:16,className:"mr-2"}),v?"Link Copied!":"Copy as Link"]})]}),i.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-medium mb-2 flex items-center",children:[i.jsx(vi,{size:18,className:"mr-2 text-blue-400"}),"Share Match Data"]}),k&&i.jsx("div",{className:"bg-yellow-900/30 border border-yellow-600 rounded-lg p-4 mb-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Ns,{size:18,className:"text-yellow-500 mr-2 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-yellow-400 mb-1",children:r.message}),i.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["Do you want to ",r.isDataRequest?"send":"receive"," match data?"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:I,className:"px-3 py-1 bg-green-600 hover:bg-green-500 rounded",children:r.isDataRequest?"Send Data":"Receive Data"}),i.jsx("button",{onClick:H,className:"px-3 py-1 bg-gray-600 hover:bg-gray-500 rounded",children:"Decline"})]})]})]})}),r.status==="idle"&&!k&&!D&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Exchange match history, player stats, and game data with the connected device."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("button",{onClick:E,className:"flex-1 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg flex items-center justify-center",children:[i.jsx(sT,{size:16,className:"mr-2"}),"Send My Data"]}),i.jsxs("button",{onClick:U,className:"flex-1 py-2 bg-green-600 hover:bg-green-500 rounded-lg flex items-center justify-center",children:[i.jsx(nT,{size:16,className:"mr-2"}),"Request Data"]})]})]}),D&&i.jsx("div",{className:"p-3 bg-blue-900/30 border border-blue-600 rounded-lg mb-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(aa,{size:18,className:"text-blue-500 mr-2 mt-0.5 animate-spin"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-300",children:r.message}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Waiting for the other device to respond..."}),i.jsx("button",{onClick:H,className:"mt-2 px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Cancel"})]})]})}),(r.status==="preparing"||r.status==="sending"||r.status==="receiving"||r.status==="processing")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${r.percent}%`}})}),i.jsx("p",{className:"text-center text-sm",children:r.message})]}),r.status==="complete"&&i.jsxs("div",{className:"p-3 bg-green-900/30 border border-green-600 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx(_a,{size:18,className:"text-green-500 mr-2 mt-0.5"}),i.jsx("p",{className:"text-green-300",children:r.message})]}),i.jsx("div",{className:"mt-2 text-right",children:i.jsx("button",{onClick:()=>{f()},className:"px-3 py-1 bg-green-800 hover:bg-green-700 rounded text-sm",children:"Done"})})]}),r.status==="error"&&i.jsx("div",{className:"p-3 bg-red-900/30 border border-red-500 rounded-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Ns,{size:18,className:"text-red-500 mr-2 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-red-300",children:r.message}),i.jsxs("div",{className:"mt-2 flex gap-2",children:[i.jsx("button",{onClick:()=>{f()},className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Dismiss"}),((S=r.error)==null?void 0:S.includes("connection"))&&i.jsxs("button",{onClick:()=>{n.connectionCode&&(f(),a(n.connectionCode))},className:"px-3 py-1 bg-blue-700 hover:bg-blue-600 rounded text-sm flex items-center",children:[i.jsx(Jl,{size:14,className:"mr-1"}),"Reconnect"]})]})]})]})})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:i.jsx("button",{onClick:w,className:"w-full py-2 bg-red-600 hover:bg-red-500 rounded-lg",children:"Disconnect"})})]})]})},V4e=({isOpen:e,onClose:t,onDataReceived:n})=>{const{playSound:r}=et(),s=j.useRef(null),a=o=>{s.current&&!s.current.contains(o.target)&&A()},A=()=>{r("buttonClick"),t()};return j.useEffect(()=>{const o=l=>{l.key==="Escape"&&e&&A()};return e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow=""}},[e]),e?i.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:a,children:i.jsx("div",{ref:s,className:"max-w-md w-full",children:i.jsx(W4e,{onClose:A,onDataReceived:n})})}):null},q4e=({player:e,onDelete:t,isDeleting:n})=>{const{playSound:r}=et(),[s,a]=j.useState(!1),[A,o]=j.useState(!1),l=()=>{r("buttonClick"),a(!s)},u=()=>{if(r("buttonClick"),!A){o(!0);return}t(e.id),o(!1)},f=()=>{r("buttonClick"),o(!1)},c=d=>new Date(d).toLocaleDateString()+" "+new Date(d).toLocaleTimeString();return i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 border border-gray-600",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(st,{size:20,className:"mr-2 text-blue-400"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-lg",children:e.name}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Created: ",c(e.dateCreated)]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ke,{text:"View player data in JSON format",children:i.jsxs("button",{onClick:l,className:"px-3 py-1 bg-gray-600 hover:bg-gray-500 rounded text-sm flex items-center",children:[s?i.jsx(gr,{size:16}):i.jsx(Vd,{size:16}),i.jsx("span",{className:"ml-1",children:"JSON"})]})}),A?i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:u,disabled:n,className:"px-3 py-1 bg-red-500 hover:bg-red-400 rounded text-sm",children:"Confirm"}),i.jsx("button",{onClick:f,className:"px-3 py-1 bg-gray-600 hover:bg-gray-500 rounded text-sm",children:"Cancel"})]}):i.jsx(ke,{text:"Delete this player (only available for players with no matches)",children:i.jsxs("button",{onClick:u,disabled:n,className:`px-3 py-1 bg-red-600 hover:bg-red-500 rounded text-sm flex items-center ${n?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx(pv,{size:16,className:"mr-1"}),n?"Deleting...":"Delete"]})})]})]}),i.jsx("div",{className:"text-sm text-gray-300 mb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("span",{children:["Games: ",i.jsx("strong",{children:e.totalGames})]}),i.jsxs("span",{children:["ELO: ",i.jsx("strong",{children:e.elo})]}),i.jsxs("span",{children:["Device ID: ",i.jsx("strong",{children:e.deviceId||"N/A"})]}),i.jsxs("span",{children:["Level: ",i.jsx("strong",{children:e.level||1})]})]})}),A&&i.jsx("div",{className:"bg-red-900/30 border border-red-600 p-3 rounded-lg mt-3",children:i.jsxs("p",{className:"text-red-300 text-sm",children:[i.jsx("strong",{children:"Warning:"}),' This will permanently delete "',e.name,'" from your player database. This action cannot be undone.']})}),s&&i.jsx("div",{className:"mt-3 bg-gray-800 rounded-lg p-3",children:i.jsx("pre",{className:"text-xs text-gray-300 overflow-x-auto",children:JSON.stringify(e,null,2)})})]})},X4e=({isOpen:e,onClose:t,onPlayerDeleted:n})=>{const{playSound:r}=et(),s=j.useRef(null),[a,A]=j.useState([]),[o,l]=j.useState(!1),[u,f]=j.useState(null),[c,d]=j.useState(new Set);j.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{l(!0),f(null);const g=await ye.getPlayersWithNoGames();A(g)}catch(g){console.error("Error loading zero-game players:",g),f("Failed to load player data")}finally{l(!1)}},m=async g=>{try{d(y=>new Set([...y,g])),await ye.deletePlayer(g)?(A(y=>y.filter(b=>b.id!==g)),n(),r("phaseChange")):f(`Failed to delete player "${g}". They may have recorded matches.`)}catch(p){console.error("Error deleting player:",p),f(`Error deleting player "${g}"`)}finally{d(p=>{const y=new Set(p);return y.delete(g),y})}},x=g=>{s.current&&!s.current.contains(g.target)&&v()},v=()=>{r("buttonClick"),t()};return j.useEffect(()=>{const g=p=>{p.key==="Escape"&&e&&v()};return e&&(document.addEventListener("keydown",g),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.body.style.overflow=""}},[e]),e?i.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:x,children:i.jsxs("div",{ref:s,className:"max-w-4xl w-full max-h-[80vh] bg-gray-800 rounded-lg border border-gray-600 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:"Edit Player Database"}),i.jsxs("p",{className:"text-gray-400 text-sm",children:["Players with no recorded matches (",a.length," found)"]})]}),i.jsx("button",{onClick:v,className:"text-gray-400 hover:text-white p-2",children:i.jsx(zs,{size:24})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[o&&i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-400",children:"Loading players..."})}),u&&i.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded-lg text-red-300",children:u}),!o&&a.length===0&&!u&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(st,{size:48,className:"mx-auto mb-4 text-gray-500"}),i.jsx("p",{className:"text-gray-400",children:"No players with zero games found"}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All players in your database have recorded match history."})]}),!o&&a.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-amber-900/30 border border-amber-600 p-3 rounded-lg mb-4",children:i.jsxs("p",{className:"text-amber-300 text-sm",children:[i.jsx("strong",{children:"Note:"})," Only players with no recorded matches can be deleted. This is a safety measure to prevent accidental data loss."]})}),a.map(g=>i.jsx(q4e,{player:g,onDelete:m,isDeleting:c.has(g.id)},g.id))]})]}),i.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-700",children:i.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg",children:"Close"})})]})}):null},Y4e=({onBack:e,onNavigate:t})=>{const{playSound:n}=et(),{connectionState:r}=vN(),[s,a]=j.useState(!1),[A,o]=j.useState(!1),[l,u]=j.useState(null),[f,c]=j.useState(!1),[d,h]=j.useState(!1),[m,x]=j.useState(!1),[v,g]=j.useState("replace"),[p,y]=j.useState(!1),[b,C]=j.useState(!1),B=async()=>{const T=await ye.hasMatchData();a(T)},_=async()=>{try{const T=await ye.getPlayersWithNoGames();C(T.length>0)}catch(T){console.error("Error checking for zero-game players:",T),C(!1)}};j.useEffect(()=>{B(),_()},[]);const N=T=>{n("buttonClick"),t(T)},w=()=>{n("buttonClick"),e()},E=()=>{n("buttonClick"),h(!0)},U=()=>{h(!1)},I=()=>{console.log("Data received, refreshing match data status"),B()},H=()=>{n("buttonClick"),y(!0)},$=()=>{y(!1)},K=()=>{_(),B()},M=async()=>{try{o(!0),n("buttonClick");const T=await ye.exportData(),W=JSON.stringify(T,null,2),V=new Blob([W],{type:"application/json"}),Y=URL.createObjectURL(V),se=document.createElement("a");se.href=Y,se.download=`guards-of-atlantis-stats-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(se),se.click(),setTimeout(()=>{document.body.removeChild(se),URL.revokeObjectURL(Y),o(!1)},100)}catch(T){console.error("Error exporting data:",T),o(!1)}},D=()=>{if(!m){n("buttonClick"),x(!0);return}n("buttonClick");const T=document.createElement("input");T.type="file",T.accept=".json",T.onchange=async W=>{var Y;const V=(Y=W.target.files)==null?void 0:Y[0];if(V)try{const se=await V.text(),ee=JSON.parse(se);if(!ee.players||!ee.matches||!ee.matchPlayers){u("Invalid data format");return}await ye.importData(ee,v)?(n("phaseChange"),await B(),u(null),x(!1)):u("Failed to import data")}catch(se){console.error("Error importing data:",se),u("Error importing data")}},T.click()},k=()=>{n("buttonClick"),x(!1)},R=async()=>{if(!f){c(!0),n("buttonClick");return}try{n("buttonClick"),await ye.clearAllData()&&(a(!1),c(!1))}catch(T){console.error("Error deleting data:",T)}},S={replace:"This will delete all your existing match history and player statistics and replace them with the imported data. Use this when setting up a new device or completely refreshing your data.",merge:"This will add new matches from the imported file while preserving your existing data. Any new match records will be added to your match records. Use this to synchronize data between devices."};return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("button",{onClick:w,className:"flex items-center text-gray-300 hover:text-white",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Setup"})]}),i.jsx("h2",{className:"text-2xl font-bold",children:"Match Statistics"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-8",children:[i.jsxs("div",{className:`bg-gray-700 hover:bg-gray-600 rounded-lg p-6 cursor-pointer transition-colors ${s?"":"opacity-50 pointer-events-none"}`,onClick:()=>s&&N("player-stats"),children:[i.jsxs("div",{className:"flex items-center text-xl font-semibold mb-4",children:[i.jsx(st,{size:24,className:"mr-3 text-blue-400"}),i.jsx("span",{children:"Player Stats"})]}),i.jsx("p",{className:"text-gray-300",children:"View detailed player performance statistics, favorite heroes, and ELO ratings."}),!s&&i.jsxs("div",{className:"mt-3 text-yellow-400 text-sm flex items-center",children:[i.jsx(jt,{size:16,className:"mr-1"}),i.jsx("span",{children:"No match data available"})]})]}),i.jsxs("div",{className:`bg-gray-700 hover:bg-gray-600 rounded-lg p-6 cursor-pointer transition-colors ${s?"":"opacity-50 pointer-events-none"}`,onClick:()=>s&&N("hero-stats"),children:[i.jsxs("div",{className:"flex items-center text-xl font-semibold mb-4",children:[i.jsx(At,{size:24,className:"mr-3 text-purple-400"}),i.jsx("span",{children:"Hero Stats"})]}),i.jsx("p",{className:"text-gray-300",children:"Analyze hero win rates, synergies, and counters based on your match history."}),!s&&i.jsxs("div",{className:"mt-3 text-yellow-400 text-sm flex items-center",children:[i.jsx(jt,{size:16,className:"mr-1"}),i.jsx("span",{children:"No match data available"})]})]}),i.jsxs("div",{className:`bg-gray-700 hover:bg-gray-600 rounded-lg p-6 cursor-pointer transition-colors ${s?"":"opacity-50 pointer-events-none"}`,onClick:()=>s&&N("match-history"),children:[i.jsxs("div",{className:"flex items-center text-xl font-semibold mb-4",children:[i.jsx(CT,{size:24,className:"mr-3 text-green-400"}),i.jsx("span",{children:"Match History"})]}),i.jsx("p",{className:"text-gray-300",children:"Browse past matches, view details, and manage your match history."}),!s&&i.jsxs("div",{className:"mt-3 text-yellow-400 text-sm flex items-center",children:[i.jsx(jt,{size:16,className:"mr-1"}),i.jsx("span",{children:"No match data available"})]})]}),i.jsxs("div",{className:"bg-gray-700 hover:bg-gray-600 rounded-lg p-6 cursor-pointer transition-colors",onClick:()=>N("record-match"),children:[i.jsxs("div",{className:"flex items-center text-xl font-semibold mb-4",children:[i.jsx(gT,{size:24,className:"mr-3 text-orange-400"}),i.jsx("span",{children:"Record Match"})]}),i.jsx("p",{className:"text-gray-300",children:"Manually log match results for games played outside the application."})]}),i.jsxs("div",{className:`bg-gray-700 hover:bg-gray-600 rounded-lg p-6 cursor-pointer transition-colors ${s?"":"opacity-50 pointer-events-none"}`,onClick:()=>s&&N("match-maker"),children:[i.jsxs("div",{className:"flex items-center text-xl font-semibold mb-4",children:[i.jsx(zg,{size:24,className:"mr-3 text-purple-400"}),i.jsx("span",{children:"Match Maker"})]}),i.jsx("p",{className:"text-gray-300",children:"Generate balanced teams based on player rankings or experience for fair matches."}),!s&&i.jsxs("div",{className:"mt-3 text-yellow-400 text-sm flex items-center",children:[i.jsx(jt,{size:16,className:"mr-1"}),i.jsx("span",{children:"No match data available"})]})]}),i.jsxs("div",{className:"bg-gray-700 hover:bg-gray-600 rounded-lg p-6 cursor-pointer transition-colors",onClick:()=>N("hero-info"),children:[i.jsxs("div",{className:"flex items-center text-xl font-semibold mb-4",children:[i.jsx(OU,{size:24,className:"mr-3 text-teal-400"}),i.jsx("span",{children:"Hero Guide"})]}),i.jsx("p",{className:"text-gray-300",children:"Browse complete information about all heroes, including stats, roles, and abilities."})]})]}),i.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold",children:"Data Management"}),i.jsx(ke,{text:"Share, import, and export features allow you to transfer your match data between devices or merge game records from different devices.",position:"right",maxWidth:"max-w-md",children:i.jsx(jt,{size:16,className:"ml-2 text-blue-400 cursor-help"})})]}),i.jsx("div",{className:"bg-blue-900/30 border border-blue-700 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"mr-3 p-2 bg-blue-800 rounded-full flex-shrink-0",children:i.jsx(Yd,{size:24,className:"text-blue-300"})}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h4",{className:"font-semibold text-lg text-blue-300 mb-1",children:"Direct Data Sharing"}),i.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Share game data directly between devices with a simple connection code."}),i.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg flex items-center",children:r.isConnected?i.jsxs(i.Fragment,{children:[i.jsx(L4,{size:16,className:"mr-2 text-green-300"}),i.jsx("span",{children:"Connected"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Yd,{size:16,className:"mr-2"}),i.jsx("span",{children:"Connect and Share"})]})})]})]})}),i.jsx("div",{className:"bg-green-900/30 border border-green-700 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"mr-3 p-2 bg-green-800 rounded-full flex-shrink-0",children:i.jsx(xT,{size:24,className:"text-green-300"})}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h4",{className:"font-semibold text-lg text-green-300 mb-1",children:"Manual Data Sharing"}),i.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Manually import or export data files to share data between devices."}),m?i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-4",children:[i.jsx("h4",{className:"font-semibold text-base mb-3",children:"Import Options"}),i.jsxs("div",{className:"mb-4 space-y-3",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("input",{type:"radio",id:"replaceMode",name:"importMode",checked:v==="replace",onChange:()=>g("replace"),className:"mt-1 mr-3"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("label",{htmlFor:"replaceMode",className:"flex items-center font-medium cursor-pointer",children:["Replace all data",i.jsx(ke,{text:S.replace,position:"right",maxWidth:"max-w-md",children:i.jsx(jt,{size:16,className:"ml-2 text-blue-400 cursor-help"})})]}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Delete all existing data and replace with imported data."})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("input",{type:"radio",id:"mergeMode",name:"importMode",checked:v==="merge",onChange:()=>g("merge"),className:"mt-1 mr-3"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("label",{htmlFor:"mergeMode",className:"flex items-center font-medium cursor-pointer",children:["Merge with existing data",i.jsx(ke,{text:S.merge,position:"right",maxWidth:"max-w-md",children:i.jsx(jt,{size:16,className:"ml-2 text-blue-400 cursor-help"})})]}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add new data while preserving existing records."})]})]})]}),i.jsx("div",{className:"bg-amber-900/30 border border-amber-600 p-3 rounded-lg mb-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Ns,{size:16,className:"mr-2 mt-0.5 flex-shrink-0 text-amber-400"}),i.jsx("div",{children:v==="replace"?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-semibold text-amber-400",children:"Warning: All existing data will be deleted!"}),i.jsx("p",{className:"mt-1 text-sm",children:"This action will permanently delete all your match history and player statistics and replace them with the imported data."})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-semibold text-amber-400",children:"Merge Information:"}),i.jsx("p",{className:"mt-1 text-sm",children:"Player stats will be combined (wins, losses, ELO), and new matches will be added to your history. Matches with the same ID will be skipped to avoid duplicates."})]})})]})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:D,className:"px-4 py-2 bg-green-600 hover:bg-green-500 rounded-lg flex items-center",children:[i.jsx(Vb,{size:18,className:"mr-2"}),i.jsx("span",{children:"Proceed with Import"})]}),i.jsx("button",{onClick:k,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg",children:"Cancel"})]})]}):i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(ke,{text:"Export match statistics data to a file. Use this to backup your data or transfer it to another device.",children:i.jsxs("button",{onClick:M,disabled:!s||A,className:`px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg flex items-center ${!s||A?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx(hT,{size:18,className:"mr-2"}),i.jsx("span",{children:A?"Exporting...":"Export Data"})]})}),i.jsx(ke,{text:"Import match statistics data from a previously exported file.",children:i.jsxs("button",{onClick:D,className:"px-4 py-2 bg-green-600 hover:bg-green-500 rounded-lg flex items-center",children:[i.jsx(Vb,{size:18,className:"mr-2"}),i.jsx("span",{children:"Import Data"})]})}),b&&i.jsx(ke,{text:"Manage players with no recorded matches. You can view their data and delete them if needed.",children:i.jsxs("button",{onClick:H,className:"px-4 py-2 bg-amber-600 hover:bg-amber-500 rounded-lg flex items-center",children:[i.jsx(aI,{size:18,className:"mr-2"}),i.jsx("span",{children:"Edit Player Data"})]})}),i.jsx(ke,{text:"Delete all match statistics data permanently",children:i.jsxs("button",{onClick:R,disabled:!s,className:`px-4 py-2 ${f?"bg-red-500 hover:bg-red-400":"bg-red-700 hover:bg-red-600"} rounded-lg flex items-center ${s?"":"opacity-50 cursor-not-allowed"}`,children:[i.jsx(pv,{size:18,className:"mr-2"}),i.jsx("span",{children:f?"Confirm Delete":"Delete All Data"})]})})]})]})]})}),l&&i.jsx("div",{className:"mt-4 p-3 bg-red-900/50 border border-red-500 rounded-lg text-red-300",children:l}),i.jsx("div",{className:"mt-6 p-4 bg-gray-700/50 rounded-lg text-sm text-gray-300",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(jt,{size:16,className:"mr-2 text-blue-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-2",children:"Match data is stored locally on this device using your browser's storage. It is recommended you back up your data locally with Export Data (in case your browser's storage gets cleared)."}),i.jsx("p",{children:"Use direct data sharing, or manually import and export data to transfer match records between devices or merge records from different devices (e.g. with friends)."})]})]})})]}),i.jsx(V4e,{isOpen:d,onClose:U,onDataReceived:I}),i.jsx(X4e,{isOpen:p,onClose:$,onPlayerDeleted:K})]})},J4e=({isOpen:e,onClose:t})=>{const[n,r]=j.useState("simple"),{playSound:s}=et();if(!e)return null;const a=()=>{s("buttonClick"),t()},A=o=>{s("buttonClick"),r(o)};return i.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-4 bg-gray-700 flex justify-between items-center",children:[i.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[i.jsx(vi,{size:24,className:"mr-2 text-blue-400"}),"Understanding Skill Ratings"]}),i.jsx("button",{onClick:a,className:"p-1 bg-gray-600 hover:bg-gray-500 rounded-full","aria-label":"Close modal",children:i.jsx(zs,{size:20})})]}),i.jsxs("div",{className:"flex border-b border-gray-700",children:[i.jsx("button",{onClick:()=>A("simple"),className:`flex-1 px-4 py-3 font-medium transition-colors ${n==="simple"?"bg-gray-700 text-white border-b-2 border-blue-500":"bg-gray-800 text-gray-400 hover:text-white"}`,children:"Simple Explanation"}),i.jsx("button",{onClick:()=>A("technical"),className:`flex-1 px-4 py-3 font-medium transition-colors ${n==="technical"?"bg-gray-700 text-white border-b-2 border-blue-500":"bg-gray-800 text-gray-400 hover:text-white"}`,children:"Technical Details"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n==="simple"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"What is a Skill Rating?"}),i.jsx("p",{className:"text-gray-300 mb-4",children:"Your skill rating is a number that represents how good you are at the game compared to other players. It goes up when you win and down when you lose, but there's more to it than that!"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Why Start Low?"}),i.jsx("p",{className:"text-gray-300 mb-4",children:"New players start with a lower visible rating even if they win their first few games. This is because the system needs to be confident about your skill level. Think of it like this:"}),i.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg mb-4",children:[i.jsxs("p",{className:"text-sm mb-2",children:[i.jsx("strong",{className:"text-yellow-400",children:"After 1 game:"}),' "This player might be good, but it could be luck"']}),i.jsxs("p",{className:"text-sm mb-2",children:[i.jsx("strong",{className:"text-yellow-400",children:"After 10 games:"}),` "Now I'm getting a clearer picture"`]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{className:"text-yellow-400",children:"After 20+ games:"}),` "I'm confident about this player's skill level"`]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"How Rankings Work"}),i.jsxs("ul",{className:"space-y-3 text-gray-300",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-green-400 mr-2",children:""}),i.jsx("span",{children:"Beat stronger teams = bigger rating increase"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-green-400 mr-2",children:""}),i.jsx("span",{children:"Lose to weaker teams = bigger rating decrease"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-green-400 mr-2",children:""}),i.jsx("span",{children:"Play more games = more accurate rating"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-green-400 mr-2",children:""}),i.jsx("span",{children:"Consistent performance = higher rating"})]})]})]}),i.jsx("div",{className:"bg-blue-900/30 border border-blue-700 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-blue-300",children:[i.jsx("strong",{children:"Pro tip:"})," Don't worry if your rating seems low at first. Play more games and the system will quickly figure out your true skill level. It typically takes about 20 games for ratings to stabilize."]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"TrueSkill Rating System"}),i.jsx("p",{className:"text-gray-300 mb-4",children:"Guards of Atlantis uses the TrueSkill algorithm, a Bayesian skill rating system developed by Microsoft Research. Unlike traditional Elo systems, TrueSkill models both skill and uncertainty."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Mathematical Model"}),i.jsx("p",{className:"text-gray-300 mb-4",children:"Each player's skill is modeled as a normal distribution:"}),i.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg font-mono text-sm mb-4",children:[i.jsx("p",{className:"text-green-400 mb-2",children:"skill ~ N(, )"}),i.jsx("p",{className:"text-gray-400",children:"where:"}),i.jsx("p",{className:"text-gray-300 ml-4",children:" (mu) = mean skill estimate"}),i.jsx("p",{className:"text-gray-300 ml-4",children:" (sigma) = standard deviation (uncertainty)"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Conservative Skill Estimate"}),i.jsx("p",{className:"text-gray-300 mb-4",children:"The displayed rating uses the conservative skill estimate (ordinal):"}),i.jsx("div",{className:"bg-gray-900 p-4 rounded-lg font-mono text-sm mb-4",children:i.jsx("p",{className:"text-green-400",children:"ordinal =  - 3"})}),i.jsx("p",{className:"text-gray-300 mb-4",children:"This represents the skill level we're 99.7% confident the player exceeds (3-sigma confidence interval). The display rating is then scaled to a familiar range:"}),i.jsx("div",{className:"bg-gray-900 p-4 rounded-lg font-mono text-sm mb-4",children:i.jsx("p",{className:"text-green-400",children:"displayRating = (ordinal + 25)  40 + 200"})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Update Dynamics"}),i.jsx("p",{className:"text-gray-300 mb-4",children:"After each match, the system updates beliefs using Bayes' theorem:"}),i.jsxs("ul",{className:"space-y-2 text-gray-300 ml-4",children:[i.jsx("li",{children:" Prior: Current skill distribution"}),i.jsx("li",{children:" Likelihood: Match outcome probability"}),i.jsx("li",{children:" Posterior: Updated skill distribution"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Key Parameters"}),i.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg space-y-2",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{className:"text-yellow-400",children:" (beta) = 25/6:"})," Performance variance parameter"]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{className:"text-yellow-400",children:" (tau) = 25/300:"})," Dynamics factor (skill change rate)"]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{className:"text-yellow-400",children:"Initial values:"}),"  = 25,  = 25/3"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Advantages over Elo"}),i.jsxs("ul",{className:"space-y-2 text-gray-300",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-green-400 mr-2",children:""}),i.jsx("span",{children:"Handles uncertainty explicitly (new vs experienced players)"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-green-400 mr-2",children:""}),i.jsx("span",{children:"Better team balance predictions"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-green-400 mr-2",children:""}),i.jsx("span",{children:"Faster convergence to true skill"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-green-400 mr-2",children:""}),i.jsx("span",{children:"Natural handling of returning players"})]})]})]}),i.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-gray-400",children:[i.jsx("strong",{children:"Reference:"})," Herbrich, R., Minka, T., & Graepel, T. (2007). TrueSkill: A Bayesian skill rating system. In Advances in Neural Information Processing Systems 19."]})})]})})]})})},Z4e=({rank:e,skill:t})=>{let n,r;return e===1?(n=i.jsx(Zd,{size:18,className:"mr-2 text-yellow-300"}),r="text-yellow-300 font-bold"):e===2?(n=i.jsx(Wb,{size:18,className:"mr-2 text-gray-300"}),r="text-gray-300 font-bold"):e===3?(n=i.jsx(Wb,{size:18,className:"mr-2 text-amber-600"}),r="text-amber-600 font-bold"):(n=i.jsx(qd,{size:18,className:"mr-2 text-blue-400"}),r="text-blue-400 font-medium"),i.jsxs("div",{className:"flex items-center",children:[n,i.jsxs("span",{className:r,children:["#",e," ",i.jsxs("span",{className:"ml-1 text-sm text-gray-400",children:["(",t,")"]})]})]})},eSe=({onBack:e,onViewSkillOverTime:t,onViewPlayerDetails:n})=>{const{playSound:r}=et(),[s,a]=j.useState([]),[A,o]=j.useState(""),[l,u]=j.useState(!0),[f,c]=j.useState("skill"),[d,h]=j.useState("desc"),[m,x]=j.useState(!1),[v,g]=j.useState(!1),[p,y]=j.useState(!1),[b,C]=j.useState(()=>{const k=localStorage.getItem("playerStats_minGames");return k?parseInt(k,10):3}),[B,_]=j.useState(()=>{const k=localStorage.getItem("playerStats_recencyMonths");return k?parseInt(k,10):null}),[N,w]=j.useState(()=>localStorage.getItem("playerStats_recalculateTrueSkill")==="true"),E=j.useRef(null);j.useEffect(()=>{localStorage.setItem("playerStats_minGames",b.toString())},[b]),j.useEffect(()=>{B===null?localStorage.removeItem("playerStats_recencyMonths"):localStorage.setItem("playerStats_recencyMonths",B.toString())},[B]),j.useEffect(()=>{localStorage.setItem("playerStats_recalculateTrueSkill",N.toString())},[N]);const U=j.useMemo(()=>{if(B===null)return{startDate:void 0,endDate:void 0};const k=new Date,R=new Date;return R.setMonth(R.getMonth()-B),{startDate:R,endDate:k}},[B]);j.useEffect(()=>{(async()=>{u(!0);try{let R;if(U.startDate&&U.endDate)R=(await ye.getFilteredPlayerStats(U.startDate,U.endDate,N)).players.map(q=>({id:q.id,name:q.name,totalGames:q.gamesPlayed,wins:q.wins,losses:q.losses,mu:0,sigma:0,elo:0,lastPlayed:q.lastPlayed||new Date,dateCreated:new Date,favoriteHeroes:q.favoriteHeroes,favoriteRoles:q.favoriteRoles,winRate:q.winRate,kills:q.kills,deaths:q.deaths,assists:q.assists,kdRatio:q.kdRatio,averageGold:q.averageGold,averageMinionKills:q.averageMinionKills,hasCombatStats:q.hasCombatStats,displayRating:q.displayRating,rank:0}));else{const ee=await ye.getAllPlayers(),q=await ye.getCurrentTrueSkillRatings();R=await Promise.all(ee.map(async Z=>{const Q=await ye.getPlayerStats(Z.id),O=Q.matchesPlayed,z=O.reduce((Te,$e)=>Te+($e.kills||0),0),L=O.reduce((Te,$e)=>Te+($e.deaths||0),0),ue=O.reduce((Te,$e)=>Te+($e.assists||0),0),xe=O.reduce((Te,$e)=>Te+($e.goldEarned||0),0),ae=O.reduce((Te,$e)=>Te+($e.minionKills||0),0),ie=L===0?z:z/L,Re=Z.totalGames>0?Z.wins/Z.totalGames*100:0,be=z>0||L>0||ue>0||xe>0,le=q[Z.id]||hre(Z);return{...Z,favoriteHeroes:Q.favoriteHeroes,favoriteRoles:Q.favoriteRoles,winRate:Re,kills:z,deaths:L,assists:ue,kdRatio:parseFloat(ie.toFixed(2)),averageGold:Z.totalGames>0?Math.round(xe/Z.totalGames):0,averageMinionKills:Z.totalGames>0?Math.round(ae/Z.totalGames):0,hasCombatStats:be,displayRating:le,rank:0}}))}const T=[...R.filter(ee=>ee.totalGames>0)].sort((ee,q)=>q.displayRating-ee.displayRating);let W=1,V=T.length>0?T[0].displayRating:0,Y=0;const se=T.map((ee,q)=>(ee.displayRating!==V?(W=q+1,V=ee.displayRating,Y=0):Y++,{...ee,rank:W}));a(se)}catch(R){console.error("Error loading player stats:",R)}finally{u(!1)}})()},[U.startDate,U.endDate,N]);const I=()=>{r("buttonClick"),e()},H=async()=>{if(E.current){r("buttonClick"),x(!0);try{E.current.classList.add("taking-screenshot");const k=document.createElement("div");k.className="screenshot-title text-center mb-6",k.innerHTML=`
        <h1 class="text-3xl font-bold">Guards of Atlantis II - Player Rankings</h1>
        <p class="text-gray-400 mt-2">Generated on ${new Date().toLocaleDateString()}</p>
      `,E.current.insertBefore(k,E.current.firstChild);const R=document.createElement("div");R.className="screenshot-footer text-center mt-8 text-sm text-gray-400",R.innerHTML=`
        <p>Generated by Guards of Atlantis II Timer App on ${new Date().toLocaleString()}</p>
      `,E.current.appendChild(R);const S=E.current.querySelectorAll(".no-screenshot");S.forEach(Y=>{Y.style.display="none"});const W=(await C0(E.current,{backgroundColor:"#1F2937",windowWidth:1400,scrollX:0,scrollY:0,scale:window.devicePixelRatio||1,logging:!1,allowTaint:!0,useCORS:!0,onclone:Y=>{const se=Y.querySelector("#screenshotContent");se&&(se.scrollTop=0)}})).toDataURL("image/png"),V=document.createElement("a");V.download=`guards-of-atlantis-player-stats-${new Date().toISOString().slice(0,10)}.png`,V.href=W,V.click(),E.current.removeChild(k),E.current.removeChild(R),E.current.classList.remove("taking-screenshot"),S.forEach(Y=>{Y.style.display=""})}catch(k){console.error("Error creating screenshot:",k)}finally{x(!1)}}},$=()=>{r("buttonClick"),g(!0)},M=[...s.filter(k=>k.name.toLowerCase().includes(A.toLowerCase()))].sort((k,R)=>{let S=0;switch(f){case"name":S=k.name.localeCompare(R.name);break;case"skill":S=k.displayRating-R.displayRating;break;case"games":S=k.totalGames-R.totalGames;break;case"winRate":S=k.winRate-R.winRate;break;case"kdRatio":S=k.kdRatio-R.kdRatio;break;default:S=0}return d==="asc"?S:-S}),D=k=>{r("buttonClick"),k===f?h(d==="asc"?"desc":"asc"):(c(k),h("desc"))};return j.useEffect(()=>{const k=document.createElement("style");return k.type="text/css",k.innerHTML=`
      .taking-screenshot {
        background-color: #1F2937 !important;
        padding: 2rem !important;
        width: 1400px !important;
        position: relative !important;
        overflow: visible !important;
      }
      
      .screenshot-title {
        color: white;
        margin-bottom: 2rem;
      }
      
      .screenshot-footer {
        color: #9CA3AF;
        margin-top: 2rem;
        border-top: 1px solid #4B5563;
        padding-top: 1rem;
      }
      
      .taking-screenshot .no-screenshot {
        display: none !important;
      }
      
      .taking-screenshot .grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 2rem !important;
      }
      
      .taking-screenshot .bg-gray-700 {
        padding: 1.5rem !important;
      }
      
      .taking-screenshot h3.text-xl.font-bold {
        white-space: normal !important;
        max-width: 100% !important;
        overflow: visible !important; 
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
      }
      
      .taking-screenshot .px-5.py-4.bg-gray-800 {
        padding: 1.25rem !important;
        display: flex !important;
        justify-content: space-between !important;
        flex-wrap: wrap !important;
      }
      
      .taking-screenshot .text-sm,
      .taking-screenshot .text-xs {
        overflow: visible !important;
        white-space: normal !important;
      }
      
      .taking-screenshot .flex-wrap {
        margin-bottom: 0.5rem !important;
      }
    `,document.head.appendChild(k),()=>{document.head.removeChild(k)}},[]),i.jsxs("div",{ref:E,id:"screenshotContent",className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4 no-screenshot",children:[i.jsxs("button",{onClick:I,className:"flex items-center text-gray-300 hover:text-white",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Menu"})]}),i.jsx("h2",{className:"text-2xl font-bold text-center sm:text-left",children:"Player Statistics"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[i.jsx(ke,{text:"View skill rating progression over time",position:"left",children:i.jsxs("button",{onClick:()=>{r("buttonClick"),t()},className:"flex items-center justify-center px-3 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg w-full sm:w-auto",children:[i.jsx(Qs,{size:18,className:"mr-2"}),i.jsx("span",{className:"whitespace-nowrap",children:"View Over Time"})]})}),i.jsx(ke,{text:"Take a screenshot of all player statistics",position:"left",children:i.jsxs("button",{onClick:H,className:"flex items-center justify-center px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg w-full sm:w-auto",disabled:m,children:[i.jsx(dh,{size:18,className:"mr-2"}),i.jsx("span",{className:"whitespace-nowrap",children:m?"Capturing...":"Share Stats"})]})})]})]}),i.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-6 no-screenshot",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("input",{type:"text",value:A,onChange:k=>o(k.target.value),placeholder:"Search players...",className:"w-full px-4 py-2 pl-10 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx(yc,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>D("skill"),className:`px-3 py-1 rounded text-sm ${f==="skill"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Skill ",f==="skill"&&(d==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>D("games"),className:`px-3 py-1 rounded text-sm ${f==="games"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Games ",f==="games"&&(d==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>D("winRate"),className:`px-3 py-1 rounded text-sm ${f==="winRate"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Win% ",f==="winRate"&&(d==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>D("kdRatio"),className:`px-3 py-1 rounded text-sm ${f==="kdRatio"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["KD ",f==="kdRatio"&&(d==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>D("name"),className:`px-3 py-1 rounded text-sm ${f==="name"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Name ",f==="name"&&(d==="asc"?"":"")]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>{r("buttonClick"),y(!p)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg flex items-center",children:[i.jsx(vc,{size:18,className:"mr-2"}),i.jsx("span",{children:"Filters"}),(b!==3||B!==null)&&i.jsx("span",{className:"ml-2 bg-blue-600 text-xs rounded-full w-5 h-5 flex items-center justify-center",children:(b!==3?1:0)+(B!==null?1:0)}),p?i.jsx(ns,{size:16,className:"ml-2"}):i.jsx(gr,{size:16,className:"ml-2"})]}),p&&i.jsxs("div",{className:"absolute right-0 top-full mt-1 z-10 bg-gray-800 border border-gray-600 rounded-lg shadow-lg p-4 w-72",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Filter Options"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Time Period"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"radio",name:"playerTimePeriod",checked:B===null,onChange:()=>_(null),className:"mr-2 accent-blue-500"}),i.jsx("span",{className:"text-sm",children:"All Time"})]}),i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"radio",name:"playerTimePeriod",checked:B!==null,onChange:()=>_(B||6),className:"mr-2 accent-blue-500"}),i.jsx("span",{className:"text-sm mr-2",children:"Last"}),i.jsx("input",{type:"number",min:"1",max:"24",value:B||6,onChange:k=>{const R=parseInt(k.target.value,10);!isNaN(R)&&R>=1&&R<=24&&_(R)},disabled:B===null,className:"w-16 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),i.jsx("span",{className:"text-sm ml-2",children:"months"})]})]})]}),B!==null&&i.jsx("div",{className:"mb-4 p-3 bg-gray-700/50 rounded-lg",children:i.jsxs("label",{className:"flex items-start cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:N,onChange:k=>w(k.target.checked),className:"mr-2 mt-0.5 accent-blue-500"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm",children:"Recalculate skill for period only"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When checked, skill ratings are calculated using only matches in the selected period. Otherwise, current cumulative ratings are shown."})]})]})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Min games for relationships"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>C(k=>Math.max(1,k-1)),disabled:b<=1,className:"w-10 h-10 flex items-center justify-center bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 disabled:text-gray-500 rounded-lg text-xl font-bold",children:""}),i.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-center font-medium",children:b}),i.jsx("button",{onClick:()=>C(k=>Math.min(20,k+1)),disabled:b>=20,className:"w-10 h-10 flex items-center justify-center bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 disabled:text-gray-500 rounded-lg text-xl font-bold",children:"+"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For BFF/Nemesis calculations in player details"})]}),i.jsx("button",{onClick:()=>{r("buttonClick"),C(3),_(null),w(!1),y(!1)},className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg",children:"Reset Filters"})]})]})]})}),A!==""&&i.jsxs("div",{className:"mb-4 p-4 bg-gray-700 rounded-lg screenshot-info",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Search Results:"}),i.jsxs("p",{className:"text-sm",children:['Showing players matching: "',A,'"']})]}),B!==null&&U.startDate&&U.endDate&&i.jsxs("div",{className:"mb-4 p-3 bg-blue-900/30 border border-blue-700/50 rounded-lg flex items-center flex-wrap gap-2",children:[i.jsx(lr,{size:18,className:"text-blue-400 flex-shrink-0"}),i.jsxs("span",{className:"text-sm text-blue-200",children:["Showing stats from"," ",i.jsx("span",{className:"font-medium",children:U.startDate.toLocaleDateString()})," ","to"," ",i.jsx("span",{className:"font-medium",children:U.endDate.toLocaleDateString()})," ","(",B," month",B!==1?"s":"",")"]}),N&&i.jsx("span",{className:"text-xs bg-purple-600/50 text-purple-200 px-2 py-0.5 rounded",children:"Skill recalculated for period"})]}),l?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):i.jsx("div",{children:M.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:M.map(k=>i.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden shadow-md relative",children:[i.jsxs("div",{className:"px-5 py-4 bg-gray-800 flex justify-between items-center relative",children:[i.jsx("h3",{className:`text-xl font-bold truncate ${k.rank<=3?"ml-10":""}`,children:k.name}),i.jsx("div",{className:"flex items-center",children:i.jsx("div",{children:i.jsx(Z4e,{rank:k.rank,skill:k.displayRating})})})]}),k.rank<=3&&i.jsx("div",{className:`absolute top-0 left-0 w-0 h-0 z-10
                        border-t-[50px] border-r-[50px] 
                        ${k.rank===1?"border-t-yellow-500 border-r-transparent":k.rank===2?"border-t-gray-400 border-r-transparent":"border-t-amber-600 border-r-transparent"}`,children:i.jsx("span",{className:"absolute top-[-45px] left-[5px] font-bold text-black",children:k.rank})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Win Rate"}),i.jsxs("div",{className:"font-medium",children:[k.winRate.toFixed(1),"%"]})]}),i.jsx("div",{className:"h-2 bg-red-600 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-green-500",style:{width:`${k.winRate}%`}})}),i.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[i.jsxs("span",{children:["Wins: ",k.wins]}),i.jsxs("span",{children:["Losses: ",k.losses]}),i.jsxs("span",{children:["Total: ",k.totalGames]})]})]}),k.hasCombatStats&&i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[i.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center text-blue-400 text-sm mb-1",children:[i.jsx(vn,{size:14,className:"mr-1"}),i.jsx("span",{children:"K/D/A"})]}),i.jsxs("div",{className:"font-medium text-center",children:[k.kills,"/",k.deaths,"/",k.assists]})]}),i.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center text-yellow-400 text-sm mb-1",children:[i.jsx(Qs,{size:14,className:"mr-1"}),i.jsx("span",{children:"KD Ratio"})]}),i.jsx("div",{className:"font-medium text-center",children:k.kdRatio})]}),i.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center text-green-400 text-sm mb-1",children:[i.jsx(st,{size:14,className:"mr-1"}),i.jsx("span",{children:"Avg Gold"})]}),i.jsx("div",{className:"font-medium text-center",children:k.averageGold})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Favorite Heroes"}),k.favoriteHeroes.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:k.favoriteHeroes.map(R=>i.jsxs("div",{className:"bg-gray-800 px-3 py-1 rounded-full text-sm",children:[R.heroName," (",R.count,")"]},R.heroId))}):i.jsx("div",{className:"text-sm text-gray-500 italic",children:"No heroes played"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Favorite Roles"}),k.favoriteRoles.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:k.favoriteRoles.map(R=>i.jsxs("div",{className:"bg-gray-800 px-3 py-1 rounded-full text-sm",children:[R.role," (",R.count,")"]},R.role))}):i.jsx("div",{className:"text-sm text-gray-500 italic",children:"No roles data"})]}),i.jsxs("button",{onClick:()=>{r("buttonClick"),n(k.id)},className:`w-full mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-500 
                                   rounded-lg flex items-center justify-center transition-colors`,children:[i.jsx(VA,{size:18,className:"mr-2"}),i.jsx("span",{children:"View Details"})]})]})]},k.id))}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx(st,{size:48,className:"text-gray-500 mb-4"}),i.jsx("p",{className:"text-xl text-gray-400",children:A?"No players found matching your search":"No player data available"}),A&&i.jsx("button",{onClick:()=>o(""),className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg no-screenshot",children:"Clear Search"})]})}),i.jsxs("div",{className:"mt-8 p-4 bg-gray-700/50 rounded-lg text-sm text-gray-300",children:[i.jsxs("h4",{className:"font-medium mb-2 flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(jt,{size:16,className:"mr-2 text-blue-400"}),"About Player Rankings"]}),i.jsxs("button",{onClick:$,className:"text-blue-400 hover:text-blue-300 flex items-center no-screenshot",children:[i.jsx(vi,{size:16,className:"mr-1"}),i.jsx("span",{children:"Learn More"})]})]}),i.jsx("p",{children:"Players are ranked based on their skill rating, which reflects their performance against other players using the TrueSkill rating system. It takes roughly 20 matches for ratings to stabilise. Rankings are calculated based on match wins and losses, with players winning more points if their team beat higher ranked teams, and losing more points if they lose to lower ranked teams."})]}),i.jsx(J4e,{isOpen:v,onClose:()=>g(!1)})]})},tSe=({kills:e,deaths:t,assists:n,kdRatio:r,averageKills:s,averageDeaths:a,averageAssists:A,gamesWithCombatData:o,gamesWithGoldData:l,gamesWithMinionData:u,averageGold:f,averageMinionKills:c,averageLevel:d,totalGames:h,hasCombatStats:m})=>m?i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[i.jsx(vn,{size:20,className:"mr-2 text-blue-400"}),"Detailed Combat Statistics"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Total K/D/A"}),i.jsx(vn,{size:16,className:"text-red-400"})]}),i.jsxs("div",{className:"text-lg font-bold text-white",children:[e,"/",t,"/",n]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[h," games played"]})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"K/D Ratio"}),i.jsx(Jd,{size:16,className:"text-yellow-400"})]}),i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:r.toFixed(2)}),i.jsx("div",{className:"text-xs text-gray-500",children:t===0?"Perfect":"kill/death ratio"})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Avg Level"}),i.jsx(Qs,{size:16,className:"text-purple-400"})]}),i.jsx("div",{className:"text-2xl font-bold text-purple-400",children:d.toFixed(1)}),i.jsx("div",{className:"text-xs text-gray-500",children:"end of game"})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Avg Gold"}),i.jsx(Qr,{size:16,className:"text-yellow-400"})]}),i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:f.toLocaleString()}),i.jsx("div",{className:"text-xs text-gray-500",children:"per game"})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Avg Minions"}),i.jsx(st,{size:16,className:"text-green-400"})]}),i.jsx("div",{className:"text-2xl font-bold text-green-400",children:c.toFixed(1)}),i.jsx("div",{className:"text-xs text-gray-500",children:"per game"})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Kill Participation"}),i.jsx(Jd,{size:16,className:"text-blue-400"})]}),i.jsx("div",{className:"text-2xl font-bold text-blue-400",children:(s+A).toFixed(1)}),i.jsxs("div",{className:"text-xs text-gray-500",children:["(K+A) per game (",o," games)"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-3 text-gray-300",children:"Combat Performance"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Kills per Game"}),i.jsxs("span",{className:"font-medium",children:[s.toFixed(1)," (",o," games)"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Deaths per Game"}),i.jsxs("span",{className:"font-medium",children:[a.toFixed(1)," (",o," games)"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Assists per Game"}),i.jsxs("span",{className:"font-medium",children:[A.toFixed(1)," (",o," games)"]})]})]})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-3 text-gray-300",children:"Economic Performance"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Total Gold Earned"}),i.jsx("span",{className:"font-medium",children:l>0?(f*l).toLocaleString():"N/A"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Farming Efficiency"}),i.jsx("span",{className:"font-medium",children:u>0?`${c.toFixed(1)} minions/game (${u} games)`:"N/A"})]})]})]})]})]}):i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[i.jsx(vn,{size:20,className:"mr-2 text-blue-400"}),"Detailed Combat Statistics"]}),i.jsxs("div",{className:"text-center py-8",children:[i.jsx(vn,{size:48,className:"mx-auto text-gray-500 mb-4"}),i.jsx("p",{className:"text-gray-400 mb-2",children:"No Combat Data Available"}),i.jsx("p",{className:"text-sm text-gray-500",children:"This player hasn't recorded any matches with detailed combat statistics yet."})]})]});function AA(e,t=.4){const n=e.length;if(n===0)return[];if(n===1)return[...e];const r=[],s=Math.max(Math.floor(n*t),2);for(let a=0;a<n;a++){let A=0,o=0;for(let l=0;l<n;l++){const u=Math.abs(a-l)/s;if(u<1){const f=Math.pow(1-Math.pow(u,3),3);A+=f,o+=f*e[l]}}r.push(A>0?o/A:e[a])}return r}function Xo(e,t){if(e.length===0)return 0;if(e.length===1)return e[0];const n=t/100*(e.length-1),r=Math.floor(n),s=Math.ceil(n),a=n-r;return r===s?e[r]:e[r]*(1-a)+e[s]*a}const nSe=(e,t)=>{if(t.length===0)return{category:"Average",color:"text-blue-400",description:"similar to",percentile:50};const n=[...t].sort((a,A)=>a-A),r=n.findIndex(a=>a>=e),s=r===-1?100:Math.round(r/n.length*100);return s>=95?{category:"Top 5%",color:"text-green-500",description:"in top 5% of",percentile:s}:s>=80?{category:"Top 20%",color:"text-green-400",description:"in top 20% of",percentile:s}:s>=60?{category:"Above Average",color:"text-blue-400",description:"above average of",percentile:s}:s>=40?{category:"Average",color:"text-gray-400",description:"average among",percentile:s}:s>=20?{category:"Below Average",color:"text-orange-400",description:"below average of",percentile:s}:{category:"Bottom 20%",color:"text-red-400",description:"in bottom 20% of",percentile:s}},rSe=e=>e>150?{category:"Rapidly Improving",color:"text-green-500"}:e>40?{category:"Improving",color:"text-green-400"}:e>-40?{category:"Stable",color:"text-blue-400"}:e>-150?{category:"Declining",color:"text-orange-400"}:{category:"Rapidly Declining",color:"text-red-400"},sSe=e=>e<10?{level:"Very Low",description:"Extremely consistent performance"}:e<20?{level:"Low",description:"Predictable results"}:e<35?{level:"Medium",description:"Typical variation"}:e<60?{level:"High",description:"Noticeable swings"}:{level:"Very High",description:"Highly unpredictable"},aSe=({playerId:e,playerName:t})=>{const[n,r]=j.useState(!0),[s,a]=j.useState([]),[A,o]=j.useState([]),[l,u]=j.useState(!1);j.useEffect(()=>{const h=()=>u(window.innerWidth<768);return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),j.useEffect(()=>{(async()=>{try{r(!0);const[m,x]=await Promise.all([ye.getHistoricalRatings(),ye.getCurrentTrueSkillRatings()]);o(Object.values(x));const v=[];for(const M of m)if(M.participants.includes(e)&&M.matchNumber>0){const D=Object.values(M.ratings).sort((k,R)=>k-R);v.push({matchNumber:M.matchNumber,date:M.date,playerRating:M.ratings[e],allRatings:D})}if(v.length===0){a([]),r(!1);return}const g=v[0].date,p=v[0].allRatings.map(()=>1200);v.unshift({matchNumber:0,date:g,playerRating:1200,allRatings:p});const y=v.map(M=>Xo(M.allRatings,10)),b=v.map(M=>Xo(M.allRatings,25)),C=v.map(M=>Xo(M.allRatings,50)),B=v.map(M=>Xo(M.allRatings,75)),_=v.map(M=>Xo(M.allRatings,90)),N=v.map(M=>M.allRatings.reduce((D,k)=>D+k,0)/M.allRatings.length),w=AA(y),E=AA(b),U=AA(C),I=AA(B),H=AA(_),$=AA(N),K=v.map((M,D)=>({matchNumber:M.matchNumber,date:M.date,playerRating:M.playerRating,p10:Math.round(w[D]),p25:Math.round(E[D]),p50:Math.round(U[D]),p75:Math.round(I[D]),p90:Math.round(H[D]),mean:Math.round($[D])}));a(K)}catch(m){console.error("Error loading skill progression:",m)}finally{r(!1)}})()},[e]);const f=j.useMemo(()=>{var I,H;if(s.length===0)return null;const h=1200,m=((I=s[s.length-1])==null?void 0:I.playerRating)||0,x=((H=s[s.length-1])==null?void 0:H.p50)||0,v=m-h,g=x-h,p=v-g,y=m-x,b=y>0,C=s.slice(1).map(($,K)=>$.playerRating-s[K].playerRating),B=C.length>0?C.reduce(($,K)=>$+K,0)/C.length:0,_=C.length>0?Math.sqrt(C.reduce(($,K)=>$+Math.pow(K-B,2),0)/C.length):0;let N=0;if(s.length>=2){const $=s.slice(-Math.min(5,s.length));if($.length>=2){const K=$[0];N=($[$.length-1].playerRating-K.playerRating)/($.length-1)}}const w=nSe(m,A),E=rSe(N),U=sSe(Math.round(_));return{startRating:h,endRating:m,playerChange:v,groupChange:g,relativeToGroup:p,isAboveAverage:b,currentDifference:Math.abs(y),volatility:Math.round(_),totalMatches:s.length-1,trend:v>=0?"up":"down",positionCategory:w,trendCategory:E,volatilityInfo:U,recentSlope:N,lastMedian:x}},[s,A]),c=j.useMemo(()=>{if(s.length===0)return[1e3,1400];const h=s.flatMap(v=>[v.playerRating,v.p10,v.p90,1200]),m=Math.min(...h),x=Math.max(...h);return[Math.floor(m/50)*50-50,Math.ceil(x/50)*50+50]},[s]),d=j.useMemo(()=>{if(s.length===0)return[0,10];const h=s.map(m=>m.matchNumber);return[Math.min(...h)-.5,Math.max(...h)+.5]},[s]);return n?i.jsx("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-6 bg-gray-600 rounded w-1/3 mb-4"}),i.jsx("div",{className:"h-64 bg-gray-600 rounded"})]})}):s.length===0?i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[i.jsx(Qs,{size:20,className:"mr-2 text-blue-400"}),"Skill Progression Over Time"]}),i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Qs,{size:48,className:"mx-auto text-gray-500 mb-4"}),i.jsx("p",{className:"text-gray-400 mb-2",children:"No Progression Data Available"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Not enough match history to show skill progression."})]})]}):i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[i.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[i.jsx(Qs,{size:20,className:"mr-2 text-blue-400"}),"Skill Progression vs Group"]}),f&&i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-lg font-semibold flex items-center ${f.trend==="up"?"text-green-400":"text-red-400"}`,children:[f.trend==="up"?i.jsx(Wd,{size:16,className:"mr-1"}):i.jsx(Gd,{size:16,className:"mr-1"}),f.playerChange>=0?"+":"",f.playerChange]}),i.jsx("div",{className:"text-sm text-gray-400",children:"Total change"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-lg font-semibold flex items-center ${f.isAboveAverage?"text-green-400":"text-orange-400"}`,children:[f.isAboveAverage?i.jsx(Wd,{size:16,className:"mr-1"}):i.jsx(Gd,{size:16,className:"mr-1"}),f.currentDifference]}),i.jsx("div",{className:"text-sm text-gray-400",children:"vs median"})]})]})]}),i.jsx("div",{style:{width:"100%",height:l?400:550},children:i.jsxs(f0,{width:l?400:1e3,height:l?380:530,domain:{x:d,y:c},padding:{top:30,bottom:60,left:70,right:30},children:[i.jsx(Na,{label:"Match Number",tickValues:s.map(h=>h.matchNumber),tickFormat:h=>Math.round(h),style:{axis:{stroke:"#6B7280"},axisLabel:{fill:"#9CA3AF",fontSize:l?12:16,padding:40},tickLabels:{fill:"#9CA3AF",fontSize:l?10:14},grid:{stroke:"#374151",strokeDasharray:"3,3"}}}),i.jsx(Na,{dependentAxis:!0,label:"Skill Rating",style:{axis:{stroke:"#6B7280"},axisLabel:{fill:"#9CA3AF",fontSize:l?12:16,padding:50},tickLabels:{fill:"#9CA3AF",fontSize:l?10:14},grid:{stroke:"#374151",strokeDasharray:"3,3"}}}),i.jsx(ju,{data:s,x:"matchNumber",y:"p25",y0:"p10",interpolation:"monotoneX",style:{data:{fill:"#EF4444",fillOpacity:.15,stroke:"none"}}}),i.jsx(ju,{data:s,x:"matchNumber",y:"p50",y0:"p25",interpolation:"monotoneX",style:{data:{fill:"#EF4444",fillOpacity:.25,stroke:"none"}}}),i.jsx(ju,{data:s,x:"matchNumber",y:"p75",y0:"p50",interpolation:"monotoneX",style:{data:{fill:"#EF4444",fillOpacity:.25,stroke:"none"}}}),i.jsx(ju,{data:s,x:"matchNumber",y:"p90",y0:"p75",interpolation:"monotoneX",style:{data:{fill:"#EF4444",fillOpacity:.15,stroke:"none"}}}),i.jsx(ol,{data:[{x:d[0],y:1200},{x:d[1],y:1200}],style:{data:{stroke:"#6B7280",strokeWidth:2,strokeDasharray:"10 5"}}}),i.jsx(ol,{data:s,x:"matchNumber",y:"mean",interpolation:"monotoneX",style:{data:{stroke:"#EF4444",strokeWidth:2.5,strokeDasharray:"8 4"}}}),i.jsx(ol,{data:s,x:"matchNumber",y:"p50",interpolation:"monotoneX",style:{data:{stroke:"#EF4444",strokeWidth:2.5}}}),i.jsx(ol,{data:s,x:"matchNumber",y:"playerRating",interpolation:"linear",style:{data:{stroke:"#3B82F6",strokeWidth:4}}}),i.jsx(w1,{data:s,x:"matchNumber",y:"playerRating",size:7,style:{data:{fill:"#3B82F6"}}})]})}),i.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 justify-center p-3 bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-sm text-gray-300",children:t})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-0.5 bg-red-500"}),i.jsx("span",{className:"text-sm text-gray-300",children:"Group Median"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{width:"24",height:"8",className:"flex-shrink-0",children:i.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#EF4444",strokeWidth:"2",strokeDasharray:"6 3"})}),i.jsx("span",{className:"text-sm text-gray-300",children:"Group Mean"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-3 rounded",style:{backgroundColor:"rgba(239,68,68,0.25)"}}),i.jsx("span",{className:"text-sm text-gray-300",children:"25th-75th %ile"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-3 rounded",style:{backgroundColor:"rgba(239,68,68,0.15)"}}),i.jsx("span",{className:"text-sm text-gray-300",children:"10th-90th %ile"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{width:"24",height:"8",className:"flex-shrink-0",children:i.jsx("line",{x1:"0",y1:"4",x2:"24",y2:"4",stroke:"#6B7280",strokeWidth:"1.5",strokeDasharray:"8 4"})}),i.jsx("span",{className:"text-sm text-gray-300",children:"Starting (1200)"})]})]}),f&&i.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-2 text-gray-300",children:"Performance vs Group"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx(ke,{text:`Shows where you rank compared to all players.

${f.positionCategory.category}: You are ${f.positionCategory.description} all players.

Your rating: ${f.endRating} points
Percentile rank: ${f.positionCategory.percentile}th percentile`,position:"right",maxWidth:"max-w-sm",children:i.jsx("span",{className:"text-sm text-gray-400 cursor-help",children:"Position"})}),i.jsx("span",{className:`font-medium ${f.positionCategory.color}`,children:f.positionCategory.category})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(ke,{text:`Gap between your rating and group median.

${Math.abs(f.currentDifference)} points ${f.isAboveAverage?"above":"below"} median.

Larger gaps = more distinctive skill level.`,position:"right",maxWidth:"max-w-sm",children:i.jsx("span",{className:"text-sm text-gray-400 cursor-help",children:"Difference"})}),i.jsxs("span",{className:"font-medium",children:[f.currentDifference," pts"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(ke,{text:`Your improvement vs everyone else's.

You: ${f.playerChange>=0?"+":""}${f.playerChange} points since start
Group: ${f.groupChange>=0?"+":""}${f.groupChange} points median change

Positive = improved faster than median
Negative = improved slower than median`,position:"right",maxWidth:"max-w-sm",children:i.jsx("span",{className:"text-sm text-gray-400 cursor-help",children:"Relative Gain"})}),i.jsxs("span",{className:`font-medium ${f.relativeToGroup>=0?"text-green-400":"text-red-400"}`,children:[f.relativeToGroup>=0?"+":"",f.relativeToGroup]})]})]})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-2 text-gray-300",children:"Rating Journey"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Starting Rating"}),i.jsx("span",{className:"font-medium",children:f.startRating})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Current Rating"}),i.jsx("span",{className:"font-medium",children:f.endRating})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Matches Played"}),i.jsx("span",{className:"font-medium",children:f.totalMatches})]})]})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-2 text-gray-300",children:"Consistency"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx(ke,{text:`How much your rating varies between games.

${f.volatilityInfo.level} volatility (${f.volatility} points)

${f.volatilityInfo.description} - consistent players are easier to balance teams with.`,position:"left",maxWidth:"max-w-sm",children:i.jsx("span",{className:"text-sm text-gray-400 cursor-help",children:"Volatility"})}),i.jsx("span",{className:"font-medium",children:f.volatilityInfo.level})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(ke,{text:`Recent performance trajectory (last 5 games).

${f.trendCategory.category}: ${f.recentSlope>=0?"+":""}${f.recentSlope.toFixed(1)} pts/game

Recent trends show current form better than overall stats.`,position:"left",maxWidth:"max-w-sm",children:i.jsx("span",{className:"text-sm text-gray-400 cursor-help",children:"Trend"})}),i.jsx("span",{className:`font-medium ${f.trendCategory.color}`,children:f.trendCategory.category})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(ke,{text:`How predictable your performance is.

Based on your volatility (${f.volatility} pts).

High stability = consistent results
Low stability = unpredictable swings`,position:"left",maxWidth:"max-w-sm",children:i.jsx("span",{className:"text-sm text-gray-400 cursor-help",children:"Stability"})}),i.jsx("span",{className:"font-medium",children:f.volatility<10?"Very High":f.volatility<20?"High":f.volatility<35?"Medium":f.volatility<60?"Low":"Very Low"})]})]})]})]}),i.jsx("div",{className:"mt-6 p-4 bg-gray-800/50 rounded-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(jt,{size:16,className:"mr-2 text-blue-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Your Rating (Blue Line):"})," Shows your skill rating at each match you played."]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Group Median (Solid Red):"})," The smoothed median (50th percentile) of all player ratings."]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Group Mean (Dashed Red):"})," The smoothed average rating of all players."]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Shaded Bands:"})," Show the distribution of player ratings. Darker = 25th-75th percentile (middle 50%). Lighter = 10th-90th percentile."]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Starting Line (Dashed Grey at 1200):"})," The default skill rating all players begin with."]}),i.jsx("p",{children:"Being above the median means you're better than half the group. The higher in the shaded region, the better your relative performance."})]})]})})]})},iSe=({playerId:e})=>{const[t,n]=j.useState(!0),[r,s]=j.useState(null),a=(()=>{const l=localStorage.getItem("playerStats_minGames");return l?parseInt(l,10):3})(),A=(()=>{const l=localStorage.getItem("playerStats_recencyMonths");return l?parseInt(l,10):null})(),o=j.useMemo(()=>{if(A===null)return{startDate:null,endDate:null};const l=new Date,u=new Date;return u.setMonth(u.getMonth()-A),{startDate:u,endDate:l}},[A]);return j.useEffect(()=>{(async()=>{try{n(!0);const[u,f]=await Promise.all([ye.getPlayerStats(e),ye.getAllMatches()]);let c=f;o.startDate&&o.endDate&&(c=f.filter(_=>{const N=new Date(_.date);return N>=o.startDate&&N<=o.endDate}));const d=new Set(c.map(_=>_.id)),h=u.matchesPlayed.filter(_=>d.has(_.matchId)),m=new Map;for(const _ of h)if(!m.has(_.matchId)){const N=await ye.getMatchPlayers(_.matchId);m.set(_.matchId,N)}const x=new Map,v=new Map;for(const[_,N]of m){const w=N.find(I=>I.playerId===e);if(!w)continue;const E=c.find(I=>I.id===_);if(!E)continue;const U=w.team===E.winningTeam;N.forEach(I=>{if(I.playerId!==e)if(I.team===w.team){x.has(I.playerId)||x.set(I.playerId,{wins:0,total:0,name:I.playerId});const H=x.get(I.playerId);H.total++,U&&H.wins++}else{v.has(I.playerId)||v.set(I.playerId,{wins:0,total:0,name:I.playerId});const H=v.get(I.playerId);H.total++,U&&H.wins++}})}const g=Array.from(x.entries()).map(([_,N])=>({playerId:_,playerName:N.name,gamesPlayed:N.total,winRate:N.wins/N.total*100,isSignificant:N.total>=a})).filter(_=>_.isSignificant).sort((_,N)=>N.winRate-_.winRate),p=Array.from(v.entries()).map(([_,N])=>({playerId:_,playerName:N.name,gamesPlayed:N.total,winRate:N.wins/N.total*100,isSignificant:N.total>=a})).filter(_=>_.isSignificant).sort((_,N)=>_.winRate-N.winRate),y=_=>{if(_.length===0)return[];const N=_[0].winRate;return _.filter(w=>w.winRate===N)},b=_=>{if(_.length===0)return[];const N=_[0].winRate;return _.filter(w=>w.winRate===N)},C=y(g),B=b(p);s({bestTeammates:C,nemeses:B})}catch(u){console.error("Error calculating relationship stats:",u)}finally{n(!1)}})()},[e,o.startDate,o.endDate]),t?i.jsx("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-6 bg-gray-600 rounded w-1/3 mb-4"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{className:"h-32 bg-gray-600 rounded"}),i.jsx("div",{className:"h-32 bg-gray-600 rounded"})]})]})}):!r||r.bestTeammates.length===0&&r.nemeses.length===0?i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[i.jsx(st,{size:20,className:"mr-2 text-blue-400"}),"Player Relationships"]}),i.jsxs("div",{className:"text-center py-8",children:[i.jsx(st,{size:48,className:"mx-auto text-gray-500 mb-4"}),i.jsx("p",{className:"text-gray-400 mb-2",children:"Not Enough Data"}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Need at least ",a," game",a!==1?"s":""," with the same players to calculate meaningful relationships."]})]})]}):i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[i.jsx(st,{size:20,className:"mr-2 text-blue-400"}),"Player Relationships"]}),A!==null&&o.startDate&&o.endDate&&i.jsxs("div",{className:"mb-4 p-2 bg-blue-900/30 border border-blue-700/50 rounded text-sm flex items-center",children:[i.jsx(lr,{size:14,className:"mr-2 text-blue-400"}),i.jsxs("span",{className:"text-blue-200",children:["Showing relationships from last ",A," month",A!==1?"s":""]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(mv,{size:20,className:"mr-2 text-green-400"}),i.jsx("h4",{className:"font-semibold text-green-400",children:"Best Teammate (BFF)"})]})}),r.bestTeammates.length>0?i.jsx("div",{children:r.bestTeammates.map((l,u)=>i.jsxs("div",{className:u>0?"mt-3 pt-3 border-t border-gray-600":"",children:[i.jsxs("div",{className:"text-lg font-bold text-white mb-1",children:[l.playerName,r.bestTeammates.length>1&&i.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"(tied)"})]}),i.jsxs("div",{className:"text-2xl font-bold text-green-400 mb-2",children:[l.winRate.toFixed(1),"% Win Rate"]}),i.jsxs("div",{className:"text-sm text-gray-400",children:[l.gamesPlayed," games together"]}),i.jsx("div",{className:"mt-3 h-2 bg-gray-600 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-green-500",style:{width:`${l.winRate}%`}})})]},l.playerId))}):i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-gray-400",children:"No significant teammate relationships yet"})})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(pI,{size:20,className:"mr-2 text-red-400"}),i.jsx("h4",{className:"font-semibold text-red-400",children:"Nemesis"})]})}),r.nemeses.length>0?i.jsx("div",{children:r.nemeses.map((l,u)=>i.jsxs("div",{className:u>0?"mt-3 pt-3 border-t border-gray-600":"",children:[i.jsxs("div",{className:"text-lg font-bold text-white mb-1",children:[l.playerName,r.nemeses.length>1&&i.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"(tied)"})]}),i.jsxs("div",{className:"text-2xl font-bold text-red-400 mb-2",children:[l.winRate.toFixed(1),"% Win Rate"]}),i.jsxs("div",{className:"text-sm text-gray-400",children:[l.gamesPlayed," games against"]}),i.jsx("div",{className:"mt-3 h-2 bg-gray-600 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-red-500",style:{width:`${l.winRate}%`}})})]},l.playerId))}):i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-gray-400",children:"No significant opponent relationships yet"})})]})]}),i.jsx("div",{className:"mt-6 p-4 bg-gray-800/50 rounded-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(jt,{size:16,className:"mr-2 text-blue-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Best Teammate (BFF):"})," The player you have the highest win rate with (minimum ",a," game",a!==1?"s":"",")."]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Nemesis:"})," The opponent you struggle against most (lowest win rate, minimum ",a," game",a!==1?"s":"",")."]}),i.jsxs("p",{children:["These statistics help identify which players complement your playstyle best and which opponents present the greatest challenge. Relationships require at least ",a," game",a!==1?"s":""," for statistical significance."]})]})]})})]})},ASe={guardian:{name:"Guardian",description:"Tanky defenders who protect allies and control space on the battlefield",shortDescription:"Protects allies from damage and controls battlefield positioning"},durable:{name:"Durable",description:"Tough heroes with high survivability and defensive capabilities",shortDescription:"Survives extended fights and outlasts enemies with defensive abilities"},slayer:{name:"Slayer",description:"High damage dealers who excel at eliminating enemy heroes",shortDescription:"Eliminates enemy heroes quickly with high damage output and burst"},tactician:{name:"Tactician",description:"Strategic heroes with strong positioning and battlefield control",shortDescription:"Controls battles through strategic positioning and tactical battlefield awareness"},support:{name:"Support",description:"Team utility specialists who heal, buff allies, and provide assistance",shortDescription:"Heals allies and provides team utility through buffs and assistance"},sorcerer:{name:"Sorcerer",description:"Magic damage dealers with powerful spells and area control",shortDescription:"Casts powerful magic spells for damage and area battlefield control"},disabler:{name:"Disabler",description:"Heroes who control enemies through stuns, roots, and debuffs",shortDescription:"Disrupts enemies with stuns, roots, and debuffs to control fights"},pusher:{name:"Pusher",description:"Heroes who excel at destroying structures and advancing lanes",shortDescription:"Destroys enemy structures and advances lanes to gain map control"},farming:{name:"Farming",description:"Heroes who efficiently gather resources and scale into late game",shortDescription:"Gathers resources efficiently to become powerful in late game scenarios"}},HE=e=>{const t=e.toLowerCase(),n=ASe[t];return n?`${n.name}: ${n.shortDescription}`:e.charAt(0).toUpperCase()+e.slice(1)},oSe=({favoriteHeroes:e,allHeroesPlayed:t,favoriteRoles:n,allRolesPlayed:r,totalGames:s,matches:a})=>{const[A,o]=j.useState([]),[l,u]=j.useState(!0);j.useEffect(()=>{const d=async()=>{try{u(!0);const h=[];for(const m of e){const x=a.filter(y=>y.heroId===m.heroId||y.heroName===m.heroName);let v=0,g=0;for(const y of x)try{const b=await ye.getMatch(y.matchId);b&&(g++,y.team===b.winningTeam&&v++)}catch(b){console.warn(`Failed to load match ${y.matchId}:`,b)}const p=g>0?v/g*100:0;h.push({heroName:m.heroName,gamesPlayed:m.count,winRate:p,percentage:s>0?m.count/s*100:0})}o(h)}catch(h){console.error("Error calculating hero win rates:",h);const m=e.map(x=>({heroName:x.heroName,gamesPlayed:x.count,winRate:0,percentage:s>0?x.count/s*100:0}));o(m)}finally{u(!1)}};e.length>0?d():(o([]),u(!1))},[e,a,s]);const f=d=>{switch(d.toLowerCase()){case"guardian":case"durable":return i.jsx(At,{size:16,className:"text-blue-400"});case"slayer":case"tactician":return i.jsx(vn,{size:16,className:"text-red-400"});case"support":return i.jsx(st,{size:16,className:"text-green-400"});case"sorcerer":return i.jsx(yi,{size:16,className:"text-purple-400"});default:return i.jsx(qd,{size:16,className:"text-gray-400"})}},c=d=>{switch(d.toLowerCase()){case"guardian":case"durable":return"text-blue-400";case"slayer":case"tactician":return"text-red-400";case"support":return"text-green-400";case"sorcerer":return"text-purple-400";default:return"text-gray-400"}};return l?i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[i.jsx(At,{size:20,className:"mr-2 text-blue-400"}),"Hero Performance Analytics"]}),i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-400",children:"Calculating hero win rates..."})]})]}):e.length===0||A.length===0?i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[i.jsx(At,{size:20,className:"mr-2 text-blue-400"}),"Hero Performance Analytics"]}),i.jsxs("div",{className:"text-center py-8",children:[i.jsx(At,{size:48,className:"mx-auto text-gray-500 mb-4"}),i.jsx("p",{className:"text-gray-400 mb-2",children:"No Hero Data Available"}),i.jsx("p",{className:"text-sm text-gray-500",children:"This player hasn't recorded any matches with hero selection yet."})]})]}):i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[i.jsx(At,{size:20,className:"mr-2 text-blue-400"}),"Hero Performance Analytics"]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"font-semibold mb-3 text-gray-300",children:"Most Played Heroes"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:A.slice(0,6).map(d=>i.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-white truncate",children:d.heroName}),i.jsxs("div",{className:"text-xs text-gray-400",children:[d.gamesPlayed," games"]})]}),i.jsxs("div",{className:"text-right ml-2",children:[i.jsxs("div",{className:"text-sm font-semibold text-green-400",children:[d.winRate.toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"win rate"})]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[i.jsx("span",{children:"Usage"}),i.jsxs("span",{children:[d.percentage.toFixed(1),"%"]})]}),i.jsx("div",{className:"h-2 bg-gray-600 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-blue-500",style:{width:`${d.percentage}%`}})})]}),i.jsx("div",{children:i.jsx("div",{className:"h-2 bg-gray-600 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-green-500",style:{width:`${d.winRate}%`}})})})]},d.heroName))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"font-semibold mb-3 text-gray-300",children:"Role Preferences"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:n.map(d=>{const h=s>0?d.count/s*100:0;return i.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx(ke,{text:HE(d.role),position:"top",maxWidth:"max-w-sm",children:i.jsxs("div",{className:"flex items-center cursor-help",children:[f(d.role),i.jsx("span",{className:`ml-2 font-medium ${c(d.role)}`,children:d.role})]})})}),i.jsx("div",{className:"text-lg font-bold text-white",children:d.count}),i.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:[h.toFixed(1),"% of games"]}),i.jsx("div",{className:"h-2 bg-gray-600 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-blue-500",style:{width:`${h}%`}})})]},d.role)})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-semibold mb-2 text-gray-300 flex items-center",children:[i.jsx(Qs,{size:16,className:"mr-2 text-blue-400"}),"Hero Diversity"]}),i.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:t.length}),i.jsx("div",{className:"text-sm text-gray-400",children:"Different heroes played"}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:s>0&&t.length>0?`Avg ${(s/t.length).toFixed(1)} games per hero`:"No data"})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-semibold mb-2 text-gray-300 flex items-center",children:[i.jsx(yi,{size:16,className:"mr-2 text-yellow-400"}),"Main Hero"]}),e[0]&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-lg font-bold text-white mb-1",children:e[0].heroName}),i.jsxs("div",{className:"text-sm text-gray-400",children:[e[0].count," games played"]}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:s>0?`${(e[0].count/s*100).toFixed(1)}% of all games`:""})]})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-semibold mb-2 text-gray-300 flex items-center",children:[i.jsx(st,{size:16,className:"mr-2 text-green-400"}),"Favorite Role"]}),n[0]&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-lg font-bold text-white mb-1 flex items-center",children:[f(n[0].role),i.jsx("span",{className:"ml-2",children:n[0].role})]}),i.jsxs("div",{className:"text-sm text-gray-400",children:[n[0].count," games played"]}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:s>0?`${(n[0].count/s*100).toFixed(1)}% preference`:""})]})]})]})]})},lSe=({playerId:e})=>{const[t,n]=j.useState(!0),[r,s]=j.useState([]),[a,A]=j.useState(1),[o,l]=j.useState(null),u=10,f=(()=>{const p=localStorage.getItem("playerStats_recencyMonths");return p?parseInt(p,10):null})(),c=j.useMemo(()=>{if(f===null)return{startDate:null,endDate:null};const p=new Date,y=new Date;return y.setMonth(y.getMonth()-f),{startDate:y,endDate:p}},[f]);j.useEffect(()=>{(async()=>{try{n(!0),l(null);let b=(await ye.getPlayerStats(e)).matchesPlayed;if(c.startDate&&c.endDate){const B=await ye.getAllMatches(),_=new Set(B.filter(N=>{const w=new Date(N.date);return w>=c.startDate&&w<=c.endDate}).map(N=>N.id));b=b.filter(N=>_.has(N.matchId))}const C=[];for(const B of b)try{const[_,N]=await Promise.all([ye.getMatch(B.matchId),ye.getMatchPlayers(B.matchId)]);if(_&&N.length>0){const w=N.find(H=>H.playerId===e);if(!w)continue;const E=N.filter(H=>H.playerId!==e&&H.team===w.team),U=N.filter(H=>H.team!==w.team),I=w.team===_.winningTeam;C.push({match:_,playerData:w,teammates:E,opponents:U,won:I})}}catch(_){console.warn(`Failed to load match ${B.matchId}:`,_)}C.sort((B,_)=>new Date(_.match.date).getTime()-new Date(B.match.date).getTime()),s(C)}catch(y){console.error("Error loading match history:",y),l("Failed to load match history")}finally{n(!1)}})()},[e,c.startDate,c.endDate]);const d=p=>{if(!p)return i.jsx(ke,{text:"Unknown role",position:"top",maxWidth:"max-w-sm",children:i.jsx(qd,{size:16,className:"text-gray-400"})});const y=HE(p);let b;switch(p.toLowerCase()){case"guardian":case"durable":b=i.jsx(At,{size:16,className:"text-blue-400"});break;case"slayer":case"tactician":b=i.jsx(vn,{size:16,className:"text-red-400"});break;case"support":b=i.jsx(st,{size:16,className:"text-green-400"});break;case"sorcerer":b=i.jsx(yi,{size:16,className:"text-purple-400"});break;default:b=i.jsx(qd,{size:16,className:"text-gray-400"});break}return i.jsx(ke,{text:y,position:"top",maxWidth:"max-w-sm",children:b})},h=Math.ceil(r.length/u),m=(a-1)*u,x=m+u,v=r.slice(m,x),g=p=>{A(Math.max(1,Math.min(p,h)))};return t?i.jsx("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-6 bg-gray-600 rounded w-1/3 mb-4"}),i.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((p,y)=>i.jsx("div",{className:"h-16 bg-gray-600 rounded"},y))})]})}):o||r.length===0?i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[i.jsx(lr,{size:20,className:"mr-2 text-blue-400"}),"Match History"]}),i.jsxs("div",{className:"text-center py-8",children:[i.jsx(lr,{size:48,className:"mx-auto text-gray-500 mb-4"}),i.jsx("p",{className:"text-gray-400 mb-2",children:o?"Error Loading History":"No Match History Available"}),i.jsx("p",{className:"text-sm text-gray-500",children:o||"This player hasn't recorded any matches yet."})]})]}):i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[i.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[i.jsx(lr,{size:20,className:"mr-2 text-blue-400"}),"Match History"]}),h>1&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>g(a-1),disabled:a===1,className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(bn,{size:16})}),i.jsxs("span",{className:"text-sm text-gray-400 px-3",children:["Page ",a," of ",h]}),i.jsx("button",{onClick:()=>g(a+1),disabled:a===h,className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(Vd,{size:16})})]})]}),f!==null&&c.startDate&&c.endDate&&i.jsxs("div",{className:"mb-4 p-2 bg-blue-900/30 border border-blue-700/50 rounded text-sm flex items-center",children:[i.jsx(lr,{size:14,className:"mr-2 text-blue-400"}),i.jsxs("span",{className:"text-blue-200",children:["Showing matches from last ",f," month",f!==1?"s":""]})]}),i.jsx("div",{className:"space-y-4",children:v.map(p=>{var y,b;return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsxs("div",{className:"block lg:hidden",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${p.won?"bg-green-500":"bg-red-500"}`}),i.jsx("span",{className:`font-semibold ${p.won?"text-green-400":"text-red-400"}`,children:p.won?"Victory":"Defeat"})]}),i.jsx("div",{className:"text-right text-sm text-gray-400",children:i.jsx("div",{children:new Date(p.match.date).toLocaleDateString()})})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center",children:[d((y=p.playerData.heroRoles)==null?void 0:y[0]),i.jsx("span",{className:"ml-2 font-medium text-white",children:p.playerData.heroName||"Unknown Hero"})]}),i.jsxs("div",{className:"text-sm text-gray-400",children:["Team ",p.playerData.team]})]}),(p.playerData.kills!==void 0||p.playerData.deaths!==void 0||p.playerData.assists!==void 0)&&i.jsxs("div",{className:"text-sm text-gray-300",children:["KDA: ",p.playerData.kills??0,"/",p.playerData.deaths??0,"/",p.playerData.assists??0,p.playerData.level&&`  Level ${p.playerData.level}`,p.playerData.goldEarned&&`  ${p.playerData.goldEarned.toLocaleString()} gold`]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-green-400 mb-1",children:"Teammates"}),i.jsx("div",{className:"space-y-1",children:p.teammates.map((C,B)=>{var _;return i.jsxs("div",{className:"flex items-center",children:[d((_=C.heroRoles)==null?void 0:_[0]),i.jsxs("div",{className:"ml-1 text-gray-300 truncate",children:[i.jsx("div",{className:"font-medium",children:C.playerId}),C.heroName&&i.jsx("div",{className:"text-xs text-gray-500",children:C.heroName})]})]},B)})})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-red-400 mb-1",children:"Opponents"}),i.jsx("div",{className:"space-y-1",children:p.opponents.map((C,B)=>{var _;return i.jsxs("div",{className:"flex items-center",children:[d((_=C.heroRoles)==null?void 0:_[0]),i.jsxs("div",{className:"ml-1 text-gray-300 truncate",children:[i.jsx("div",{className:"font-medium",children:C.playerId}),C.heroName&&i.jsx("div",{className:"text-xs text-gray-500",children:C.heroName})]})]},B)})})]})]})]}),i.jsx("div",{className:"hidden lg:block",children:i.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[i.jsx("div",{className:"col-span-1",children:i.jsx("div",{className:`w-4 h-4 rounded-full ${p.won?"bg-green-500":"bg-red-500"}`})}),i.jsx("div",{className:"col-span-2 text-sm text-gray-400",children:i.jsx("div",{children:new Date(p.match.date).toLocaleDateString()})}),i.jsxs("div",{className:"col-span-3",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[d((b=p.playerData.heroRoles)==null?void 0:b[0]),i.jsx("span",{className:"ml-2 font-medium text-white",children:p.playerData.heroName||"Unknown Hero"})]}),(p.playerData.kills!==void 0||p.playerData.deaths!==void 0||p.playerData.assists!==void 0)&&i.jsxs("div",{className:"text-sm text-gray-400",children:[p.playerData.kills??0,"/",p.playerData.deaths??0,"/",p.playerData.assists??0,p.playerData.level&&`  Lv.${p.playerData.level}`]})]}),i.jsxs("div",{className:"col-span-3",children:[i.jsx("div",{className:"text-xs text-green-400 mb-1",children:"Teammates"}),i.jsx("div",{className:"space-y-1",children:p.teammates.map((C,B)=>{var _;return i.jsxs("div",{className:"flex items-center text-xs",children:[d((_=C.heroRoles)==null?void 0:_[0]),i.jsxs("div",{className:"ml-1 text-gray-300 truncate",children:[i.jsx("div",{children:C.playerId}),C.heroName&&i.jsx("div",{className:"text-xs text-gray-500",children:C.heroName})]})]},B)})})]}),i.jsxs("div",{className:"col-span-3",children:[i.jsx("div",{className:"text-xs text-red-400 mb-1",children:"Opponents"}),i.jsx("div",{className:"space-y-1",children:p.opponents.map((C,B)=>{var _;return i.jsxs("div",{className:"flex items-center text-xs",children:[d((_=C.heroRoles)==null?void 0:_[0]),i.jsxs("div",{className:"ml-1 text-gray-300 truncate",children:[i.jsx("div",{children:C.playerId}),C.heroName&&i.jsx("div",{className:"text-xs text-gray-500",children:C.heroName})]})]},B)})})]})]})})]},p.match.id)})}),h>1&&i.jsxs("div",{className:"mt-6 flex justify-center items-center gap-2",children:[i.jsx("button",{onClick:()=>g(1),disabled:a===1,className:"px-3 py-2 text-sm rounded-lg bg-gray-800 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"First"}),i.jsx("button",{onClick:()=>g(a-1),disabled:a===1,className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(bn,{size:16})}),i.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,h)},(p,y)=>{const b=Math.max(1,Math.min(h-4,a-2))+y;return b<=h?i.jsx("button",{onClick:()=>g(b),className:`px-3 py-2 text-sm rounded-lg ${b===a?"bg-blue-600 text-white":"bg-gray-800 hover:bg-gray-600"}`,children:b},b):null})}),i.jsx("button",{onClick:()=>g(a+1),disabled:a===h,className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(Vd,{size:16})}),i.jsx("button",{onClick:()=>g(h),disabled:a===h,className:"px-3 py-2 text-sm rounded-lg bg-gray-800 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Last"})]}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-600",children:i.jsxs("div",{className:"text-center text-sm text-gray-400",children:["Showing ",m+1,"-",Math.min(x,r.length)," of ",r.length," matches",i.jsx("span",{className:"mx-2",children:""}),r.filter(p=>p.won).length," wins, ",r.filter(p=>!p.won).length," losses",i.jsx("span",{className:"mx-2",children:""}),r.length>0?(r.filter(p=>p.won).length/r.length*100).toFixed(1):"0.0","% win rate"]})})]})},cSe=({playerId:e,onBack:t})=>{const{playSound:n}=et(),[r,s]=j.useState(null),[a,A]=j.useState(!0),[o,l]=j.useState(null),u=(()=>{const g=localStorage.getItem("playerStats_recencyMonths");return g?parseInt(g,10):null})(),f=j.useMemo(()=>{if(u===null)return{startDate:null,endDate:null};const g=new Date,p=new Date;return p.setMonth(p.getMonth()-u),{startDate:p,endDate:g}},[u]);j.useEffect(()=>{e&&(async()=>{try{A(!0),l(null);const[p,y,b,C]=await Promise.all([ye.getPlayer(e),ye.getPlayerStats(e),ye.getCurrentTrueSkillRatings(),ye.getAllPlayers()]);if(!p)throw new Error("Player not found");const _=C.map(ae=>({...ae,rating:b[ae.id]||0})).filter(ae=>ae.totalGames>0).sort((ae,ie)=>ie.rating-ae.rating).findIndex(ae=>ae.id===e)+1;let N=await ye.getAllMatches(),w=null;f.startDate&&f.endDate&&(w=new Set(N.filter(ae=>{const ie=new Date(ae.date);return ie>=f.startDate&&ie<=f.endDate}).map(ae=>ae.id)));let E=y.matchesPlayed;w&&(E=E.filter(ae=>w.has(ae.matchId)));const U=E.reduce((ae,ie)=>ae+(ie.kills??0),0),I=E.reduce((ae,ie)=>ae+(ie.deaths??0),0),H=E.reduce((ae,ie)=>ae+(ie.assists??0),0),$=E.reduce((ae,ie)=>ae+(ie.goldEarned??0),0),K=E.reduce((ae,ie)=>ae+(ie.minionKills??0),0),M=E.reduce((ae,ie)=>ae+(ie.level??0),0),D=E.filter(ae=>ae.kills!==void 0||ae.deaths!==void 0||ae.assists!==void 0).length,k=E.filter(ae=>ae.goldEarned!==void 0).length,R=E.filter(ae=>ae.minionKills!==void 0).length,S=E.filter(ae=>ae.level!==void 0).length,T=I===0?U:U/I,W=D>0?U/D:0,V=D>0?I/D:0,Y=D>0?H/D:0,se=k>0?Math.round($/k):0,ee=R>0?K/R:0,q=S>0?M/S:0,Z=U>0||I>0||H>0||$>0,Q=new Map,O=new Map;for(const ae of E){if(ae.heroId){const ie=Q.get(ae.heroId);ie?ie.count++:Q.set(ae.heroId,{heroId:ae.heroId,heroName:ae.heroName||`Hero ${ae.heroId}`,count:1})}if(ae.heroRoles)for(const ie of ae.heroRoles)O.set(ie,(O.get(ie)||0)+1)}const z=Array.from(Q.values()).sort((ae,ie)=>ie.count-ae.count).slice(0,5),L=Array.from(O.entries()).map(([ae,ie])=>({role:ae,count:ie})).sort((ae,ie)=>ie.count-ae.count),ue=Array.from(Q.values()).sort((ae,ie)=>ie.count-ae.count),xe={...y,favoriteHeroes:z,favoriteRoles:L,allHeroesPlayed:ue,allRolesPlayed:L};s({player:p,stats:xe,matches:E,currentRating:b[e]||0,rank:_,combatStats:{kills:U,deaths:I,assists:H,kdRatio:parseFloat(T.toFixed(2)),averageKills:W,averageDeaths:V,averageAssists:Y,gamesWithCombatData:D,gamesWithGoldData:k,gamesWithMinionData:R,averageGold:se,averageMinionKills:ee,averageLevel:q,hasCombatStats:Z}})}catch(p){l(p instanceof Error?p.message:"Failed to load player details")}finally{A(!1)}})()},[e,f.startDate,f.endDate]);const c=()=>{n("buttonClick"),t()};if(a)return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsxs("button",{onClick:c,className:"flex items-center text-gray-300 hover:text-white mr-4",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Player Stats"})]}),i.jsx("h2",{className:"text-2xl font-bold",children:"Player Details"})]}),i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(QT,{size:24,className:"animate-spin text-blue-500 mr-3"}),i.jsx("span",{className:"text-gray-300",children:"Loading player details..."})]})})]});if(o||!r)return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsxs("button",{onClick:c,className:"flex items-center text-gray-300 hover:text-white mr-4",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Player Stats"})]}),i.jsx("h2",{className:"text-2xl font-bold",children:"Player Details"})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx(VA,{size:48,className:"text-red-500 mb-4"}),i.jsx("p",{className:"text-xl text-red-400 mb-2",children:"Error Loading Player"}),i.jsx("p",{className:"text-gray-400",children:o||"Player not found"}),i.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg",children:"Go Back"})]})]});const{player:d,stats:h,currentRating:m,rank:x,combatStats:v}=r;return d?i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsxs("button",{onClick:c,className:"flex items-center text-gray-300 hover:text-white mr-4",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Player Stats"})]}),i.jsx("h2",{className:"text-2xl font-bold",children:"Detailed Player Statistics"})]}),u!==null&&f.startDate&&f.endDate&&i.jsxs("div",{className:"mb-6 p-3 bg-blue-900/30 border border-blue-700/50 rounded-lg flex items-center",children:[i.jsx(lr,{size:18,className:"mr-2 text-blue-400 flex-shrink-0"}),i.jsxs("span",{className:"text-sm text-blue-200",children:["Showing stats from"," ",i.jsx("span",{className:"font-medium",children:f.startDate.toLocaleDateString()})," ","to"," ",i.jsx("span",{className:"font-medium",children:f.endDate.toLocaleDateString()})," ","(",u," month",u!==1?"s":"",")"]})]}),i.jsx("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-2xl font-bold text-gray-300",children:d.name.charAt(0).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:d.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1 text-blue-400",children:[i.jsx(Qs,{size:20}),i.jsxs("span",{className:"text-lg font-semibold",children:["Rank #",x]})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-400",children:m}),i.jsx("div",{className:"text-sm text-gray-400",children:"TrueSkill Rating"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[d.totalGames," games  Last played ",new Date(d.lastPlayed).toLocaleDateString()]})]})]})}),i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 mb-6",children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"Quick Overview"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-400",children:d.wins}),i.jsx("div",{className:"text-sm text-gray-400",children:"Wins"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-400",children:d.losses}),i.jsx("div",{className:"text-sm text-gray-400",children:"Losses"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[d.totalGames>0?(d.wins/d.totalGames*100).toFixed(1):"0.0","%"]}),i.jsx("div",{className:"text-sm text-gray-400",children:"Win Rate"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:h.allHeroesPlayed.length}),i.jsx("div",{className:"text-sm text-gray-400",children:"Heroes Played"})]})]})]}),i.jsx(tSe,{kills:v.kills,deaths:v.deaths,assists:v.assists,kdRatio:v.kdRatio,averageKills:v.averageKills,averageDeaths:v.averageDeaths,averageAssists:v.averageAssists,gamesWithCombatData:v.gamesWithCombatData,gamesWithGoldData:v.gamesWithGoldData,gamesWithMinionData:v.gamesWithMinionData,averageGold:v.averageGold,averageMinionKills:v.averageMinionKills,averageLevel:v.averageLevel,totalGames:d.totalGames,hasCombatStats:v.hasCombatStats}),i.jsx(aSe,{playerId:d.id,playerName:d.name}),i.jsx(iSe,{playerId:d.id,playerName:d.name}),i.jsx(oSe,{favoriteHeroes:h.favoriteHeroes,allHeroesPlayed:h.allHeroesPlayed,favoriteRoles:h.favoriteRoles,allRolesPlayed:h.allRolesPlayed,totalGames:d.totalGames,matches:r.matches}),i.jsx(lSe,{playerId:d.id,playerName:d.name})]}):i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsxs("button",{onClick:c,className:"flex items-center text-gray-300 hover:text-white mr-4",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Player Stats"})]}),i.jsx("h2",{className:"text-2xl font-bold",children:"Player Details"})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx(VA,{size:48,className:"text-red-500 mb-4"}),i.jsx("p",{className:"text-xl text-red-400 mb-2",children:"Player Not Found"}),i.jsx("p",{className:"text-gray-400",children:"Unable to load player data"}),i.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg",children:"Go Back"})]})]})},uSe=({selectedHeroId:e,onHeroChange:t,disabled:n=!1,className:r=""})=>{const[s,a]=j.useState(!1),[A,o]=j.useState(""),l=j.useRef(null),u=j.useRef(null),f=xi.find(g=>g.id===e);j.useEffect(()=>{const g=p=>{l.current&&!l.current.contains(p.target)&&(a(!1),o(""))};return s&&(document.addEventListener("mousedown",g),setTimeout(()=>{var p;(p=u.current)==null||p.focus()},0)),()=>{document.removeEventListener("mousedown",g)}},[s]);const c=xi.filter(g=>{var p;return g.name.toLowerCase().includes(A.toLowerCase())||g.roles.some(y=>y.toLowerCase().includes(A.toLowerCase()))||((p=g.additionalRoles)==null?void 0:p.some(y=>y.toLowerCase().includes(A.toLowerCase())))}),d=new Map;c.forEach(g=>{const p=g.roles[0]||"Unknown";d.has(p)||d.set(p,[]),d.get(p).push(g)});const h=Array.from(d.entries()).sort(([g],[p])=>{const y=["Durable","Tactician","Pusher","Disabler","Farming"],b=y.indexOf(g),C=y.indexOf(p);return b===-1&&C===-1?g.localeCompare(p):b===-1?1:C===-1?-1:b-C}),m=g=>{t(g.id,g),a(!1),o("")},x=()=>{n||(a(!s),o(""))},v=g=>Array.from({length:5},(p,y)=>i.jsx("span",{className:`text-sm ${y<g?"text-yellow-400":"text-gray-600"}`,children:""},y));return i.jsxs("div",{ref:l,className:`relative ${r}`,children:[i.jsxs("button",{type:"button",onClick:x,disabled:n,className:`w-full px-3 py-2 text-left bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center justify-between ${n?"opacity-50 cursor-not-allowed":"hover:bg-gray-600"}`,children:[i.jsx("div",{className:"flex items-center",children:f?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-8 h-8 bg-gray-800 rounded mr-3 flex items-center justify-center text-xs",children:""}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:f.name}),i.jsx("div",{className:"text-xs text-gray-400",children:f.roles.join(", ")})]})]}):i.jsx("span",{className:"text-gray-400",children:"Select a hero..."})}),i.jsx(gr,{size:20,className:`transition-transform ${s?"rotate-180":""}`})]}),s&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-lg z-50 max-h-96 overflow-hidden",children:[i.jsx("div",{className:"p-3 border-b border-gray-700",children:i.jsxs("div",{className:"relative",children:[i.jsx(yc,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{ref:u,type:"text",value:A,onChange:g=>o(g.target.value),placeholder:"Search heroes...",className:"w-full pl-10 pr-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),i.jsx("div",{className:"max-h-80 overflow-y-auto",children:h.length>0?h.map(([g,p])=>i.jsxs("div",{children:[i.jsx("div",{className:"px-3 py-2 bg-gray-700/50 border-b border-gray-700 text-sm font-medium text-gray-300",children:g.toUpperCase()}),p.sort((y,b)=>y.name.localeCompare(b.name)).map(y=>i.jsxs("button",{type:"button",onClick:()=>m(y),className:`w-full px-3 py-3 text-left hover:bg-gray-700 flex items-center justify-between border-b border-gray-800 last:border-b-0 ${e===y.id?"bg-blue-900/30 ring-1 ring-blue-500":""}`,children:[i.jsxs("div",{className:"flex items-center flex-1",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded mr-3 flex items-center justify-center",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:y.name}),i.jsx("div",{className:"text-xs text-gray-400",children:y.roles.concat(y.additionalRoles||[]).join(", ")}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:y.expansion})]})]}),i.jsx("div",{className:"flex items-center ml-2",children:v(y.complexity)})]},y.id))]},g)):i.jsxs("div",{className:"px-3 py-6 text-center text-gray-400",children:['No heroes found matching "',A,'"']})}),f&&i.jsx("div",{className:"p-3 bg-gray-700/30 border-t border-gray-700",children:i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-gray-400",children:"Current Selection: "}),i.jsx("span",{className:"font-medium",children:f.name}),i.jsxs("span",{className:"text-gray-400",children:[" - ",f.roles.join(", ")]})]})})]})]})},dSe=({isOpen:e,matchId:t,onClose:n,onSaveComplete:r})=>{const{playSound:s}=et(),a=j.useRef(null),[A,o]=j.useState(null),[l,u]=j.useState(null),[f,c]=j.useState([]),[d,h]=j.useState(!1),[m,x]=j.useState(!1),[v,g]=j.useState(null),[p,y]=j.useState({isValid:!0,errors:[],warnings:[]}),[b,C]=j.useState(!1);j.useEffect(()=>{e&&t?N():_()},[e,t]),j.useEffect(()=>{l&&f.length>0&&(w(),E())},[l,f]);const B=S=>{a.current&&!a.current.contains(S.target)&&U()};j.useEffect(()=>{const S=T=>{T.key==="Escape"&&e&&U()};return e&&(document.addEventListener("keydown",S),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",S),document.body.style.overflow=""}},[e]);const _=()=>{o(null),u(null),c([]),h(!1),x(!1),g(null),y({isValid:!0,errors:[],warnings:[]}),C(!1)},N=async()=>{h(!0),g(null);try{const S=await ye.getEditableMatch(t);if(!S)throw new Error("Match not found");const T=await ye.canEditMatch(t);if(!T.canEdit)throw new Error(T.reason||"Cannot edit this match");o(S),u({...S.match}),c(S.players.map(W=>({...W})))}catch(S){console.error("Error loading match data:",S),g(S instanceof Error?S.message:"Failed to load match data")}finally{h(!1)}},w=()=>{if(!l||!f)return;const S=ye.validateMatchEdit(l,f);y(S)},E=()=>{if(!A||!l){C(!1);return}const S=JSON.stringify(A.match)!==JSON.stringify(l),T=JSON.stringify(A.players)!==JSON.stringify(f);C(S||T)},U=()=>{b&&!window.confirm("You have unsaved changes. Are you sure you want to close without saving?")||(s("buttonClick"),n())},I=async()=>{if(!(!l||!f||!p.isValid)){x(!0),g(null);try{const S={};A&&Object.keys(l).forEach(W=>{const V=W;A.match[V]!==l[V]&&(S[V]=l[V])});const T=f.filter(W=>{const V=A==null?void 0:A.players.find(Y=>Y.id===W.id);return V&&JSON.stringify(V)!==JSON.stringify(W)}).map(W=>({id:W.id,updates:{heroId:W.heroId,heroName:W.heroName,heroRoles:W.heroRoles,kills:W.kills,deaths:W.deaths,assists:W.assists,goldEarned:W.goldEarned,minionKills:W.minionKills,level:W.level,team:W.team}}));if(Object.keys(S).length===0&&T.length===0){s("buttonClick"),r();return}await ye.editMatch(t,S,T),s("phaseChange"),r()}catch(S){console.error("Error saving match:",S),g(S instanceof Error?S.message:"Failed to save match")}finally{x(!1)}}},H=()=>{A&&window.confirm("Reset all changes to original values?")&&(s("buttonClick"),u({...A.match}),c(A.players.map(S=>({...S}))))},$=(S,T)=>{l&&u({...l,[S]:T})},K=(S,T,W)=>{c(V=>V.map(Y=>Y.id===S?{...Y,[T]:W}:Y))},M=(S,T)=>{const W=xi.find(V=>V.id===T);W&&c(V=>V.map(Y=>Y.id===S?{...Y,heroId:W.id,heroName:W.name,heroRoles:[...W.roles,...W.additionalRoles||[]]}:Y))},D=S=>new Date(S).toISOString().split("T")[0],k=S=>{const T=new Date(S);return`${T.getHours().toString().padStart(2,"0")}:${T.getMinutes().toString().padStart(2,"0")}`},R=(S,T)=>{const[W,V]=T.split(":"),Y=new Date(S);Y.setHours(parseInt(W),parseInt(V)),$("date",Y)};return e?i.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:B,children:i.jsxs("div",{ref:a,className:"max-w-6xl w-full max-h-[90vh] bg-gray-800 rounded-lg border border-gray-600 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[" Edit Match",l&&i.jsx("span",{className:"ml-3 text-base text-gray-400",children:new Date(l.date).toLocaleDateString()})]}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Changes will recalculate all player ratings from this match forward"})]}),i.jsx("button",{onClick:U,className:"text-gray-400 hover:text-white p-2",children:i.jsx(zs,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)]",children:d?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(aa,{size:24,className:"animate-spin mr-3"}),i.jsx("span",{className:"text-gray-400",children:"Loading match data..."})]})}):v?i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"bg-red-900/30 border border-red-600 p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Ns,{size:20,className:"mr-3 text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-red-300",children:"Error Loading Match"}),i.jsx("p",{className:"text-red-200 mt-1",children:v})]})]})})}):l&&f?i.jsxs("div",{className:"p-6",children:[(p.errors.length>0||p.warnings.length>0)&&i.jsxs("div",{className:"mb-6",children:[p.errors.length>0&&i.jsxs("div",{className:"bg-red-900/30 border border-red-600 p-4 rounded-lg mb-4",children:[i.jsxs("h3",{className:"font-semibold text-red-300 mb-2 flex items-center",children:[i.jsx(Ns,{size:18,className:"mr-2"}),"Validation Errors"]}),i.jsx("ul",{className:"text-red-200 text-sm space-y-1",children:p.errors.map((S,T)=>i.jsxs("li",{children:[" ",S.message]},T))})]}),p.warnings.length>0&&i.jsxs("div",{className:"bg-amber-900/30 border border-amber-600 p-4 rounded-lg mb-4",children:[i.jsxs("h3",{className:"font-semibold text-amber-300 mb-2 flex items-center",children:[i.jsx(Ns,{size:18,className:"mr-2"}),"Warnings"]}),i.jsx("ul",{className:"text-amber-200 text-sm space-y-1",children:p.warnings.map((S,T)=>i.jsxs("li",{children:[" ",S.message]},T))})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-200",children:"Match Details"}),i.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date"}),i.jsx("input",{type:"date",value:D(l.date),onChange:S=>R(S.target.value,k(l.date)),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Time"}),i.jsx("input",{type:"time",value:k(l.date),onChange:S=>R(D(l.date),S.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Winner"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"winner",checked:l.winningTeam===G.Titans,onChange:()=>$("winningTeam",G.Titans),className:"mr-2"}),i.jsx("span",{className:"text-blue-400",children:"Titans"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"winner",checked:l.winningTeam===G.Atlanteans,onChange:()=>$("winningTeam",G.Atlanteans),className:"mr-2"}),i.jsx("span",{className:"text-red-400",children:"Atlanteans"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Length"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"gameLength",checked:l.gameLength===Me.Quick,onChange:()=>$("gameLength",Me.Quick),className:"mr-2"}),i.jsx("span",{children:"Quick"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"gameLength",checked:l.gameLength===Me.Long,onChange:()=>$("gameLength",Me.Long),className:"mr-2"}),i.jsx("span",{children:"Long"})]})]})]})]}),i.jsx("div",{className:"mt-4",children:i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:l.doubleLanes,onChange:S=>$("doubleLanes",S.target.checked),className:"mr-2"}),i.jsx("span",{className:"text-gray-300",children:"Double Lanes"})]})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-200",children:"Teams"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 text-blue-400 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-blue-500"}),"Titans (",f.filter(S=>S.team===G.Titans).length," players)"]}),i.jsx("div",{className:"space-y-4",children:f.filter(S=>S.team===G.Titans).map(S=>i.jsx(B5,{player:S,onHeroChange:T=>M(S.id,T),onFieldChange:(T,W)=>K(S.id,T,W),validation:p},S.id))})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 text-red-400 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-red-500"}),"Atlanteans (",f.filter(S=>S.team===G.Atlanteans).length," players)"]}),i.jsx("div",{className:"space-y-4",children:f.filter(S=>S.team===G.Atlanteans).map(S=>i.jsx(B5,{player:S,onHeroChange:T=>M(S.id,T),onFieldChange:(T,W)=>K(S.id,T,W),validation:p},S.id))})]})]})]})]}):null}),i.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-700",children:[i.jsx("div",{className:"flex items-center space-x-4",children:b&&i.jsxs("div",{className:"flex items-center text-amber-400 text-sm",children:[i.jsx(Ns,{size:16,className:"mr-1"}),i.jsx("span",{children:"Unsaved changes"})]})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ke,{text:"Reset all changes to original values",children:i.jsxs("button",{onClick:H,disabled:m||!b,className:`px-4 py-2 rounded-lg flex items-center ${b?"bg-gray-600 hover:bg-gray-500":"bg-gray-700 cursor-not-allowed opacity-50"}`,children:[i.jsx(_l,{size:18,className:"mr-2"}),"Reset"]})}),i.jsx("button",{onClick:U,disabled:m,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg",children:"Cancel"}),i.jsx(ke,{text:p.isValid?b?"Save all changes and recalculate ratings":"No changes to save":"Fix validation errors before saving",children:i.jsx("button",{onClick:I,disabled:m||!p.isValid||!b,className:`px-4 py-2 rounded-lg flex items-center ${p.isValid&&b?"bg-blue-600 hover:bg-blue-500":"bg-gray-700 cursor-not-allowed opacity-50"}`,children:m?i.jsxs(i.Fragment,{children:[i.jsx(aa,{size:18,className:"mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx($4,{size:18,className:"mr-2"}),"Save Changes"]})})})]})]})]})}):null},B5=({player:e,onHeroChange:t,onFieldChange:n,validation:r})=>{var u;const[s,a]=j.useState(!1),A=f=>r.errors.find(c=>c.field===f&&c.playerId===e.playerId),o=f=>r.warnings.find(c=>c.field===f&&c.playerId===e.playerId),l=(f,c,d)=>{var v;const h=A(f),m=o(f),x=h||m;return i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:c}),i.jsx("input",{type:"number",min:"0",value:d||"",onChange:g=>n(f,g.target.value?parseInt(g.target.value):void 0),className:`w-full px-2 py-1 text-sm bg-gray-800 border rounded focus:outline-none focus:ring-1 ${h?"border-red-500 focus:ring-red-500":m?"border-amber-500 focus:ring-amber-500":"border-gray-600 focus:ring-blue-500"}`}),x&&i.jsx("div",{className:`text-xs mt-1 ${h?"text-red-400":"text-amber-400"}`,children:(v=h||m)==null?void 0:v.message})]})};return i.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg border border-gray-600",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3 bg-gray-800 p-2 rounded-full",children:""}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium",children:e.playerName}),i.jsxs("p",{className:"text-xs text-gray-400",children:["Player ID: ",e.playerId]})]})]}),i.jsx("button",{onClick:()=>a(!s),className:"px-3 py-1 text-xs bg-gray-600 hover:bg-gray-500 rounded",children:s?"Hide Stats":"Show Stats"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hero"}),i.jsx(uSe,{selectedHeroId:e.heroId,onHeroChange:t,className:"w-full"}),A("hero")&&i.jsx("div",{className:"text-xs text-red-400 mt-1",children:(u=A("hero"))==null?void 0:u.message})]}),s&&i.jsxs("div",{className:"bg-gray-800/50 p-3 rounded",children:[i.jsx("h6",{className:"text-sm font-medium text-gray-300 mb-3",children:"Statistics (Optional)"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l("kills","Kills",e.kills),l("deaths","Deaths",e.deaths),l("assists","Assists",e.assists),l("goldEarned","Gold",e.goldEarned),l("minionKills","Minions",e.minionKills),l("level","Level",e.level)]})]})]})},fSe=({onBack:e})=>{const{playSound:t}=et(),[n,r]=j.useState([]),[s,a]=j.useState(!0),[A,o]=j.useState(""),[l,u]=j.useState("all"),[f,c]=j.useState("all"),[d,h]=j.useState("desc"),[m,x]=j.useState(!1),[v,g]=j.useState(null),[p,y]=j.useState(null),[b,C]=j.useState(!1),B=async()=>{a(!0);try{const S=await ye.getAllMatches();S.sort((W,V)=>{const Y=new Date(W.date).getTime();return new Date(V.date).getTime()-Y});const T=await Promise.all(S.map(async W=>{const V=await ye.getMatchPlayers(W.id),Y=await Promise.all(V.map(async se=>{const ee=await ye.getPlayer(se.playerId);return{...se,playerName:(ee==null?void 0:ee.name)||"Unknown Player"}}));return{...W,players:Y,expanded:!1}}));r(T)}catch(S){console.error("Error loading match history:",S)}finally{a(!1)}};j.useEffect(()=>{B()},[]);const _=()=>{t("buttonClick"),e()},N=S=>{t("buttonClick"),r(n.map(T=>T.id===S?{...T,expanded:!T.expanded}:T))},w=async S=>{if(v!==S){t("buttonClick"),g(S);return}try{t("buttonClick"),await ye.deleteMatch(S),r(n.filter(T=>T.id!==S)),g(null)}catch(T){console.error("Error deleting match:",T)}},E=S=>{t("buttonClick"),y(S),C(!0)},U=()=>{t("buttonClick"),C(!1),y(null)},I=async()=>{t("phaseChange"),C(!1),y(null);try{await B()}catch(S){console.error("Error reloading matches after edit:",S)}},H=()=>{t("buttonClick"),h(d==="asc"?"desc":"asc")},$=()=>{t("buttonClick"),x(!m)},K=()=>{t("buttonClick"),o(""),u("all"),c("all"),x(!1)},M=S=>new Date(S).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=S=>S.players.some(T=>T.kills&&T.kills>0||T.deaths&&T.deaths>0||T.assists&&T.assists>0),k=S=>S.players.some(T=>T.goldEarned&&T.goldEarned>0),R=n.filter(S=>{if(l!=="all"&&S.winningTeam!==l||f!=="all"&&S.gameLength!==f)return!1;if(A){const T=A.toLowerCase();return S.players.some(W=>W.playerName.toLowerCase().includes(T)||W.heroName.toLowerCase().includes(T))}return!0}).sort((S,T)=>{const W=new Date(S.date).getTime(),V=new Date(T.date).getTime();return d==="asc"?W-V:V-W});return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("button",{onClick:_,className:"flex items-center text-gray-300 hover:text-white",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Menu"})]}),i.jsx("h2",{className:"text-2xl font-bold",children:"Match History"})]}),i.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-stretch",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("input",{type:"text",value:A,onChange:S=>o(S.target.value),placeholder:"Search players or heroes...",className:"w-full px-4 py-2 pl-10 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx(yc,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),i.jsxs("button",{onClick:H,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg flex items-center",children:[i.jsx(lr,{size:18,className:"mr-2"}),i.jsxs("span",{children:["Date ",d==="asc"?"(Oldest)":"(Newest)"]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:$,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg flex items-center",children:[i.jsx(vc,{size:18,className:"mr-2"}),i.jsx("span",{children:"Filters"}),(l!=="all"||f!=="all")&&i.jsx("span",{className:"ml-2 bg-blue-600 text-xs rounded-full w-5 h-5 flex items-center justify-center",children:(l!=="all"?1:0)+(f!=="all"?1:0)}),m?i.jsx(ns,{size:16,className:"ml-2"}):i.jsx(gr,{size:16,className:"ml-2"})]}),m&&i.jsxs("div",{className:"absolute right-0 top-full mt-1 z-10 bg-gray-800 border border-gray-600 rounded-lg shadow-lg p-4 w-64",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Filter Options"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Winning Team"}),i.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg",children:[i.jsx("option",{value:"all",children:"All Teams"}),i.jsx("option",{value:G.Titans,children:"Titans"}),i.jsx("option",{value:G.Atlanteans,children:"Atlanteans"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Game Length"}),i.jsxs("select",{value:f,onChange:S=>c(S.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg",children:[i.jsx("option",{value:"all",children:"All Lengths"}),i.jsx("option",{value:Me.Quick,children:"Quick"}),i.jsx("option",{value:Me.Long,children:"Long"})]})]}),i.jsx("button",{onClick:K,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg",children:"Reset Filters"})]})]})]})}),s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):i.jsx("div",{children:R.length>0?i.jsx("div",{className:"space-y-4",children:R.map(S=>i.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden shadow-md",children:[i.jsxs("div",{className:`px-5 py-4 ${S.winningTeam===G.Titans?"bg-blue-900/50":"bg-red-900/50"} flex justify-between items-center cursor-pointer`,onClick:()=>N(S.id),children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Yl,{size:18,className:"mr-2"}),i.jsx("span",{className:"font-bold",children:S.winningTeam===G.Titans?"Titans Victory":"Atlanteans Victory"})]}),i.jsx("div",{className:"text-sm text-gray-300 mt-1",children:M(S.date)})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"bg-gray-800 px-2 py-1 rounded",children:S.gameLength===Me.Quick?"Quick":"Long"}),S.doubleLanes&&i.jsx("span",{className:"ml-2 bg-gray-800 px-2 py-1 rounded",children:"Double Lane"})]}),i.jsx("div",{children:S.expanded?i.jsx(ns,{size:20}):i.jsx(gr,{size:20})})]})]}),S.expanded&&i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:`p-3 rounded-lg ${S.winningTeam===G.Titans?"bg-blue-900/30 ring-2 ring-blue-500":"bg-blue-900/20"}`,children:[i.jsxs("h4",{className:"font-bold mb-2 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-blue-500"}),"Titans Team",S.winningTeam===G.Titans&&i.jsx("span",{className:"ml-2 text-xs bg-blue-600 px-2 py-0.5 rounded-full",children:"Winner"})]}),i.jsx("div",{className:"space-y-2",children:S.players.filter(T=>T.team===G.Titans).map(T=>i.jsxs("div",{className:"flex justify-between items-center bg-blue-900/30 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-2 bg-gray-800 p-1 rounded-full",children:i.jsx(At,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:T.playerName}),i.jsxs("div",{className:"text-xs text-gray-300",children:[T.heroName,"  ",T.heroRoles.join(", ")]})]})]}),(D(S)||k(S))&&i.jsxs("div",{className:"flex items-center space-x-2 text-xs bg-gray-800 px-2 py-1 rounded",children:[D(S)&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsxs("span",{className:"flex items-center",title:"Kills",children:[i.jsx(vn,{size:12,className:"text-blue-400 mr-1"}),T.kills||0]}),i.jsx("span",{children:"/"}),i.jsxs("span",{className:"flex items-center",title:"Deaths",children:[i.jsx(ca,{size:12,className:"text-red-400 mr-1"}),T.deaths||0]}),i.jsx("span",{children:"/"}),i.jsxs("span",{className:"flex items-center",title:"Assists",children:[i.jsx(st,{size:12,className:"text-green-400 mr-1"}),T.assists||0]})]}),k(S)&&i.jsxs("div",{className:"flex items-center ml-2",title:"Gold",children:[i.jsx(Qr,{size:12,className:"text-yellow-400 mr-1"}),T.goldEarned||0]})]})]},T.id))})]}),i.jsxs("div",{className:`p-3 rounded-lg ${S.winningTeam===G.Atlanteans?"bg-red-900/30 ring-2 ring-red-500":"bg-red-900/20"}`,children:[i.jsxs("h4",{className:"font-bold mb-2 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-red-500"}),"Atlanteans Team",S.winningTeam===G.Atlanteans&&i.jsx("span",{className:"ml-2 text-xs bg-red-600 px-2 py-0.5 rounded-full",children:"Winner"})]}),i.jsx("div",{className:"space-y-2",children:S.players.filter(T=>T.team===G.Atlanteans).map(T=>i.jsxs("div",{className:"flex justify-between items-center bg-red-900/30 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-2 bg-gray-800 p-1 rounded-full",children:i.jsx(At,{size:16})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:T.playerName}),i.jsxs("div",{className:"text-xs text-gray-300",children:[T.heroName,"  ",T.heroRoles.join(", ")]})]})]}),(D(S)||k(S))&&i.jsxs("div",{className:"flex items-center space-x-2 text-xs bg-gray-800 px-2 py-1 rounded",children:[D(S)&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsxs("span",{className:"flex items-center",title:"Kills",children:[i.jsx(vn,{size:12,className:"text-blue-400 mr-1"}),T.kills||0]}),i.jsx("span",{children:"/"}),i.jsxs("span",{className:"flex items-center",title:"Deaths",children:[i.jsx(ca,{size:12,className:"text-red-400 mr-1"}),T.deaths||0]}),i.jsx("span",{children:"/"}),i.jsxs("span",{className:"flex items-center",title:"Assists",children:[i.jsx(st,{size:12,className:"text-green-400 mr-1"}),T.assists||0]})]}),k(S)&&i.jsxs("div",{className:"flex items-center ml-2",title:"Gold",children:[i.jsx(Qr,{size:12,className:"text-yellow-400 mr-1"}),T.goldEarned||0]})]})]},T.id))})]})]}),i.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[i.jsx(ke,{text:"Edit this match data",children:i.jsxs("button",{onClick:T=>{T.stopPropagation(),E(S.id)},className:"px-3 py-1 bg-blue-700 hover:bg-blue-600 rounded-lg flex items-center",children:[i.jsx(VT,{size:16,className:"mr-2"}),i.jsx("span",{children:"Edit Match"})]})}),i.jsx(ke,{text:"Delete this match and its data",children:i.jsxs("button",{onClick:T=>{T.stopPropagation(),w(S.id)},className:`px-3 py-1 rounded-lg flex items-center ${v===S.id?"bg-red-500 hover:bg-red-400":"bg-red-700 hover:bg-red-600"}`,children:[i.jsx(pv,{size:16,className:"mr-2"}),i.jsx("span",{children:v===S.id?"Confirm Delete":"Delete Match"})]})})]})]})]},S.id))}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx(lr,{size:48,className:"text-gray-500 mb-4"}),i.jsx("p",{className:"text-xl text-gray-400",children:A||l!=="all"||f!=="all"?"No matches found matching your filters":"No match history available"}),(A||l!=="all"||f!=="all")&&i.jsx("button",{onClick:K,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg",children:"Clear Filters"})]})}),b&&p&&i.jsx(dSe,{isOpen:b,matchId:p,onClose:U,onSaveComplete:I})]})},hSe=({probability:e,team1Name:t,team2Name:n})=>i.jsxs("div",{className:"space-y-6 bg-gray-800 p-8 rounded-lg text-white",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex justify-between items-center mb-2 text-sm",children:i.jsx("span",{className:"text-gray-400",children:"Win Probability Scale"})}),i.jsxs("div",{className:"relative h-8 bg-gray-700 rounded-lg",children:[i.jsxs("div",{className:"absolute inset-0 flex justify-between items-center px-1 pointer-events-none",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"0%"}),i.jsx("span",{className:"text-xs text-gray-400",children:"20%"}),i.jsx("span",{className:"text-xs text-gray-400",children:"40%"}),i.jsx("span",{className:"text-xs text-gray-400",children:"60%"}),i.jsx("span",{className:"text-xs text-gray-400",children:"80%"}),i.jsx("span",{className:"text-xs text-gray-400",children:"100%"})]}),[20,40,60,80].map(r=>i.jsx("div",{className:"absolute top-0 bottom-0 border-l border-gray-600/50",style:{left:`${r}%`}},r))]})]}),i.jsxs("div",{className:"mt-16",children:[i.jsx("div",{className:"flex items-center mb-3",children:i.jsx("span",{className:"text-blue-400 font-medium relative -top-4",children:t})}),i.jsx("div",{className:"relative h-8 bg-gray-700 rounded-lg",children:i.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`${e.team1Probability}%`},children:i.jsxs("div",{className:"relative",children:[i.jsxs("span",{className:"absolute -top-8 left-1/2 transform -translate-x-5 text-sm font-bold text-white whitespace-nowrap",children:[e.team1Probability,"%"]}),i.jsx("div",{className:"w-4 h-4 bg-blue-500 transform rotate-45 -translate-x-1/2"})]})})})]}),i.jsxs("div",{className:"mt-16",children:[i.jsx("div",{className:"flex items-center mb-3",children:i.jsx("span",{className:"text-red-400 font-medium relative -top-4",children:n})}),i.jsx("div",{className:"relative h-8 bg-gray-700 rounded-lg",children:i.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`${e.team2Probability}%`},children:i.jsxs("div",{className:"relative",children:[i.jsxs("span",{className:"absolute -top-8 left-1/2 transform -translate-x-5 text-sm font-bold text-white whitespace-nowrap",children:[e.team2Probability,"%"]}),i.jsx("div",{className:"w-4 h-4 bg-red-500 transform rotate-45 -translate-x-1/2"})]})})})]})]}),mSe=({onBack:e,onUseTeams:t})=>{const{playSound:n}=et(),[r,s]=j.useState([]),[a,A]=j.useState([]),[o,l]=j.useState([]),[u,f]=j.useState([]),[c,d]=j.useState(!0),[h,m]=j.useState(!1),[x,v]=j.useState(!1),[g,p]=j.useState(null),[y,b]=j.useState(!1);j.useEffect(()=>{(async()=>{d(!0);try{const R=(await ye.getAllPlayers()).filter(S=>S.totalGames>0);R.sort((S,T)=>S.name.localeCompare(T.name)),s(R)}catch(k){console.error("Error loading players:",k)}finally{d(!1)}})()},[]),j.useEffect(()=>{(async()=>{if(o.length>0&&u.length>0)try{const k=o.map(T=>T.id),R=u.map(T=>T.id),S=await ye.calculateWinProbabilityWithCI(k,R);p(S)}catch(k){console.error("Error calculating win probability:",k),p(null)}else p(null)})()},[o,u]);const C=()=>{n("buttonClick"),e()},B=D=>{n("buttonClick"),a.some(k=>k.id===D.id)?(A(a.filter(k=>k.id!==D.id)),x&&(l(o.filter(k=>k.id!==D.id)),f(u.filter(k=>k.id!==D.id)))):A([...a,D])},_=async()=>{if(!(a.length<4)){m(!0),n("phaseChange");try{const D=[...a],k=[];[...D].sort((V,Y)=>ye.getDisplayRating(Y)-ye.getDisplayRating(V)).forEach(V=>{const Y=ye.getDisplayRating(V);let se=!1;for(const ee of k){const q=ye.getDisplayRating(ee[0]);if(Math.abs(Y-q)<=100){ee.push(V),se=!0;break}}se||k.push([V])}),k.forEach(V=>{for(let Y=V.length-1;Y>0;Y--){const se=Math.floor(Math.random()*(Y+1));[V[Y],V[se]]=[V[se],V[Y]]}});const S=k.flat(),T=[],W=[];S.forEach(V=>{const Y=T.reduce((ee,q)=>ee+ye.getDisplayRating(q),0),se=W.reduce((ee,q)=>ee+ye.getDisplayRating(q),0);Y<=se?T.push(V):W.push(V)}),l(T),f(W),b(!1)}catch(D){console.error("Error balancing teams:",D)}finally{m(!1)}}},N=async()=>{if(!(a.length<4)){m(!0),n("phaseChange");try{const D=[...a],k=[];[...D].sort((V,Y)=>Y.totalGames-V.totalGames).forEach(V=>{const Y=V.totalGames;let se=!1;for(const ee of k){const q=ee[0].totalGames;if(Math.abs(Y-q)<=5){ee.push(V),se=!0;break}}se||k.push([V])}),k.forEach(V=>{for(let Y=V.length-1;Y>0;Y--){const se=Math.floor(Math.random()*(Y+1));[V[Y],V[se]]=[V[se],V[Y]]}});const S=k.flat(),T=[],W=[];S.forEach(V=>{const Y=T.reduce((ee,q)=>ee+q.totalGames,0),se=W.reduce((ee,q)=>ee+q.totalGames,0);Y<=se?T.push(V):W.push(V)}),l(T),f(W),b(!1)}catch(D){console.error("Error balancing teams by experience:",D)}finally{m(!1)}}},w=()=>{if(a.length<4)return;n("phaseChange");const D=[...a];for(let R=D.length-1;R>0;R--){const S=Math.floor(Math.random()*(R+1));[D[R],D[S]]=[D[S],D[R]]}const k=Math.ceil(D.length/2);l(D.slice(0,k)),f(D.slice(k)),b(!1)},E=()=>{n("buttonClick"),l([]),f([]),b(!1)},U=()=>{n("buttonClick"),A([]),l([]),f([]),b(!1)},I=()=>{n("toggleSwitch"),x&&(l([]),f([]),b(!1)),v(!x)},H=()=>{n("buttonClick"),b(!y)},$=(D,k)=>{x&&(n("buttonClick"),k===1?(f(u.filter(R=>R.id!==D.id)),o.some(R=>R.id===D.id)||l([...o,D])):(l(o.filter(R=>R.id!==D.id)),u.some(R=>R.id===D.id)||f([...u,D])),(o.length>0||k===1)&&(u.length>0||k===2)&&b(!1))},K=()=>{if(t&&o.length>0&&u.length>0){n("phaseChange");const D=o.map(R=>R.id),k=u.map(R=>R.id);t(D,k)}},M={ranking:"Balance teams based on player ELO ratings to create fair matches. Higher ELO players will be evenly distributed to make teams equally skilled. Click multiple times for different configurations.",experience:"Balance teams based on player experience (total games played), ensuring both teams have a mix of experienced and newer players. Click multiple times for different configurations.",random:"Create random teams without consideration for player skill or experience. Each click generates a completely new random configuration.",manual:"Enable manual team assignment mode to create teams by hand. You can move players between teams freely to create custom matchups.",reset:"Reset both teams and start over. Player selection will be maintained but no players will be assigned to teams."};return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("button",{onClick:C,className:"flex items-center text-gray-300 hover:text-white",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Menu"})]}),i.jsx("h2",{className:"text-2xl font-bold",children:"Match Maker"})]}),c?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):i.jsxs("div",{children:[i.jsx("div",{className:"bg-gray-700/50 p-4 rounded-lg mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(jt,{size:20,className:"mr-3 text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"How Match Maker Works"}),i.jsx("p",{className:"text-sm text-gray-300",children:"Select players to include, then balance teams based on player skill or experience (games played)."})]})]})}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-xl font-semibold",children:["Select Players (",a.length," selected)"]}),a.length>0&&i.jsx("button",{onClick:U,className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm",children:"Reset Selection"})]}),r.length>0?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:r.map(D=>{const k=a.some(R=>R.id===D.id);return i.jsxs("div",{className:`relative p-3 rounded-lg cursor-pointer transition-all ${k?"bg-blue-900/50 ring-2 ring-blue-500":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>B(D),children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"font-medium mb-1 truncate w-full text-center",children:D.name}),i.jsxs("div",{className:"text-sm mb-1",children:["(",ye.getDisplayRating(D),")"]}),i.jsxs("div",{className:"text-xs text-gray-400",children:["W: ",D.wins," L: ",D.losses]})]}),k&&i.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-500 rounded-full p-1",children:i.jsx(_s,{size:14,className:"transform rotate-45"})})]},D.id)})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:[i.jsx(st,{size:32,className:"text-gray-500 mb-2"}),i.jsx("p",{className:"text-gray-400",children:"No players available"})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"bg-gray-700/30 p-4 rounded-lg mx-auto max-w-2xl",children:[i.jsxs("div",{className:"flex items-center justify-center bg-gray-700/80 p-2 rounded-t-lg mb-3",children:[i.jsx(Yl,{size:18,className:"mr-2 text-blue-400"}),i.jsx("span",{className:"font-medium",children:"Balance Teams"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[i.jsx("div",{className:"hidden sm:block",children:i.jsx(ke,{text:M.ranking,maxWidth:"max-w-md",children:i.jsxs("button",{onClick:_,disabled:a.length<4||h||x,className:`px-4 py-3 w-full rounded-lg flex items-center justify-center ${a.length<4||h||x?"opacity-50 cursor-not-allowed bg-gray-600":"bg-blue-600 hover:bg-blue-500"}`,children:[h?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):i.jsx(Zd,{size:18,className:"mr-2"}),i.jsx("span",{children:"On Ranking"})]})})}),i.jsx("div",{className:"sm:hidden",children:i.jsxs("button",{onClick:_,disabled:a.length<4||h||x,className:`px-4 py-3 w-full rounded-lg flex items-center justify-center ${a.length<4||h||x?"opacity-50 cursor-not-allowed bg-gray-600":"bg-blue-600 hover:bg-blue-500"}`,children:[h?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):i.jsx(Zd,{size:18,className:"mr-2"}),i.jsx("span",{children:"On Ranking"})]})}),i.jsx("div",{className:"hidden sm:block",children:i.jsx(ke,{text:M.experience,maxWidth:"max-w-md",children:i.jsxs("button",{onClick:N,disabled:a.length<4||h||x,className:`px-4 py-3 w-full rounded-lg flex items-center justify-center ${a.length<4||h||x?"opacity-50 cursor-not-allowed bg-gray-600":"bg-green-600 hover:bg-green-500"}`,children:[h?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):i.jsx(WA,{size:18,className:"mr-2"}),i.jsx("span",{children:"On Experience"})]})})}),i.jsx("div",{className:"sm:hidden",children:i.jsxs("button",{onClick:N,disabled:a.length<4||h||x,className:`px-4 py-3 w-full rounded-lg flex items-center justify-center ${a.length<4||h||x?"opacity-50 cursor-not-allowed bg-gray-600":"bg-green-600 hover:bg-green-500"}`,children:[h?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):i.jsx(WA,{size:18,className:"mr-2"}),i.jsx("span",{children:"On Experience"})]})}),i.jsx("div",{className:"hidden sm:block",children:i.jsx(ke,{text:M.random,maxWidth:"max-w-md",children:i.jsxs("button",{onClick:w,disabled:a.length<4||x,className:`px-4 py-3 w-full rounded-lg flex items-center justify-center ${a.length<4||x?"opacity-50 cursor-not-allowed bg-gray-600":"bg-purple-600 hover:bg-purple-500"}`,children:[i.jsx(zg,{size:18,className:"mr-2"}),i.jsx("span",{children:"Random"})]})})}),i.jsx("div",{className:"sm:hidden",children:i.jsxs("button",{onClick:w,disabled:a.length<4||x,className:`px-4 py-3 w-full rounded-lg flex items-center justify-center ${a.length<4||x?"opacity-50 cursor-not-allowed bg-gray-600":"bg-purple-600 hover:bg-purple-500"}`,children:[i.jsx(zg,{size:18,className:"mr-2"}),i.jsx("span",{children:"Random"})]})})]})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[i.jsx("div",{className:"hidden sm:block",children:i.jsx(ke,{text:M.manual,maxWidth:"max-w-md",children:i.jsxs("button",{onClick:I,disabled:a.length<4,className:`px-4 py-3 w-full rounded-lg flex items-center justify-center ${a.length<4?"opacity-50 cursor-not-allowed bg-gray-600":x?"bg-blue-600 hover:bg-blue-500":"bg-gray-700 hover:bg-gray-600"}`,children:[i.jsx(st,{size:18,className:"mr-2"}),i.jsx("span",{children:"Manual Mode"})]})})}),i.jsx("div",{className:"sm:hidden",children:i.jsxs("button",{onClick:I,disabled:a.length<4,className:`px-4 py-3 w-full rounded-lg flex items-center justify-center ${a.length<4?"opacity-50 cursor-not-allowed bg-gray-600":x?"bg-blue-600 hover:bg-blue-500":"bg-gray-700 hover:bg-gray-600"}`,children:[i.jsx(st,{size:18,className:"mr-2"}),i.jsx("span",{children:"Manual Mode"})]})}),(o.length>0||u.length>0)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden sm:block",children:i.jsx(ke,{text:M.reset,maxWidth:"max-w-md",children:i.jsxs("button",{onClick:E,className:"px-4 py-3 w-full bg-red-700 hover:bg-red-600 rounded-lg flex items-center justify-center",children:[i.jsx(Jl,{size:18,className:"mr-2"}),i.jsx("span",{children:"Reset Teams"})]})})}),i.jsx("div",{className:"sm:hidden",children:i.jsxs("button",{onClick:E,className:"px-4 py-3 w-full bg-red-700 hover:bg-red-600 rounded-lg flex items-center justify-center",children:[i.jsx(Jl,{size:18,className:"mr-2"}),i.jsx("span",{children:"Reset Teams"})]})})]})]})]}),(o.length>0||u.length>0)&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-blue-900/30 border border-blue-800 rounded-lg p-4",children:[i.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-blue-500"}),"Titans Team",o.length>0&&i.jsxs("span",{className:"ml-3 text-sm font-normal",children:["Avg Skill: ",Math.round(o.reduce((D,k)=>D+ye.getDisplayRating(k),0)/o.length)]})]}),i.jsx("div",{className:"space-y-2",children:o.map(D=>i.jsxs("div",{className:"bg-blue-900/50 rounded-lg p-3 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:D.name}),i.jsxs("div",{className:"text-sm text-gray-300",children:["(",ye.getDisplayRating(D),")"]})]}),x&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden sm:block",children:i.jsx(ke,{text:"Move to Atlanteans team",children:i.jsx("button",{onClick:()=>$(D,2),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded text-red-400 hover:text-red-300","aria-label":"Move to Atlanteans",children:i.jsx(Kb,{size:16})})})}),i.jsx("div",{className:"sm:hidden",children:i.jsx("button",{onClick:()=>$(D,2),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded text-red-400 hover:text-red-300","aria-label":"Move to Atlanteans",children:i.jsx(Kb,{size:16})})})]})]},D.id))})]}),i.jsxs("div",{className:"bg-red-900/30 border border-red-800 rounded-lg p-4",children:[i.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2 bg-red-500"}),"Atlanteans Team",u.length>0&&i.jsxs("span",{className:"ml-3 text-sm font-normal",children:["Avg Skill: ",Math.round(u.reduce((D,k)=>D+ye.getDisplayRating(k),0)/u.length)]})]}),i.jsx("div",{className:"space-y-2",children:u.map(D=>i.jsxs("div",{className:"bg-red-900/50 rounded-lg p-3 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:D.name}),i.jsxs("div",{className:"text-sm text-gray-300",children:["(",ye.getDisplayRating(D),")"]})]}),x&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden sm:block",children:i.jsx(ke,{text:"Move to Titans team",children:i.jsx("button",{onClick:()=>$(D,1),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded text-blue-400 hover:text-blue-300","aria-label":"Move to Titans",children:i.jsx(Kg,{size:16})})})}),i.jsx("div",{className:"sm:hidden",children:i.jsx("button",{onClick:()=>$(D,1),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded text-blue-400 hover:text-blue-300","aria-label":"Move to Titans",children:i.jsx(Kg,{size:16})})})]})]},D.id))})]})]}),o.length>0&&u.length>0&&t&&i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsxs("button",{onClick:K,className:"px-8 py-4 bg-green-600 hover:bg-green-500 rounded-lg flex items-center text-xl",children:[i.jsx(gv,{size:24,className:"mr-3"}),"Use These Teams in Game Setup"]})})]}),x&&a.length>0&&i.jsxs("div",{className:"mt-6 bg-gray-700 rounded-lg p-4",children:[i.jsx("h3",{className:"font-bold text-lg mb-3",children:"Unassigned Players"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:a.filter(D=>!o.some(k=>k.id===D.id)&&!u.some(k=>k.id===D.id)).map(D=>i.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:D.name}),i.jsxs("div",{className:"text-sm text-gray-300",children:["(",ye.getDisplayRating(D),")"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>$(D,1),className:"px-2 py-1 bg-blue-700 hover:bg-blue-600 rounded-md text-xs",children:"Titans"}),i.jsx("button",{onClick:()=>$(D,2),className:"px-2 py-1 bg-red-700 hover:bg-red-600 rounded-md text-xs",children:"Atlanteans"})]})]},D.id))})]}),g!==null&&o.length>0&&u.length>0&&i.jsxs("div",{className:"mt-8 bg-gray-700 rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"p-4 bg-gray-700 cursor-pointer flex justify-between items-center",onClick:H,children:[i.jsxs("h3",{className:"font-semibold flex items-center",children:[i.jsx(Yl,{size:16,className:"mr-2 text-yellow-400"}),"Predicted Win Probability"]}),y?i.jsx(ns,{size:18}):i.jsx(gr,{size:18})]}),y&&i.jsxs("div",{className:"p-6 pb-4 border-t border-gray-600",children:[i.jsx(hSe,{probability:g,team1Name:"Titans",team2Name:"Atlanteans"}),i.jsx("div",{className:"mt-4 text-sm text-gray-300",children:i.jsx("p",{className:"mb-2",children:"Prediction based on TrueSkill ratings. The scale shows win probability from 0% to 100%."})})]})]}),x&&i.jsx("div",{className:"mt-6 p-4 bg-gray-700/50 rounded-lg text-sm text-gray-300",children:i.jsxs("p",{className:"flex items-start",children:[i.jsx(jt,{size:16,className:"mr-2 text-blue-400 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:"Manual Mode allows you to assign players to teams directly. Use the arrow buttons to move players between teams or the team buttons for unassigned players."})]})})]})]})},gSe=({onBack:e})=>{const{playSound:t}=et(),[n,r]=j.useState([]),[s,a]=j.useState(!0),[A,o]=j.useState(""),[l,u]=j.useState("games"),[f,c]=j.useState("desc"),[d,h]=j.useState("all"),[m,x]=j.useState("all"),[v,g]=j.useState(!1),[p,y]=j.useState(!1),[b,C]=j.useState(()=>{const Q=localStorage.getItem("heroStats_minGames");return Q?parseInt(Q,10):1}),[B,_]=j.useState(()=>{const Q=localStorage.getItem("heroStats_recencyMonths");return Q?parseInt(Q,10):null}),N=j.useRef(null),[w,E]=j.useState(null),[U,I]=j.useState(!1),[H,$]=j.useState(void 0),K=j.useMemo(()=>{if(B===null)return{startDate:void 0,endDate:void 0};const Q=new Date,O=new Date;return O.setMonth(O.getMonth()-B),{startDate:O,endDate:Q}},[B]);j.useEffect(()=>{(async()=>{a(!0);try{const O=await ye.getHeroStats(b,K.startDate,K.endDate);r(O)}catch(O){console.error("Error loading hero stats:",O)}finally{a(!1)}})()},[b,K.startDate,K.endDate]),j.useEffect(()=>{localStorage.setItem("heroStats_minGames",b.toString())},[b]),j.useEffect(()=>{B===null?localStorage.removeItem("heroStats_recencyMonths"):localStorage.setItem("heroStats_recencyMonths",B.toString())},[B]);const M=()=>{t("buttonClick"),e()},D=async()=>{if(N.current){t("buttonClick"),y(!0);try{I(!1),N.current.classList.add("taking-screenshot");const Q=document.createElement("div");Q.className="screenshot-title text-center mb-6",Q.innerHTML=`
        <h1 class="text-3xl font-bold">Guards of Atlantis II - Hero Statistics</h1>
        <p class="text-gray-400 mt-2">Generated on ${new Date().toLocaleDateString()}</p>
      `,N.current.insertBefore(Q,N.current.firstChild);const O=document.createElement("div");O.className="screenshot-footer text-center mt-8 text-sm text-gray-400",O.innerHTML=`
        <p>Generated by Guards of Atlantis II Timer App on ${new Date().toLocaleString()}</p>
      `,N.current.appendChild(O);const z=N.current.querySelectorAll(".no-screenshot");z.forEach(ae=>{ae.style.display="none"});const ue=(await C0(N.current,{backgroundColor:"#1F2937",windowWidth:1400,scrollX:0,scrollY:0,scale:window.devicePixelRatio||1,logging:!1,allowTaint:!0,useCORS:!0,onclone:ae=>{const ie=ae.querySelector("#screenshotContent");ie&&(ie.scrollTop=0)}})).toDataURL("image/png"),xe=document.createElement("a");xe.download=`guards-of-atlantis-hero-stats-${new Date().toISOString().slice(0,10)}.png`,xe.href=ue,xe.click(),N.current.removeChild(Q),N.current.removeChild(O),N.current.classList.remove("taking-screenshot"),z.forEach(ae=>{ae.style.display=""})}catch(Q){console.error("Error creating screenshot:",Q)}finally{y(!1)}}},k=Q=>{t("buttonClick"),Q===l?c(f==="asc"?"desc":"asc"):(u(Q),c("desc"))},R=()=>{t("buttonClick"),g(!v)},S=()=>{t("buttonClick"),o(""),h("all"),x("all"),C(1),_(null),g(!1)},T=(Q,O)=>{const z=O.currentTarget.getBoundingClientRect();$({x:z.x,y:z.y,width:z.width,height:z.height}),E(Q),I(!0)},W=()=>{I(!1)},V=(Q,O)=>{const z=O.currentTarget.getBoundingClientRect();$({x:z.x,y:z.y,width:z.width,height:z.height}),(w==null?void 0:w.id)===Q.id&&U?I(!1):(E(Q),I(!0))},Y=P.useMemo(()=>{const Q=new Set;return n.forEach(O=>{O.roles.forEach(z=>Q.add(z))}),Array.from(Q).sort()},[n]),se=P.useMemo(()=>{const Q=new Set;return n.forEach(O=>{Q.add(O.expansion)}),Array.from(Q).sort()},[n]),ee=n.filter(Q=>{if(A){const O=A.toLowerCase();return Q.heroName.toLowerCase().includes(O)||Q.roles.some(z=>z.toLowerCase().includes(O))}return!(d!=="all"&&Q.expansion!==d||m!=="all"&&!Q.roles.includes(m))}).sort((Q,O)=>{let z=0;switch(l){case"name":z=Q.heroName.localeCompare(O.heroName);break;case"games":z=Q.totalGames-O.totalGames;break;case"winRate":z=Q.winRate-O.winRate;break;case"complexity":z=Q.complexity-O.complexity;break;default:z=0}return f==="asc"?z:-z}),q=Q=>xi.find(O=>O.id===Q),Z=Q=>{const O=q(Q.heroId);return O?i.jsxs("div",{className:"flex flex-col items-center p-1 bg-gray-800 rounded-lg hover:bg-gray-700 cursor-pointer relative",onMouseEnter:z=>T(O,z),onMouseLeave:W,onClick:z=>V(O,z),children:[i.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mb-1",children:i.jsx("img",{src:O.icon,alt:O.name,className:"w-full h-full object-cover",onError:z=>{z.target.src="https://via.placeholder.com/48?text=Hero"}})}),i.jsx("div",{className:"text-xs text-center truncate w-full",children:Q.heroName}),i.jsxs("div",{className:"text-xs text-gray-400",children:[Q.winRate.toFixed(0),"% (",Q.gamesPlayed,")"]})]},Q.heroId):null};return j.useEffect(()=>{const Q=document.createElement("style");return Q.type="text/css",Q.innerHTML=`
      /* Styles applied during screenshot taking */
      .taking-screenshot {
        background-color: #1F2937 !important;
        padding: 2rem !important;
        width: 1400px !important; /* Increased width for more space */
        position: relative !important;
        overflow: visible !important;
      }
      
      .screenshot-title {
        color: white;
        margin-bottom: 2rem;
      }
      
      .screenshot-footer {
        color: #9CA3AF;
        margin-top: 2rem;
        border-top: 1px solid #4B5563;
        padding-top: 1rem;
      }
      
      /* Hide elements with no-screenshot class */
      .taking-screenshot .no-screenshot {
        display: none !important;
      }
      
      /* Make all hero cards look good in screenshot */
      .taking-screenshot .bg-gray-700 {
        background-color: rgba(55, 65, 81, 0.8) !important;
        padding: 1.5rem !important; /* More padding in cards */
      }
      
      .taking-screenshot .bg-gray-800 {
        background-color: rgba(31, 41, 55, 0.9) !important;
        padding: 1.25rem !important; /* More padding in card headers */
      }
      
      /* Adjust grid layout for screenshots */
      .taking-screenshot .grid {
        grid-template-columns: repeat(2, 1fr) !important; /* Force 2 columns for more space */
        gap: 2rem !important; /* Increase gap between cards */
      }
      
      /* Fix nested grids (like teammate grids) */
      .taking-screenshot .grid .grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 0.75rem !important;
      }
      
      /* Ensure text doesn't get cut off */
      .taking-screenshot .text-sm,
      .taking-screenshot .text-xs {
        overflow: visible !important;
        white-space: normal !important;
        line-height: 1.4 !important;
      }
      
      /* Fix for tooltip icons - ensure they're visible */
      .taking-screenshot .flex.items-center {
        display: flex !important;
        align-items: center !important;
        margin-bottom: 0.5rem !important;
      }
      
      .taking-screenshot .flex.items-center svg {
        margin-left: 0.5rem !important;
        visibility: visible !important;
        display: inline-block !important;
      }
      
      /* Make sure section headers have proper spacing */
      .taking-screenshot h4.font-semibold {
        display: inline-block !important;
        margin-right: 0.5rem !important;
      }
      
      /* Make sure progress bars show up correctly */
      .taking-screenshot .bg-red-600 {
        background-color: rgba(220, 38, 38, 0.9) !important;
      }
      
      .taking-screenshot .bg-green-500 {
        background-color: rgba(34, 197, 94, 0.9) !important;
      }
      
      /* Space out section titles */
      .taking-screenshot h4 {
        margin-top: 1rem !important;
        margin-bottom: 0.75rem !important;
      }
    `,document.head.appendChild(Q),()=>{document.head.removeChild(Q)}},[]),i.jsxs("div",{ref:N,id:"screenshotContent",className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 no-screenshot",children:[i.jsxs("button",{onClick:M,className:"flex items-center text-gray-300 hover:text-white",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Menu"})]}),i.jsx("h2",{className:"text-2xl font-bold",children:"Hero Statistics"}),i.jsx(ke,{text:"Take a screenshot of all hero statistics",position:"left",children:i.jsxs("button",{onClick:D,className:"flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg",disabled:p,children:[i.jsx(dh,{size:18,className:"mr-2"}),i.jsx("span",{children:p?"Capturing...":"Share Stats"})]})})]}),i.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-6 no-screenshot",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-stretch",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("input",{type:"text",value:A,onChange:Q=>o(Q.target.value),placeholder:"Search heroes or roles...",className:"w-full px-4 py-2 pl-10 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx(yc,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>k("games"),className:`px-3 py-1 rounded ${l==="games"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Games ",l==="games"&&(f==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>k("winRate"),className:`px-3 py-1 rounded ${l==="winRate"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Win Rate ",l==="winRate"&&(f==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>k("complexity"),className:`px-3 py-1 rounded ${l==="complexity"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Complexity ",l==="complexity"&&(f==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>k("name"),className:`px-3 py-1 rounded ${l==="name"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Name ",l==="name"&&(f==="asc"?"":"")]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:R,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg flex items-center",children:[i.jsx(vc,{size:18,className:"mr-2"}),i.jsx("span",{children:"Filters"}),(d!=="all"||m!=="all"||b!==1||B!==null)&&i.jsx("span",{className:"ml-2 bg-blue-600 text-xs rounded-full w-5 h-5 flex items-center justify-center",children:(d!=="all"?1:0)+(m!=="all"?1:0)+(b!==1?1:0)+(B!==null?1:0)}),v?i.jsx(ns,{size:16,className:"ml-2"}):i.jsx(gr,{size:16,className:"ml-2"})]}),v&&i.jsxs("div",{className:"absolute right-0 top-full mt-1 z-10 bg-gray-800 border border-gray-600 rounded-lg shadow-lg p-4 w-72",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Filter Options"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Time Period"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"radio",name:"timePeriod",checked:B===null,onChange:()=>_(null),className:"mr-2 accent-blue-500"}),i.jsx("span",{className:"text-sm",children:"All Time"})]}),i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"radio",name:"timePeriod",checked:B!==null,onChange:()=>_(B||6),className:"mr-2 accent-blue-500"}),i.jsx("span",{className:"text-sm mr-2",children:"Last"}),i.jsx("input",{type:"number",min:"1",max:"24",value:B||6,onChange:Q=>{const O=parseInt(Q.target.value,10);!isNaN(O)&&O>=1&&O<=24&&_(O)},disabled:B===null,className:"w-16 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"}),i.jsx("span",{className:"text-sm ml-2",children:"months"})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Expansion"}),i.jsxs("select",{value:d,onChange:Q=>h(Q.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg",children:[i.jsx("option",{value:"all",children:"All Expansions"}),se.map(Q=>i.jsx("option",{value:Q,children:Q},Q))]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Role"}),i.jsxs("select",{value:m,onChange:Q=>x(Q.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg",children:[i.jsx("option",{value:"all",children:"All Roles"}),Y.map(Q=>i.jsx("option",{value:Q,children:Q},Q))]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Min games for relationships"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>C(Q=>Math.max(1,Q-1)),disabled:b<=1,className:"w-10 h-10 flex items-center justify-center bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 disabled:text-gray-500 rounded-lg text-xl font-bold",children:""}),i.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-center font-medium",children:b}),i.jsx("button",{onClick:()=>C(Q=>Math.min(20,Q+1)),disabled:b>=20,className:"w-10 h-10 flex items-center justify-center bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 disabled:text-gray-500 rounded-lg text-xl font-bold",children:"+"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only show teammate/opponent stats with at least this many shared games"})]}),i.jsx("button",{onClick:S,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg",children:"Reset Filters"})]})]})]})}),(d!=="all"||m!=="all"||A!=="")&&i.jsxs("div",{className:"mb-4 p-4 bg-gray-700 rounded-lg screenshot-info",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Filtered View:"}),i.jsxs("ul",{className:"text-sm space-y-1",children:[d!=="all"&&i.jsxs("li",{children:["Expansion: ",d]}),m!=="all"&&i.jsxs("li",{children:["Role: ",m]}),A!==""&&i.jsxs("li",{children:['Search Term: "',A,'"']})]})]}),B!==null&&K.startDate&&K.endDate&&i.jsxs("div",{className:"mb-4 p-3 bg-blue-900/30 border border-blue-700/50 rounded-lg flex items-center",children:[i.jsx(lr,{size:18,className:"mr-2 text-blue-400 flex-shrink-0"}),i.jsxs("span",{className:"text-sm text-blue-200",children:["Showing stats from"," ",i.jsx("span",{className:"font-medium",children:K.startDate.toLocaleDateString()})," ","to"," ",i.jsx("span",{className:"font-medium",children:K.endDate.toLocaleDateString()})," ","(",B," month",B!==1?"s":"",")"]})]}),s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):i.jsx("div",{children:ee.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:ee.map(Q=>{const O=q(Q.heroId),z=(O==null?void 0:O.icon)||Q.icon||`heroes/${Q.heroName.toLowerCase().replace(/\s+/g,"")}.png`;return i.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden shadow-md",children:[i.jsxs("div",{className:"px-5 py-4 bg-gray-800 flex items-center cursor-pointer",onMouseEnter:L=>T(q(Q.heroId),L),onMouseLeave:W,onClick:L=>V(q(Q.heroId),L),children:[i.jsx("div",{className:"w-16 h-16 bg-gray-900 rounded-full overflow-hidden mr-4 flex-shrink-0",children:i.jsx("img",{src:z,alt:Q.heroName,className:"w-full h-full object-cover",onError:L=>{L.target.src="https://via.placeholder.com/64?text=Hero"}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold",children:Q.heroName}),i.jsx("div",{className:"text-sm text-gray-300",children:Q.roles.join("  ")}),i.jsxs("div",{className:"text-xs text-blue-400 mt-1",children:[Q.expansion,"  Complexity: ",Q.complexity]})]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{className:"text-sm text-gray-400 flex items-center",children:[i.jsx("span",{children:"Win Rate"}),i.jsx(jt,{size:14,className:"ml-1 text-gray-500 cursor-help"})]}),i.jsxs("div",{className:"font-medium",children:[Q.winRate.toFixed(1),"%"]})]}),i.jsx("div",{className:"h-2 bg-red-600 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-green-500",style:{width:`${Q.winRate}%`}})}),i.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[i.jsxs("span",{children:["Wins: ",Q.wins]}),i.jsxs("span",{children:["Losses: ",Q.losses]}),i.jsxs("span",{children:["Total: ",Q.totalGames]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("h4",{className:"font-semibold text-sm",children:"Best Teammates"}),i.jsx(jt,{size:14,className:"ml-1 text-gray-500 cursor-help"})]}),Q.bestTeammates.length>0?i.jsx("div",{className:"grid grid-cols-3 gap-2",children:Q.bestTeammates.map(L=>Z(L))}):i.jsx("div",{className:"text-sm text-gray-500 italic",children:"No data available"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("h4",{className:"font-semibold text-sm",children:"Best Against"}),i.jsx(jt,{size:14,className:"ml-1 text-gray-500 cursor-help"})]}),Q.bestAgainst.length>0?i.jsx("div",{className:"grid grid-cols-3 gap-2",children:Q.bestAgainst.map(L=>Z(L))}):i.jsx("div",{className:"text-sm text-gray-500 italic",children:"No data available"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("h4",{className:"font-semibold text-sm",children:"Countered By"}),i.jsx(jt,{size:14,className:"ml-1 text-gray-500 cursor-help"})]}),Q.worstAgainst.length>0?i.jsx("div",{className:"grid grid-cols-3 gap-2",children:Q.worstAgainst.map(L=>Z(L))}):i.jsx("div",{className:"text-sm text-gray-500 italic",children:"No data available"})]})]})]},Q.heroId)})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx(At,{size:48,className:"text-gray-500 mb-4"}),i.jsx("p",{className:"text-xl text-gray-400",children:A||d!=="all"||m!=="all"?"No heroes found matching your filters":"No hero data available"}),(A||d!=="all"||m!=="all")&&i.jsx("button",{onClick:S,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg no-screenshot",children:"Clear Filters"})]})}),w&&i.jsx(Ej,{hero:w,isVisible:U,onClose:()=>I(!1),cardPosition:H}),i.jsxs("div",{className:"mt-8 p-4 bg-gray-700/50 rounded-lg text-sm text-gray-300",children:[i.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[i.jsx(jt,{size:16,className:"mr-2 text-blue-400"}),"About Hero Statistics"]}),i.jsx("p",{className:"mb-2",children:"These statistics show hero performance based on your match history. Win rates and synergies are calculated from your recorded matches, so they reflect your group's playstyle and may differ from general statistics."})]})]})},pSe=({onBack:e})=>{const{playSound:t}=et(),[n,r]=j.useState(!1),[s,a]=j.useState(null),[A,o]=j.useState(null),[l,u]=j.useState(new Date().toISOString().split("T")[0]),[f,c]=j.useState(new Date().toTimeString().split(" ")[0].substring(0,5)),[d,h]=j.useState(Me.Long),[m,x]=j.useState(!1),[v,g]=j.useState(G.Titans),[p,y]=j.useState([]),[b,C]=j.useState(!1),[B,_]=j.useState(-1),[N,w]=j.useState(GA()),[E,U]=j.useState(""),[I,H]=j.useState(4),[$,K]=j.useState("name"),[M,D]=j.useState("asc"),[k,R]=j.useState({}),[S,T]=j.useState([]),[W,V]=j.useState([]),[Y,se]=j.useState(!1),[ee,q]=j.useState(new Map),[Z,Q]=j.useState(new Map),[O,z]=j.useState({kills:!1,deaths:!1,assists:!1,goldEarned:!1,minionKills:!1,level:!1}),[L,ue]=j.useState([]);j.useEffect(()=>{(async()=>{try{const _e=(await ye.getAllPlayers()).map(ze=>ze.name);ue(_e)}catch(Ae){console.error("Error loading player names:",Ae)}})(),p.length>0&&nn()},[]);const xe=()=>{t("buttonClick"),e()},ae=()=>{const J={};return O.kills&&(J.kills=0),O.deaths&&(J.deaths=0),O.assists&&(J.assists=0),O.goldEarned&&(J.goldEarned=0),O.minionKills&&(J.minionKills=0),O.level&&(J.level=1),J},ie=J=>{t("buttonClick");const Ae={...O,[J]:!O[J]};if(z(Ae),Y){const _e=new Map;p.forEach((ze,Vt)=>{const Ge=ee.get(Vt)||{},Ft={};Ae.kills&&(Ft.kills=Ge.kills??0),Ae.deaths&&(Ft.deaths=Ge.deaths??0),Ae.assists&&(Ft.assists=Ge.assists??0),Ae.goldEarned&&(Ft.goldEarned=Ge.goldEarned??0),Ae.minionKills&&(Ft.minionKills=Ge.minionKills??0),Ae.level&&(Ft.level=Ge.level??1),_e.set(Vt,Ft)}),q(_e),Q(new Map)}},Re=()=>{if(t("buttonClick"),se(!Y),!Y){const J=new Map;p.forEach((Ae,_e)=>{J.set(_e,ae())}),q(J)}},be=(J,Ae)=>{const _e=[];return O.kills&&Ae.kills!==void 0&&(Ae.kills<0||Ae.kills>50)&&_e.push("Kills must be between 0 and 50"),O.deaths&&Ae.deaths!==void 0&&(Ae.deaths<0||Ae.deaths>20)&&_e.push("Deaths must be between 0 and 20"),O.assists&&Ae.assists!==void 0&&(Ae.assists<0||Ae.assists>100)&&_e.push("Assists must be between 0 and 100"),O.goldEarned&&Ae.goldEarned!==void 0&&(Ae.goldEarned<0||Ae.goldEarned>1e4)&&_e.push("Gold earned must be between 0 and 10,000"),O.minionKills&&Ae.minionKills!==void 0&&(Ae.minionKills<0||Ae.minionKills>200)&&_e.push("Minion kills must be between 0 and 200"),O.level&&Ae.level!==void 0&&(Ae.level<1||Ae.level>8)&&_e.push("Level must be between 1 and 8"),_e},le=(J,Ae)=>{const _e=new Map(ee);_e.set(J,Ae),q(_e);const ze=be(J,Ae),Vt=new Map(Z);ze.length>0?Vt.set(J,ze):Vt.delete(J),Q(Vt)},Te=J=>{t("buttonClick");const Ae=new Map(ee);Ae.set(J,ae()),q(Ae);const _e=new Map(Z);_e.delete(J),Q(_e)},$e=()=>{t("buttonClick");const J=new Map;p.forEach((Ae,_e)=>{J.set(_e,ae())}),q(J),Q(new Map)},Et=J=>{if(p.length>=10){R({...k,maxPlayers:"Maximum 10 players allowed"});return}t("buttonClick");const Ae={id:"",name:"",team:J,heroId:null,heroName:"",heroRoles:[]},_e=p.length;if(y([...p,Ae]),Y){const ze=new Map(ee);ze.set(_e,ae()),q(ze)}R({...k,players:void 0,maxPlayers:void 0})},je=J=>{t("buttonClick");const Ae=[...p];if(Ae.splice(J,1),y(Ae),Y){const _e=new Map,ze=new Map;Ae.forEach((Vt,Ge)=>{const Ft=Ge>=J?Ge+1:Ge;ee.has(Ft)&&_e.set(Ge,ee.get(Ft)),Z.has(Ft)&&ze.set(Ge,Z.get(Ft))}),q(_e),Q(ze)}nn(Ae)},Xe=(J,Ae)=>{const _e=[...p];_e[J].id=Ae,_e[J].name=Ae,y(_e),nn(_e)},nn=(J=p)=>{const Ae=J.map(Ue=>Ue.id.trim()).filter(Ue=>Ue!==""),_e={},ze=[];Ae.forEach(Ue=>{_e[Ue]=(_e[Ue]||0)+1,_e[Ue]>1&&!ze.includes(Ue)&&ze.push(Ue)}),T(ze);const Vt=J.map(Ue=>Ue.heroId).filter(Ue=>Ue!==null),Ge={},Ft=[];Vt.forEach(Ue=>{Ge[Ue]=(Ge[Ue]||0)+1,Ge[Ue]>1&&!Ft.includes(Ue)&&Ft.push(Ue)}),V(Ft)},ls=J=>{t("buttonClick"),_(J),C(!0)},Ys=J=>{if(t("heroSelect"),B===-1)return;const Ae=[...p];Ae[B].heroId=J.id,Ae[B].heroName=J.name,Ae[B].heroRoles=J.roles,y(Ae),nn(Ae),C(!1),R({...k,heroes:void 0,heroDuplicates:void 0})},Oi=J=>{t("buttonClick"),N.includes(J)?w(N.filter(Ae=>Ae!==J)):w([...N,J])},Oa=J=>{t("buttonClick"),$===J?D(M==="asc"?"desc":"asc"):(K(J),D("asc"))},Ki=()=>{const J={};l||(J.date="Match date is required"),p.length<4&&(J.players="At least 4 players are required (2 per team)"),p.length>10&&(J.maxPlayers="Maximum 10 players allowed"),p.some(Ue=>!Ue.id.trim())&&(J.players="All players must have names");const Ae=p.map(Ue=>Ue.id.trim());if(new Set(Ae).size!==Ae.length){const Ue=Ae.filter((us,Nn)=>us&&Ae.indexOf(us)!==Nn);J.players=`Duplicate player names found: ${[...new Set(Ue)].join(", ")}`}const ze=p.filter(Ue=>Ue.team===G.Titans),Vt=p.filter(Ue=>Ue.team===G.Atlanteans);(ze.length<2||Vt.length<2)&&(J.teams="Each team must have at least 2 players"),Math.abs(ze.length-Vt.length)>1&&(J.teamBalance="Teams must be balanced (equal count or differ by at most 1 player)"),p.some(Ue=>Ue.heroId===null)&&(J.heroes="All players must select a hero");const Ge=p.map(Ue=>Ue.heroId).filter(Ue=>Ue!==null);if(new Set(Ge).size!==Ge.length){const Ue=Ge.filter((Nn,ds)=>Nn!==null&&Ge.indexOf(Nn)!==ds),us=p.filter(Nn=>Nn.heroId!==null&&Ue.includes(Nn.heroId)).map(Nn=>Nn.heroName).filter((Nn,ds,Wi)=>Wi.indexOf(Nn)===ds);J.heroDuplicates=`Duplicate heroes selected: ${us.join(", ")}`}if(Y){let Ue=!1;const us=new Map;p.forEach((Nn,ds)=>{const Wi=ee.get(ds);if(Wi){const Xc=be(ds,Wi);Xc.length>0&&(us.set(ds,Xc),Ue=!0)}}),Ue&&(J.stats="Please fix player statistics errors before submitting",Q(us))}return R(J),Object.keys(J).length===0},zi=async()=>{if(!Ki()){t("buttonClick");return}r(!0),a(null),o(null);try{const J={date:new Date(`${l}T${f||"00:00"}`),winningTeam:v,gameLength:d,doubleLanes:m},Ae=p.map((_e,ze)=>{const Vt={id:_e.id,team:_e.team,heroId:_e.heroId,heroName:_e.heroName,heroRoles:_e.heroRoles};if(Y&&ee.has(ze)){const Ge=ee.get(ze);return{...Vt,kills:O.kills?Ge.kills:void 0,deaths:O.deaths?Ge.deaths:void 0,assists:O.assists?Ge.assists:void 0,goldEarned:O.goldEarned?Ge.goldEarned:void 0,minionKills:O.minionKills?Ge.minionKills:void 0,level:O.level?Ge.level:void 0}}return{...Vt,kills:void 0,deaths:void 0,assists:void 0,goldEarned:void 0,minionKills:void 0,level:void 0}});await ye.recordMatch(J,Ae),t("phaseChange"),a("Match successfully recorded!"),y([]),u(new Date().toISOString().split("T")[0]),c(new Date().toTimeString().split(" ")[0].substring(0,5))}catch(J){console.error("Error recording match:",J),o("Failed to record match. Please try again.")}finally{r(!1)}},Gi=(()=>{let J=hv(N).filter(Ae=>Ae.complexity<=I);if(E){const Ae=E.toLowerCase();J=J.filter(_e=>_e.name.toLowerCase().includes(Ae)||_e.roles.some(ze=>ze.toLowerCase().includes(Ae)))}return J.sort((Ae,_e)=>{let ze=0;return $==="name"?ze=Ae.name.localeCompare(_e.name):ze=Ae.complexity-_e.complexity,M==="asc"?ze:-ze}),J})();return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("button",{onClick:xe,className:"flex items-center text-gray-300 hover:text-white",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Menu"})]}),i.jsx("h2",{className:"text-2xl font-bold",children:"Record Match"})]}),i.jsx("div",{className:"bg-blue-900/30 border border-blue-700 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(vi,{size:20,className:"text-blue-400 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-blue-300 mb-1",children:"Manual Match Recording"}),i.jsx("p",{className:"text-sm",children:"Use this form to record matches played outside the timer app. Note that matches played using the drafting system and timer are automatically recorded."})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[i.jsx(lr,{size:18,className:"mr-2 text-blue-400"}),"Match Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Match Date"}),i.jsx("input",{type:"date",value:l,onChange:J=>u(J.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),k.date&&i.jsx("div",{className:"text-red-400 text-sm mt-1",children:k.date})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Match Time (optional)"}),i.jsx("input",{type:"time",value:f,onChange:J=>c(J.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Game Type"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"radio",name:"gameLength",value:Me.Quick,checked:d===Me.Quick,onChange:()=>h(Me.Quick),className:"form-radio h-5 w-5 text-blue-600"}),i.jsx("span",{className:"ml-2",children:"Quick"})]}),i.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"radio",name:"gameLength",value:Me.Long,checked:d===Me.Long,onChange:()=>h(Me.Long),className:"form-radio h-5 w-5 text-blue-600"}),i.jsx("span",{className:"ml-2",children:"Long"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Lane Configuration"}),i.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:()=>x(!m),className:"form-checkbox h-5 w-5 text-blue-600"}),i.jsx("span",{className:"ml-2",children:"Double Lanes (2 Lanes)"})]})]})]})]}),i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[i.jsx(st,{size:18,className:"mr-2 text-blue-400"}),"Teams and Players"]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[i.jsxs("button",{onClick:()=>Et(G.Titans),className:`flex-1 flex items-center justify-center ${p.length>=10?"bg-gray-700 cursor-not-allowed":"bg-blue-700 hover:bg-blue-600"} px-4 py-2 rounded-lg`,disabled:p.length>=10,children:[i.jsx(_s,{size:18,className:"mr-2"}),i.jsx("span",{children:"Add Titan Player"})]}),i.jsxs("button",{onClick:()=>Et(G.Atlanteans),className:`flex-1 flex items-center justify-center ${p.length>=10?"bg-gray-700 cursor-not-allowed":"bg-red-700 hover:bg-red-600"} px-4 py-2 rounded-lg`,disabled:p.length>=10,children:[i.jsx(_s,{size:18,className:"mr-2"}),i.jsx("span",{children:"Add Atlantean Player"})]})]}),p.length>0?i.jsx("div",{className:"space-y-2",children:p.map((J,Ae)=>i.jsxs("div",{className:`p-3 rounded-lg ${J.team===G.Titans?"bg-blue-900/30":"bg-red-900/30"} flex flex-col sm:flex-row items-start sm:items-center gap-2`,children:[i.jsx("div",{className:"w-full sm:w-1/3",children:i.jsx(K4,{player:{id:Ae,team:J.team,hero:null,name:J.name},onNameChange:_e=>Xe(Ae,_e),onRemove:()=>je(Ae),isDuplicate:S.includes(J.name.trim())&&J.name.trim()!=="",suggestedNames:L})}),i.jsx("div",{className:"flex-1 flex items-center",children:i.jsx("button",{onClick:()=>ls(Ae),className:`flex-1 px-3 py-2 ${J.heroId!==null?W.includes(J.heroId)?"bg-amber-900/30 border border-amber-500":"bg-gray-700":"bg-gray-800 border border-dashed border-gray-600"} rounded-lg hover:bg-gray-600 transition-colors`,children:J.heroId!==null?i.jsxs("div",{className:"flex items-center",children:[i.jsx(At,{size:16,className:"mr-2"}),i.jsx("span",{children:J.heroName})]}):i.jsx("span",{className:"text-gray-400",children:"Select Hero"})})})]},Ae))}):i.jsx("div",{className:"text-center p-4 border border-dashed border-gray-600 rounded-lg text-gray-400",children:"Add players to both teams using the buttons above"}),k.players&&i.jsx("div",{className:"text-red-400 text-sm mt-2",children:k.players}),k.teams&&i.jsx("div",{className:"text-red-400 text-sm mt-2",children:k.teams}),k.teamBalance&&i.jsx("div",{className:"text-red-400 text-sm mt-2",children:k.teamBalance}),k.heroes&&i.jsx("div",{className:"text-red-400 text-sm mt-2",children:k.heroes}),k.heroDuplicates&&i.jsx("div",{className:"text-red-400 text-sm mt-2",children:k.heroDuplicates}),k.maxPlayers&&i.jsx("div",{className:"text-red-400 text-sm mt-2",children:k.maxPlayers}),k.stats&&i.jsx("div",{className:"text-red-400 text-sm mt-2",children:k.stats}),p.length>0&&i.jsxs("div",{className:"mt-3 flex justify-between text-sm",children:[i.jsxs("div",{children:["Titans: ",p.filter(J=>J.team===G.Titans).length," players",p.filter(J=>J.team===G.Titans).length<2&&i.jsx("span",{className:"ml-2 text-amber-400",children:"Minimum 2 required"})]}),i.jsxs("div",{children:["Atlanteans: ",p.filter(J=>J.team===G.Atlanteans).length," players",p.filter(J=>J.team===G.Atlanteans).length<2&&i.jsx("span",{className:"ml-2 text-amber-400",children:"Minimum 2 required"})]})]}),p.length>0&&Math.abs(p.filter(J=>J.team===G.Titans).length-p.filter(J=>J.team===G.Atlanteans).length)>1&&i.jsx("div",{className:"mt-1 text-amber-400 text-sm text-center",children:"Teams are unbalanced! Teams should have equal player counts or differ by at most 1."}),p.length>10&&i.jsx("div",{className:"mt-1 text-red-400 text-sm text-center",children:"Too many players! Maximum 10 players allowed."})]}),i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[i.jsx(ld,{size:18,className:"mr-2 text-green-400"}),"Recording Mode"]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("button",{onClick:Re,className:`flex-1 p-4 rounded-lg border-2 transition-all ${Y?"border-gray-600 bg-gray-800 hover:bg-gray-700":"border-blue-500 bg-blue-900/50"}`,children:i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-lg mb-1",children:"Basic Recording"}),i.jsx("div",{className:"text-sm text-gray-300",children:"Record match results with player names, heroes, and winner only"})]})}),i.jsx("button",{onClick:Re,className:`flex-1 p-4 rounded-lg border-2 transition-all ${Y?"border-green-500 bg-green-900/50":"border-gray-600 bg-gray-800 hover:bg-gray-700"}`,children:i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-lg mb-1",children:"Detailed Recording"}),i.jsx("div",{className:"text-sm text-gray-300",children:"Record complete player statistics: kills, deaths, assists, gold, level"})]})})]}),Y&&i.jsx("div",{className:"mt-3 p-3 bg-green-900/20 border border-green-500/30 rounded-lg",children:i.jsxs("p",{className:"text-sm text-green-200 flex items-center",children:[i.jsx(vi,{size:16,className:"mr-2"}),"Detailed mode allows you to record comprehensive player statistics for more accurate match analysis."]})})]}),Y&&i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[i.jsx(st,{size:18,className:"mr-2 text-green-400"}),"Player Statistics"]}),i.jsxs("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg border border-gray-600",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center",children:[i.jsx(_a,{size:16,className:"mr-2"}),"Select Statistics to Track"]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/50 p-2 rounded",children:[i.jsx("input",{type:"checkbox",checked:O.kills,onChange:()=>ie("kills"),className:"form-checkbox h-4 w-4 text-red-600 bg-gray-800 border-gray-600 rounded focus:ring-red-500"}),i.jsxs("span",{className:"text-sm flex items-center",children:[i.jsx(R4,{size:14,className:"mr-1"}),"Kills"]})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/50 p-2 rounded",children:[i.jsx("input",{type:"checkbox",checked:O.deaths,onChange:()=>ie("deaths"),className:"form-checkbox h-4 w-4 text-red-600 bg-gray-800 border-gray-600 rounded focus:ring-red-500"}),i.jsxs("span",{className:"text-sm flex items-center",children:[i.jsx(mv,{size:14,className:"mr-1"}),"Deaths"]})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/50 p-2 rounded",children:[i.jsx("input",{type:"checkbox",checked:O.assists,onChange:()=>ie("assists"),className:"form-checkbox h-4 w-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),i.jsxs("span",{className:"text-sm flex items-center",children:[i.jsx(H4,{size:14,className:"mr-1"}),"Assists"]})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/50 p-2 rounded",children:[i.jsx("input",{type:"checkbox",checked:O.goldEarned,onChange:()=>ie("goldEarned"),className:"form-checkbox h-4 w-4 text-yellow-600 bg-gray-800 border-gray-600 rounded focus:ring-yellow-500"}),i.jsxs("span",{className:"text-sm flex items-center",children:[i.jsx(Qr,{size:14,className:"mr-1"}),"Gold"]})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/50 p-2 rounded",children:[i.jsx("input",{type:"checkbox",checked:O.minionKills,onChange:()=>ie("minionKills"),className:"form-checkbox h-4 w-4 text-green-600 bg-gray-800 border-gray-600 rounded focus:ring-green-500"}),i.jsxs("span",{className:"text-sm flex items-center",children:[i.jsx(Jd,{size:14,className:"mr-1"}),"Minions"]})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/50 p-2 rounded",children:[i.jsx("input",{type:"checkbox",checked:O.level,onChange:()=>ie("level"),className:"form-checkbox h-4 w-4 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500"}),i.jsxs("span",{className:"text-sm flex items-center",children:[i.jsx(yi,{size:14,className:"mr-1"}),"Level"]})]})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-3",children:" Only checked statistics will be tracked."})]}),i.jsx(bSe,{players:p,playerStats:ee,statsErrors:Z,enabledStats:O,onStatsChange:le,onResetPlayerStats:Te,onResetAllStats:$e})]}),i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[i.jsx(xSe,{size:18,className:"mr-2 text-yellow-400"}),"Match Winner"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("button",{onClick:()=>g(G.Titans),className:`p-4 rounded-lg border-2 ${v===G.Titans?"border-blue-500 bg-blue-900/50":"border-gray-600 bg-gray-800 hover:bg-gray-700"} flex items-center`,children:[v===G.Titans&&i.jsx(_a,{size:18,className:"mr-2 text-blue-400"}),i.jsx("span",{className:"text-lg font-medium",children:"Titans Victory"})]}),i.jsxs("button",{onClick:()=>g(G.Atlanteans),className:`p-4 rounded-lg border-2 ${v===G.Atlanteans?"border-red-500 bg-red-900/50":"border-gray-600 bg-gray-800 hover:bg-gray-700"} flex items-center`,children:[v===G.Atlanteans&&i.jsx(_a,{size:18,className:"mr-2 text-red-400"}),i.jsx("span",{className:"text-lg font-medium",children:"Atlanteans Victory"})]})]})]}),i.jsx("div",{className:"flex justify-center mt-6",children:i.jsx("button",{onClick:zi,disabled:n,className:`px-6 py-3 bg-green-600 hover:bg-green-500 rounded-lg flex items-center text-xl ${n?"opacity-70 cursor-not-allowed":""}`,children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),i.jsx("span",{children:"Recording..."})]}):i.jsxs(i.Fragment,{children:[i.jsx($4,{size:20,className:"mr-3"}),i.jsx("span",{children:"Record Match"})]})})}),s&&i.jsx("div",{className:"mt-4 p-3 bg-green-900/50 border border-green-500 rounded-lg text-green-300 text-center",children:s}),A&&i.jsx("div",{className:"mt-4 p-3 bg-red-900/50 border border-red-500 rounded-lg text-red-300 text-center",children:A})]}),b&&i.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-4 bg-gray-700 flex justify-between items-center",children:[i.jsx("h3",{className:"text-xl font-bold",children:"Select Hero"}),i.jsx("button",{onClick:()=>C(!1),className:"p-1 bg-gray-600 hover:bg-gray-500 rounded-full",children:i.jsx(ySe,{size:20})})]}),i.jsxs("div",{className:"p-4 border-b border-gray-700",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("input",{type:"text",value:E,onChange:J=>U(J.target.value),placeholder:"Search heroes or roles...",className:"w-full px-4 py-2 pl-10 bg-gray-700 border border-gray-600 rounded-lg"}),i.jsx(vSe,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm whitespace-nowrap",children:"Max Complexity:"}),i.jsxs("select",{value:I,onChange:J=>H(Number(J.target.value)),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg",children:[i.jsx("option",{value:"1",children:"1"}),i.jsx("option",{value:"2",children:"2"}),i.jsx("option",{value:"3",children:"3"}),i.jsx("option",{value:"4",children:"4"})]})]})]}),i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:GA().map(J=>i.jsx("button",{onClick:()=>Oi(J),className:`px-3 py-1 text-sm rounded ${N.includes(J)?"bg-blue-700 hover:bg-blue-600":"bg-gray-700 hover:bg-gray-600"}`,children:J},J))}),i.jsxs("div",{className:"mt-3 border-t border-gray-600 pt-3 flex items-center",children:[i.jsx("span",{className:"text-sm mr-2",children:"Sort by:"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>Oa("name"),className:`px-3 py-1 text-sm rounded flex items-center ${$==="name"?"bg-blue-700 hover:bg-blue-600":"bg-gray-700 hover:bg-gray-600"}`,children:[i.jsx("span",{children:"Name"}),$==="name"&&(M==="asc"?i.jsx(Wd,{size:14,className:"ml-1"}):i.jsx(Gd,{size:14,className:"ml-1"}))]}),i.jsxs("button",{onClick:()=>Oa("complexity"),className:`px-3 py-1 text-sm rounded flex items-center ${$==="complexity"?"bg-blue-700 hover:bg-blue-600":"bg-gray-700 hover:bg-gray-600"}`,children:[i.jsx("span",{children:"Complexity"}),$==="complexity"&&(M==="asc"?i.jsx(Wd,{size:14,className:"ml-1"}):i.jsx(Gd,{size:14,className:"ml-1"}))]})]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:[Gi.map(J=>i.jsxs("div",{onClick:()=>Ys(J),className:"bg-gray-700 hover:bg-gray-600 rounded-lg p-3 cursor-pointer transition-colors flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full overflow-hidden mb-2",children:i.jsx("img",{src:J.icon,alt:J.name,className:"w-full h-full object-cover",onError:Ae=>{Ae.target.src="https://via.placeholder.com/64?text=Hero"}})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:J.name}),i.jsx("div",{className:"text-xs text-gray-400",children:J.roles.join("  ")}),i.jsx("div",{className:"text-xs",children:[...Array(J.complexity)].map((Ae,_e)=>i.jsx("span",{className:"text-yellow-500",children:""},_e))})]})]},J.id)),Gi.length===0&&i.jsx("div",{className:"col-span-full text-center p-8 text-gray-400",children:"No heroes match your search criteria. Try adjusting your filters."})]})})]})})]})},xSe=({size:e,className:t})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),i.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),i.jsx("path",{d:"M4 22h16"}),i.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),i.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),i.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),vSe=({size:e,className:t})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("circle",{cx:"11",cy:"11",r:"8"}),i.jsx("path",{d:"m21 21-4.3-4.3"})]}),ySe=({size:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M18 6 6 18"}),i.jsx("path",{d:"m6 6 12 12"})]}),bSe=({players:e,playerStats:t,statsErrors:n,enabledStats:r,onStatsChange:s,onResetPlayerStats:a,onResetAllStats:A})=>{const o=e.map((u,f)=>({player:u,index:f})).filter(({player:u})=>u.team===G.Titans),l=e.map((u,f)=>({player:u,index:f})).filter(({player:u})=>u.team===G.Atlanteans);return i.jsxs("div",{className:"space-y-6",children:[e.length>0&&A&&i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{type:"button",onClick:A,className:"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg flex items-center text-sm transition-colors",children:[i.jsx(la,{size:16,className:"mr-2"}),"Reset All Stats"]})}),o.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-lg font-medium flex items-center text-blue-300",children:[i.jsx(At,{size:18,className:"mr-2"}),"Titans (",o.length," players)"]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:o.map(({player:u,index:f})=>i.jsx(C5,{player:u,playerIndex:f,stats:t.get(f),errors:n.get(f),enabledStats:r,onStatsChange:c=>s(f,c),onResetStats:a},f))})]}),l.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-lg font-medium flex items-center text-red-300",children:[i.jsx(At,{size:18,className:"mr-2"}),"Atlanteans (",l.length," players)"]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:l.map(({player:u,index:f})=>i.jsx(C5,{player:u,playerIndex:f,stats:t.get(f),errors:n.get(f),enabledStats:r,onStatsChange:c=>s(f,c),onResetStats:a},f))})]}),e.length===0&&i.jsxs("div",{className:"text-center text-gray-400 py-8",children:[i.jsx(st,{size:48,className:"mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"Add players to both teams to enter statistics"})]})]})},C5=({player:e,playerIndex:t,onStatsChange:n,stats:r,errors:s=[],enabledStats:a,onResetStats:A})=>{const o=r||{},l=(h,m)=>{const x={...o,[h]:m};n(x)},u=Object.values(a).some(Boolean),f=Object.values(a).filter(Boolean).length,c=e.team===G.Titans?"border-blue-500":"border-red-500",d=e.team===G.Titans?"bg-blue-900/20":"bg-red-900/20";return i.jsxs("div",{className:`bg-gray-800 rounded-lg p-4 border-2 ${c} ${d}`,children:[i.jsxs("div",{className:"flex items-center mb-4 pb-3 border-b border-gray-600",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-lg",children:e.name||"Unnamed Player"}),i.jsxs("div",{className:"text-sm text-gray-300 flex items-center",children:[i.jsx(At,{size:14,className:"mr-1"}),e.heroName||"No Hero Selected"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[A&&i.jsxs("button",{type:"button",onClick:()=>A(t),className:"px-3 py-1 bg-red-600 hover:bg-red-500 text-white rounded text-xs flex items-center transition-colors",title:"Reset this player's stats",children:[i.jsx(la,{size:12,className:"mr-1"}),"Reset"]}),s.length>0&&i.jsx("div",{className:"text-red-400 text-sm",title:s.join(", "),children:i.jsx(vi,{size:16})})]})]}),u?i.jsxs("div",{className:`grid gap-4 ${f<=3?`grid-cols-${f}`:"grid-cols-3"}`,children:[a.kills&&i.jsx(oA,{label:"Kills",value:o.kills??0,onChange:h=>l("kills",h),min:0,max:50,enabled:!0,icon:i.jsx(R4,{size:14})}),a.deaths&&i.jsx(oA,{label:"Deaths",value:o.deaths??0,onChange:h=>l("deaths",h),min:0,max:20,enabled:!0,icon:i.jsx(mv,{size:14})}),a.assists&&i.jsx(oA,{label:"Assists",value:o.assists??0,onChange:h=>l("assists",h),min:0,max:100,enabled:!0,icon:i.jsx(H4,{size:14})}),a.goldEarned&&i.jsx(oA,{label:"Gold",value:o.goldEarned??0,onChange:h=>l("goldEarned",h),min:0,max:1e4,enabled:!0,icon:i.jsx(Qr,{size:14})}),a.minionKills&&i.jsx(oA,{label:"Minions",value:o.minionKills??0,onChange:h=>l("minionKills",h),min:0,max:200,enabled:!0,icon:i.jsx(Jd,{size:14})}),a.level&&i.jsx(oA,{label:"Level",value:o.level??1,onChange:h=>l("level",h),min:1,max:8,enabled:!0,icon:i.jsx(yi,{size:14})})]}):i.jsxs("div",{className:"text-center p-6 border border-dashed border-gray-600 rounded-lg text-gray-400",children:[i.jsx("p",{className:"text-sm",children:"No statistics selected for tracking"}),i.jsx("p",{className:"text-xs mt-1",children:"Enable stat categories above to start recording"})]}),s.length>0&&i.jsx("div",{className:"mt-3 space-y-1",children:s.map((h,m)=>i.jsxs("div",{className:"text-red-400 text-xs flex items-center",children:[i.jsx(vi,{size:12,className:"mr-1"}),h]},m))})]})},oA=({label:e,value:t,onChange:n,min:r=0,max:s=999,disabled:a=!1,icon:A,enabled:o=!0})=>{const l=t??0,u=()=>{l<s&&n(l+1)},f=()=>{l>r&&n(l-1)},c=d=>{const h=parseInt(d.target.value)||0;h>=r&&h<=s&&n(h)};return o?i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[A&&i.jsx("span",{className:"mr-1",children:A}),i.jsx("span",{children:e})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{type:"button",onClick:f,disabled:a||l<=r,className:"w-8 h-8 rounded-full bg-gray-600 hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:i.jsx(la,{size:14})}),i.jsx("input",{type:"number",value:l,onChange:c,disabled:a,min:r,max:s,className:"w-16 h-8 text-center bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"}),i.jsx("button",{type:"button",onClick:u,disabled:a||l>=s,className:"w-8 h-8 rounded-full bg-gray-600 hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:i.jsx(_s,{size:14})})]})]}):i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[A&&i.jsx("span",{className:"mr-1 opacity-50",children:A}),i.jsx("span",{children:e})]}),i.jsx("div",{className:"flex items-center justify-center w-16 h-8 bg-gray-800 border border-gray-600 rounded-lg text-gray-500 text-sm",children:"N/A"})]})},wSe=({onBack:e})=>{const{playSound:t}=et(),[n,r]=j.useState([]),[s,a]=j.useState(!0),[A,o]=j.useState(""),[l,u]=j.useState("name"),[f,c]=j.useState("asc"),[d,h]=j.useState("all"),[m,x]=j.useState("all"),[v,g]=j.useState("all"),[p,y]=j.useState(!1),[b,C]=j.useState(!1),B=P.useRef(null);j.useEffect(()=>{const M=document.createElement("style");return M.type="text/css",M.innerHTML=`
      /* Styles applied during screenshot taking */
      .taking-screenshot {
        background-color: #1F2937 !important;
        padding: 2rem !important;
        width: 1400px !important; /* Increased width for more space */
        position: relative !important;
        overflow: visible !important;
      }
      
      .screenshot-title {
        color: white;
        margin-bottom: 2rem;
      }
      
      .screenshot-footer {
        color: #9CA3AF;
        margin-top: 2rem;
        border-top: 1px solid #4B5563;
        padding-top: 1rem;
      }
      
      /* Hide elements with no-screenshot class */
      .taking-screenshot .no-screenshot {
        display: none !important;
      }
      
      /* Adjust card spacing and layout for screenshots */
      .taking-screenshot .grid {
        grid-template-columns: repeat(2, 1fr) !important; /* Force 2 columns for readability */
        gap: 2rem !important; /* Increase gap between cards */
      }
      
      .taking-screenshot .bg-gray-700 {
        padding: 1.5rem !important; /* More padding inside cards */
      }
      
      /* Fix stat bar display */
      .taking-screenshot .transform.skew-x-12 {
        height: 20px !important;
        width: 20px !important; 
      }
      
      /* Make text more readable */
      .taking-screenshot .text-sm {
        font-size: 14px !important;
        line-height: 1.5 !important;
      }
      
      .taking-screenshot .leading-relaxed {
        line-height: 1.7 !important;
      }
      
      /* Fix hero header display */
      .taking-screenshot .px-5.py-4.bg-gray-800 {
        padding: 1.25rem !important;
      }
      
      /* Enhance hero images */
      .taking-screenshot .rounded-full.overflow-hidden {
        border: 2px solid #4B5563 !important;
      }
      
      /* Make role explanations visible in screenshots */
      .taking-screenshot .bg-gray-700.rounded-lg.mb-4.overflow-hidden {
        margin-bottom: 2rem !important;
      }
      
      /* Make sure role explanation grid looks good */
      .taking-screenshot .grid.grid-cols-1.md\\:grid-cols-2.gap-4 {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1rem !important;
      }
      
      /* Ensure role text is properly visible */
      .taking-screenshot .text-xs.text-gray-400 {
        font-size: 0.85rem !important;
        margin-top: 0.25rem !important;
        color: #9CA3AF !important;
      }
    `,document.head.appendChild(M),()=>{document.head.removeChild(M)}},[]),j.useEffect(()=>{a(!0);try{r(xi)}catch(M){console.error("Error loading heroes:",M)}finally{a(!1)}},[]);const _=()=>{t("buttonClick"),e()},N=async()=>{if(B.current){t("buttonClick"),C(!0);try{B.current.classList.add("taking-screenshot");const M=document.createElement("div");M.className="screenshot-title text-center mb-6",M.innerHTML=`
        <h1 class="text-3xl font-bold">Guards of Atlantis II - Hero Reference Guide</h1>
        <p class="text-gray-400 mt-2">Generated on ${new Date().toLocaleDateString()}</p>
      `,B.current.insertBefore(M,B.current.firstChild);const D=document.createElement("div");D.className="screenshot-footer text-center mt-8 text-sm text-gray-400",D.innerHTML=`
        <p>Generated by Guards of Atlantis II Timer App</p>
      `,B.current.appendChild(D);const k=B.current.querySelectorAll(".no-screenshot");k.forEach(W=>{W.style.display="none"});const S=(await C0(B.current,{backgroundColor:"#1F2937",windowWidth:1400,scrollX:0,scrollY:0,scale:window.devicePixelRatio||1,logging:!1,allowTaint:!0,useCORS:!0,onclone:W=>{const V=W.querySelector("#screenshotContent");V&&(V.scrollTop=0)}})).toDataURL("image/png"),T=document.createElement("a");T.download=`guards-of-atlantis-hero-guide-${new Date().toISOString().slice(0,10)}.png`,T.href=S,T.click(),B.current.removeChild(M),B.current.removeChild(D),B.current.classList.remove("taking-screenshot"),k.forEach(W=>{W.style.display=""})}catch(M){console.error("Error creating screenshot:",M)}finally{C(!1)}}},w=M=>{t("buttonClick"),M===l?c(f==="asc"?"desc":"asc"):(u(M),c(M==="name"?"asc":"desc"))},E=()=>{t("buttonClick"),y(!p)},U=()=>{t("buttonClick"),o(""),h("all"),x("all"),g("all"),y(!1)},I=P.useMemo(()=>{const M=new Set;return n.forEach(D=>{D.roles.forEach(k=>M.add(k)),D.additionalRoles&&D.additionalRoles.forEach(k=>M.add(k))}),Array.from(M).sort()},[n]),H=P.useMemo(()=>GA(),[]),$=n.filter(M=>{if(A){const D=A.toLowerCase();return!!(M.name.toLowerCase().includes(D)||M.roles.some(k=>k.toLowerCase().includes(D))||M.additionalRoles&&M.additionalRoles.some(k=>k.toLowerCase().includes(D))||M.description&&M.description.toLowerCase().includes(D))}if(d!=="all"&&M.expansion!==d)return!1;if(m!=="all"){const D=M.roles.includes(m),k=M.additionalRoles?M.additionalRoles.includes(m):!1;if(!D&&!k)return!1}return!(v!=="all"&&M.complexity!==v)}).sort((M,D)=>{let k=0;switch(l){case"name":k=M.name.localeCompare(D.name);break;case"complexity":k=M.complexity-D.complexity;break;case"attack":k=(M.attack||0)-(D.attack||0);break;case"defence":k=(M.defence||0)-(D.defence||0);break;case"initiative":k=(M.initiative||0)-(D.initiative||0);break;case"movement":k=(M.movement||0)-(D.movement||0);break;case"expansion":k=(M.expansion||"").localeCompare(D.expansion||"");break;default:k=0}return f==="asc"?k:-k}),K=(M,D=0,k=0)=>i.jsxs("div",{className:"mb-2",children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:M}),i.jsx("div",{className:"flex",children:Array.from({length:8}).map((R,S)=>i.jsx("div",{className:`h-5 w-5 transform skew-x-12 mr-0.5 flex-shrink-0 ${S<D?"bg-blue-600":S<k?"bg-blue-200":"bg-gray-700"}`},S))})]});return i.jsxs("div",{ref:B,id:"screenshotContent",className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 no-screenshot",children:[i.jsxs("button",{onClick:_,className:"flex items-center text-gray-300 hover:text-white",children:[i.jsx(bn,{size:20,className:"mr-1"}),i.jsx("span",{children:"Back to Menu"})]}),i.jsx("h2",{className:"text-2xl font-bold",children:"Hero Information"}),i.jsx(ke,{text:"Take a screenshot of all hero information",position:"left",children:i.jsxs("button",{onClick:N,className:"flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg",disabled:b,children:[i.jsx(dh,{size:18,className:"mr-2"}),i.jsx("span",{children:b?"Capturing...":"Share Guide"})]})})]}),i.jsx("div",{className:"mb-4 p-3 bg-gray-700/30 rounded-lg text-xs text-gray-400 border-t border-gray-600",children:i.jsxs("p",{className:"text-center leading-relaxed",children:["Many thanks to the various authors of Hero Guide's on BoardGameGeek who's work aided in the creation of this page, notably: ",i.jsx("span",{className:"text-gray-300",children:"Mad_Mike"})," and ",i.jsx("span",{className:"text-gray-300",children:"TheTomTraveller"}),", but also ",i.jsx("span",{className:"text-gray-300",children:"CCplusplus"}),", ",i.jsx("span",{className:"text-gray-300",children:"Eric_McClain"}),", ",i.jsx("span",{className:"text-gray-300",children:"Drakonis1"}),", ",i.jsx("span",{className:"text-gray-300",children:"bcsj"}),", ",i.jsx("span",{className:"text-gray-300",children:"Deiflex"}),", ",i.jsx("span",{className:"text-gray-300",children:"Ramsar"}),", ",i.jsx("span",{className:"text-gray-300",children:"GoatRogan"}),", and ",i.jsx("span",{className:"text-gray-300",children:"NullEnvoy"}),"."]})}),i.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-6 no-screenshot",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-stretch",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("input",{type:"text",value:A,onChange:M=>o(M.target.value),placeholder:"Search heroes, roles, or descriptions...",className:"w-full px-4 py-2 pl-10 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx(yc,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>w("name"),className:`px-3 py-1 rounded ${l==="name"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Name ",l==="name"&&(f==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>w("complexity"),className:`px-3 py-1 rounded ${l==="complexity"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Complexity ",l==="complexity"&&(f==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>w("attack"),className:`px-3 py-1 rounded ${l==="attack"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Attack ",l==="attack"&&(f==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>w("initiative"),className:`px-3 py-1 rounded ${l==="initiative"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Initiative ",l==="initiative"&&(f==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>w("defence"),className:`px-3 py-1 rounded ${l==="defence"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Defence ",l==="defence"&&(f==="asc"?"":"")]}),i.jsxs("button",{onClick:()=>w("movement"),className:`px-3 py-1 rounded ${l==="movement"?"bg-blue-600 hover:bg-blue-500":"bg-gray-600 hover:bg-gray-500"}`,children:["Movement ",l==="movement"&&(f==="asc"?"":"")]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:E,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg flex items-center",children:[i.jsx(vc,{size:18,className:"mr-2"}),i.jsx("span",{children:"Filters"}),(d!=="all"||m!=="all"||v!=="all")&&i.jsx("span",{className:"ml-2 bg-blue-600 text-xs rounded-full w-5 h-5 flex items-center justify-center",children:(d!=="all"?1:0)+(m!=="all"?1:0)+(v!=="all"?1:0)}),p?i.jsx(ns,{size:16,className:"ml-2"}):i.jsx(gr,{size:16,className:"ml-2"})]}),p&&i.jsxs("div",{className:"absolute right-0 top-full mt-1 z-10 bg-gray-800 border border-gray-600 rounded-lg shadow-lg p-4 w-72",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Filter Options"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Expansion"}),i.jsxs("select",{value:d,onChange:M=>h(M.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg",children:[i.jsx("option",{value:"all",children:"All Expansions"}),H.map(M=>i.jsx("option",{value:M,children:M},M))]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Role"}),i.jsxs("select",{value:m,onChange:M=>x(M.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg",children:[i.jsx("option",{value:"all",children:"All Roles"}),I.map(M=>i.jsx("option",{value:M,children:M},M))]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Complexity"}),i.jsxs("select",{value:v,onChange:M=>g(M.target.value==="all"?"all":parseInt(M.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg",children:[i.jsx("option",{value:"all",children:"All Complexity"}),i.jsx("option",{value:"1",children:" (Beginner)"}),i.jsx("option",{value:"2",children:" (Intermediate)"}),i.jsx("option",{value:"3",children:" (Advanced)"}),i.jsx("option",{value:"4",children:" (Expert)"})]})]}),i.jsx("button",{onClick:U,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg",children:"Reset Filters"})]})]})]})}),(d!=="all"||m!=="all"||v!=="all"||A!=="")&&i.jsxs("div",{className:"mb-4 p-4 bg-gray-700 rounded-lg screenshot-info",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Filtered View:"}),i.jsxs("ul",{className:"text-sm space-y-1",children:[d!=="all"&&i.jsxs("li",{children:["Expansion: ",d]}),m!=="all"&&i.jsxs("li",{children:["Role: ",m]}),v!=="all"&&i.jsxs("li",{children:["Complexity: ",v===1?"":v===2?"":v===3?"":""]}),A!==""&&i.jsxs("li",{children:['Search Term: "',A,'"']})]})]}),s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):i.jsxs("div",{children:[i.jsx("div",{className:"mb-6",children:i.jsx(kj,{})}),$.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:$.map(M=>{const D=M.name||"Unknown Hero",k=M.roles||[],R=M.additionalRoles||[],S=M.expansion||"Unknown",T=M.complexity||1,W=M.description||"This hero's abilities and playstyle are shrouded in mystery.";return i.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden shadow-md",children:[i.jsxs("div",{className:"px-5 py-4 bg-gray-800 flex items-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-900 rounded-full overflow-hidden mr-4 flex-shrink-0",children:i.jsx("img",{src:M.icon,alt:D,className:"w-full h-full object-cover",onError:V=>{V.target.src="https://via.placeholder.com/64?text=Hero"}})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold",children:D}),i.jsx("div",{className:"text-sm text-gray-300",children:k.join("  ")}),R.length>0&&i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:R.join("  ")}),i.jsxs("div",{className:"text-xs mt-2 flex items-center",children:[i.jsxs("span",{className:"text-blue-400",children:["Expansion: ",S]}),i.jsx("span",{className:"mx-2",children:""}),i.jsx("span",{className:"text-blue-400",children:"Complexity: "}),i.jsx("span",{className:"text-yellow-400 ml-1",children:[...Array(T)].map(V=>"").join("")}),i.jsx("span",{className:"text-gray-600",children:[...Array(4-T)].map(V=>"").join("")})]})]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[K("Attack",M.attack||0,M.attack_upgraded||M.attack||0),K("Initiative",M.initiative||0,M.initiative_upgraded||M.initiative||0),K("Defence",M.defence||0,M.defence_upgraded||M.defence||0),K("Movement",M.movement||0,M.movement_upgraded||M.movement||0)]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Description"}),i.jsx("p",{className:"text-sm leading-relaxed",children:W})]})]})]},M.id)})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[i.jsx(At,{size:48,className:"text-gray-500 mb-4"}),i.jsx("p",{className:"text-xl text-gray-400",children:A||d!=="all"||m!=="all"||v!=="all"?"No heroes found matching your filters":"No hero data available"}),(A||d!=="all"||m!=="all"||v!=="all")&&i.jsx("button",{onClick:U,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg no-screenshot",children:"Clear Filters"})]})]}),i.jsxs("div",{className:"mt-8 p-4 bg-gray-700/50 rounded-lg text-sm text-gray-300",children:[i.jsx("h4",{className:"font-bold mb-2",children:"How to Read the Stats"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Attack:"})," Higher values mean the hero deals more damage and has stronger offensive abilities."]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Initiative:"})," Determines when a hero acts in combat. Higher values let heroes move earlier."]})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Defence:"})," Higher values give the hero better survivability and ability to withstand attacks."]}),i.jsxs("p",{className:"mb-2",children:[i.jsx("strong",{children:"Movement:"})," Determines how far a hero can travel each turn. Higher values give more mobility."]})]})]}),i.jsxs("p",{className:"mt-2",children:[i.jsx("strong",{children:"Upgrade Potential:"})," Light blue segments show stats that can be improved through upgrades."]})]})]})},BSe=(e,t,n)=>t>=7||t===6&&n&&e===Me.Long?{top:{currentWave:1,totalWaves:7},bottom:{currentWave:1,totalWaves:7},hasMultipleLanes:!0}:{single:{currentWave:1,totalWaves:e===Me.Quick?3:5},hasMultipleLanes:!1},CSe=(e,t,n)=>e===Me.Quick?t<=5?4:5:t===6&&!n?8:t<=5||t===6&&n||t<=8?6:7,_5=e=>{const t=[],n=e%2===1?e+1:e;return t.push({team:"A",action:"ban",round:1}),t.push({team:"B",action:"ban",round:1}),t.push({team:"A",action:"pick",round:1}),t.push({team:"B",action:"pick",round:1}),t.push({team:"B",action:"ban",round:2}),t.push({team:"A",action:"ban",round:2}),t.push({team:"B",action:"pick",round:2}),t.push({team:"A",action:"pick",round:2}),n>=6&&(t.push({team:"A",action:"ban",round:3}),t.push({team:"B",action:"ban",round:3}),t.push({team:"B",action:"pick",round:3}),t.push({team:"A",action:"pick",round:3})),n>=8&&(t.push({team:"B",action:"ban",round:4}),t.push({team:"A",action:"ban",round:4}),t.push({team:"A",action:"pick",round:4}),t.push({team:"B",action:"pick",round:4})),n>=10&&(t.push({team:"B",action:"ban",round:5}),t.push({team:"A",action:"ban",round:5}),t.push({team:"B",action:"pick",round:5}),t.push({team:"A",action:"pick",round:5})),t},$E=()=>({round:1,turn:1,gameLength:Me.Quick,waves:{[Ne.Single]:{currentWave:1,totalWaves:3}},teamLives:{[G.Titans]:4,[G.Atlanteans]:4},currentPhase:"setup",activeHeroIndex:-1,coinSide:Math.random()>.5?G.Titans:G.Atlanteans,hasMultipleLanes:!1,completedTurns:[],allPlayersMoved:!1}),_Se=(e,t)=>{switch(t.type){case"START_GAME":return t.payload;case"START_STRATEGY":return{...e,currentPhase:"strategy",activeHeroIndex:-1};case"END_STRATEGY":return{...e,currentPhase:"move",activeHeroIndex:-1,completedTurns:[]};case"SELECT_PLAYER":return e.completedTurns.includes(t.playerIndex)?e:{...e,activeHeroIndex:t.playerIndex};case"MARK_PLAYER_COMPLETE":{const n=[...e.completedTurns,t.playerIndex];return n.length===hA.length?{...e,completedTurns:n,activeHeroIndex:-1,currentPhase:"turn-end",allPlayersMoved:!0}:{...e,completedTurns:n,activeHeroIndex:-1}}case"START_NEXT_TURN":{const n=e.turn+1;return n>4?{...e,round:e.round+1,turn:1,currentPhase:"strategy",completedTurns:[],allPlayersMoved:!1}:{...e,turn:n,currentPhase:"strategy",completedTurns:[],allPlayersMoved:!1}}case"ADJUST_TEAM_LIFE":return{...e,teamLives:{...e.teamLives,[t.team]:Math.max(0,e.teamLives[t.team]+t.delta)}};case"INCREMENT_WAVE":{if(t.lane===Ne.Single&&!e.hasMultipleLanes){const n=e.waves[Ne.Single];if(n)return{...e,waves:{...e.waves,[Ne.Single]:{...n,currentWave:Math.min(n.currentWave+1,n.totalWaves)}}}}else if(e.hasMultipleLanes&&(t.lane===Ne.Top||t.lane===Ne.Bottom)){const n=e.waves[t.lane];if(n)return{...e,waves:{...e.waves,[t.lane]:{...n,currentWave:Math.min(n.currentWave+1,n.totalWaves)}}}}return e}case"DECREMENT_WAVE":{if(t.lane===Ne.Single&&!e.hasMultipleLanes){const n=e.waves[Ne.Single];if(n)return{...e,waves:{...e.waves,[Ne.Single]:{...n,currentWave:Math.max(1,n.currentWave-1)}}}}else if(e.hasMultipleLanes&&(t.lane===Ne.Top||t.lane===Ne.Bottom)){const n=e.waves[t.lane];if(n)return{...e,waves:{...e.waves,[t.lane]:{...n,currentWave:Math.max(1,n.currentWave-1)}}}}return e}case"ADJUST_ROUND":{const n=Math.max(1,e.round+t.delta);return{...e,round:n}}case"ADJUST_TURN":{const n=Math.max(1,Math.min(4,e.turn+t.delta));return{...e,turn:n}}case"DECLARE_VICTORY":return{...e,currentPhase:"victory",victorTeam:t.team};case"RESET_GAME":return $E();case"FLIP_COIN":return{...e,coinSide:e.coinSide===G.Titans?G.Atlanteans:G.Titans};default:return e}};let hA=[];function SSe(){const{playSound:e,unlockAudio:t,isAudioReady:n}=et(),[r,s]=j.useState(!1),[a,A]=j.useState(90),[o,l]=j.useState(30),[u,f]=j.useState(!0),[c,d]=j.useState(!0),[h,m]=j.useState(Me.Quick),[x,v]=j.useState(!1),[g,p]=j.useState([]),[y,b]=j.useState(GA()),[C,B]=j.useState(4),[_,N]=j.useState(!1),[w,E]=j.useState(!1),[U,I]=j.useState({mode:oe.None,currentTeam:G.Titans,availableHeroes:[],assignedHeroes:[],selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:[],isComplete:!1}),[H,$]=j.useState([]),[K,M]=j.useState(!1),[D,k]=j.useState(!1),[R,S]=j.useState(null),[T,W]=j.useState(!1),[V,Y]=j.useState("menu"),[se,ee]=j.useState(null),[q,Z]=j.useState(!1),[Q,O]=j.useState(null),[z,L]=j.useState(""),ue=hv(y).filter(te=>te.complexity<=C);hA=g;const xe=j.useRef(!1),ae=$E(),[ie,Re]=j.useReducer(_Se,ae),[be,le]=j.useState(!1),[Te,$e]=j.useState(!1),[Et,je]=j.useState(a),[Xe,nn]=j.useState(o);j.useEffect(()=>{r&&!D&&(async()=>{try{await Ji.saveGame({gameState:ie,players:g,strategyTimeRemaining:Et,moveTimeRemaining:Xe,strategyTimerActive:be,moveTimerActive:Te,strategyTimerEnabled:u,moveTimerEnabled:c})}catch(ce){console.error("Error saving game state:",ce)}})()},[r,ie.round,ie.turn,ie.currentPhase,ie.teamLives,be,Te,D]),j.useEffect(()=>{!r&&!_&&(async()=>{try{const ce=await jre.runMigrations();console.log(" Migration completed:",ce);const he=await Ji.loadGame();if(he){const Ie=new Date(he.timestamp).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});O(he),L(Ie),Z(!0)}}catch(ce){console.error("App initialization error:",ce)}})()},[r,_]),j.useEffect(()=>{const te=()=>{console.log("First interaction detected, unlocking audio"),t(),document.removeEventListener("click",te,!0),document.removeEventListener("keydown",te,!0),document.removeEventListener("touchstart",te,!0)};return document.addEventListener("click",te,!0),document.addEventListener("keydown",te,!0),document.addEventListener("touchstart",te,!0),()=>{document.removeEventListener("click",te,!0),document.removeEventListener("keydown",te,!0),document.removeEventListener("touchstart",te,!0)}},[t]);const ls=()=>{const te=g.map(he=>he.name.trim()).filter(he=>he!=="");if(new Set(te).size!==te.length){const he=[],ge=new Set;for(const Ie of te)ge.has(Ie)?he.push(Ie):ge.add(Ie);return[...new Set(he)]}return[]},Ys=te=>{if(g.length>=10)return;e("buttonClick");let ce;if(g.length>=7||g.length===5&&x&&h===Me.Long){if(g.length===6){const Ie=g.map((Ee,De)=>({...Ee,lane:De<3?Ne.Top:Ne.Bottom}));p(Ie)}g.length===5&&x&&h===Me.Long||g.length===6?ce=Ne.Top:g.length===7?ce=Ne.Bottom:g.length>=8&&(ce=g.length%2===0?Ne.Top:Ne.Bottom)}const ge={id:g.length+1,team:te,hero:null,lane:ce,name:""};p([...g,ge]),g.length>=7&&h===Me.Quick&&m(Me.Long)},Oi=te=>{if(!g.find(Ee=>Ee.id===te))return;e("buttonClick");const ge=g.filter(Ee=>Ee.id!==te).map((Ee,De)=>({...Ee,id:De+1}));if(p(ge),!(ge.length>=7||ge.length===6&&x&&h===Me.Long)){const Ee=ge.map(De=>({...De,lane:void 0}));p(Ee)}},Oa=te=>{if(te===Me.Quick&&g.length>6){alert("Quick game is only available for 6 or fewer players");return}if(e("toggleSwitch"),te===Me.Long&&g.length===6&&x){const ce=g.map(he=>({...he,lane:void 0}));p(ce),v(!1)}m(te)},Ki=te=>{e("toggleSwitch"),y.includes(te)?b(y.filter(ce=>ce!==te)):b([...y,te])},zi=(te,ce)=>{const he=g.map(ge=>ge.id===te?{...ge,name:ce}:ge);p(he),xe.current=!1},cs=te=>{const ce=g.length,he=ue.length;switch(te){case oe.AllPick:return he>=ce;case oe.Single:return he>=ce*3;case oe.Random:return he>=ce+2;case oe.PickAndBan:return he>=ce*2;default:return!1}},[Gi,J]=j.useState(null),Ae=()=>{t();const te=ls();if(te.length>0){alert(`Players must have unique names. Duplicates found: ${te.join(", ")}`);return}e("buttonClick");const ce=g.filter(Ee=>Ee.team===G.Titans),he=g.filter(Ee=>Ee.team===G.Atlanteans);if(Math.abs(ce.length-he.length)>1){alert("Teams must have equal player counts or differ by only 1 player");return}if(ce.length!==he.length){const Ee=ce.length>he.length?G.Titans:G.Atlanteans;J(Ee)}else J(null);if(ce.length<2||he.length<2){alert("Each team must have at least 2 players");return}if(g.filter(Ee=>!Ee.name.trim()).length>0){alert("All players must enter their names");return}if(!cs(oe.AllPick)){alert("Not enough heroes in selected expansions. Please select more expansions, increase complexity, or reduce player count.");return}const Ie=Math.random()>.5?G.Titans:G.Atlanteans;Re({type:"START_GAME",payload:{...ae,coinSide:Ie}}),e("coinFlip"),M(!0)},_e=te=>{let ce;const he=g.length;e("buttonClick");const ge=[...ue],Ie=ie.coinSide,Ee=U1([...ge]);switch(te){case oe.AllPick:ce={mode:te,currentTeam:Ie,availableHeroes:Ee,assignedHeroes:[],selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:[],isComplete:!1};break;case oe.Single:const De=[...Ee],ut=g.map(Sr=>{const er=[];for(let tr=0;tr<3;tr++)if(De.length>0){const Ke=Math.floor(Math.random()*De.length);er.push(De[Ke]),De.splice(Ke,1)}return{playerId:Sr.id,heroOptions:er}});ce={mode:te,currentTeam:Ie,availableHeroes:[],assignedHeroes:ut,selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:[],isComplete:!1};break;case oe.Random:const Zn=Ee.slice(0,Math.min(he+2,Ee.length));ce={mode:te,currentTeam:Ie,availableHeroes:Zn,assignedHeroes:[],selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:[],isComplete:!1};break;case oe.PickAndBan:const Kr=_5(he);ce={mode:te,currentTeam:Ie,availableHeroes:Ee,assignedHeroes:[],selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:Kr,isComplete:!1};break;default:ce={mode:oe.None,currentTeam:Ie,availableHeroes:[],assignedHeroes:[],selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:[],isComplete:!1}}I(ce),$([]),E(!1),N(!0)},ze=(te,ce)=>{if($(Ke=>[...Ke,{...U}]),e("heroSelect"),!g.find(Ke=>Ke.id===ce))return;const ge=[...U.selectedHeroes,{playerId:ce,hero:te}],Ie=U.availableHeroes.filter(Ke=>Ke.id!==te.id),Ee=U.mode===oe.Single?U.assignedHeroes.map(Ke=>Ke.playerId===ce?{...Ke,heroOptions:[]}:Ke):U.assignedHeroes;let De=U.currentTeam,ut=U.currentStep,Zn=!1;const Kr=g.filter(Ke=>Ke.team===G.Titans),Sr=g.filter(Ke=>Ke.team===G.Atlanteans),er=ge.filter(Ke=>{var qt;return((qt=g.find(Ht=>Ht.id===Ke.playerId))==null?void 0:qt.team)===G.Titans}).length,tr=ge.filter(Ke=>{var qt;return((qt=g.find(Ht=>Ht.id===Ke.playerId))==null?void 0:qt.team)===G.Atlanteans}).length;if(er>=Kr.length&&tr>=Sr.length&&(Zn=!0),U.mode===oe.Single||U.mode===oe.AllPick||U.mode===oe.Random){const Ke=er>=Kr.length,qt=tr>=Sr.length;Ke&&!qt?De=G.Atlanteans:qt&&!Ke?De=G.Titans:De=U.currentTeam===G.Titans?G.Atlanteans:G.Titans}else if(U.mode===oe.PickAndBan)if(ut=U.currentStep+1,ut>=U.pickBanSequence.length)Zn=!0;else{let Ke=!1;do{const qt=U.pickBanSequence[ut];if(qt&&qt.action==="pick"){const Ht=ie.coinSide===G.Titans;if((qt.team==="A"?Ht?G.Titans:G.Atlanteans:Ht?G.Atlanteans:G.Titans)===G.Titans?er>=Kr.length:tr>=Sr.length){if(Ke=!0,ut++,ut>=U.pickBanSequence.length){Zn=!0;break}}else Ke=!1}else Ke=!1}while(Ke&&ut<U.pickBanSequence.length);if(!Zn&&ut<U.pickBanSequence.length){const qt=U.pickBanSequence[ut].team,Ht=ie.coinSide===G.Titans;qt==="A"?De=Ht?G.Titans:G.Atlanteans:De=Ht?G.Atlanteans:G.Titans}}I({...U,currentTeam:De,availableHeroes:Ie,assignedHeroes:Ee,selectedHeroes:ge,currentStep:ut,isComplete:Zn})},Vt=te=>{if($(De=>[...De,{...U}]),e("heroBan"),U.mode!==oe.PickAndBan)return;const ce=[...U.bannedHeroes,te],he=U.availableHeroes.filter(De=>De.id!==te.id),ge=U.currentStep+1;let Ie=U.currentTeam,Ee=U.isComplete;if(ge>=U.pickBanSequence.length)Ee=!0;else{const De=U.pickBanSequence[ge].team,ut=ie.coinSide===G.Titans;De==="A"?Ie=ut?G.Titans:G.Atlanteans:Ie=ut?G.Atlanteans:G.Titans}I({...U,currentTeam:Ie,availableHeroes:he,bannedHeroes:ce,currentStep:ge,isComplete:Ee})},Ge=()=>{if(H.length>0){e("buttonClick");const te=H[H.length-1];$(ce=>ce.slice(0,-1)),I(te)}},Ft=te=>{const ce=g.length,he=[...ue],ge=ie.coinSide,Ie=U1([...he]);switch(te){case oe.AllPick:return{mode:te,currentTeam:ge,availableHeroes:Ie,assignedHeroes:[],selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:[],isComplete:!1};case oe.Single:const Ee=[...Ie],De=g.map(Kr=>{const Sr=[];for(let er=0;er<3;er++)if(Ee.length>0){const tr=Math.floor(Math.random()*Ee.length);Sr.push(Ee[tr]),Ee.splice(tr,1)}return{playerId:Kr.id,heroOptions:Sr}});return{mode:te,currentTeam:ge,availableHeroes:[],assignedHeroes:De,selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:[],isComplete:!1};case oe.Random:const ut=Ie.slice(0,Math.min(ce+2,Ie.length));return{mode:te,currentTeam:ge,availableHeroes:ut,assignedHeroes:[],selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:[],isComplete:!1};case oe.PickAndBan:const Zn=_5(ce);return{mode:te,currentTeam:ge,availableHeroes:Ie,assignedHeroes:[],selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:Zn,isComplete:!1};default:return{mode:oe.None,currentTeam:ge,availableHeroes:[],assignedHeroes:[],selectedHeroes:[],bannedHeroes:[],currentStep:0,pickBanSequence:[],isComplete:!1}}},Ue=()=>{e("buttonClick");const te=Ft(U.mode);I(te),$([])},us=()=>{e("buttonClick"),N(!1),E(!0),$([])},Nn=()=>{const te=g.map(ce=>{const he=U.selectedHeroes.find(ge=>ge.playerId===ce.id);return he?{...ce,hero:he.hero}:ce});e("phaseChange"),p(te),hA=te,ds(te)},ds=te=>{const ce=te.length,he=te.map(De=>{var ut;return{...De,stats:(ut=De.stats)!=null&&ut.level?{level:De.stats.level}:void 0}});p(he),hA=he;const ge=BSe(h,ce,x),Ie=CSe(h,ce,x),Ee={round:1,turn:1,gameLength:h,waves:ge.hasMultipleLanes?{[Ne.Top]:ge.top,[Ne.Bottom]:ge.bottom}:{[Ne.Single]:ge.single},teamLives:{[G.Titans]:Ie,[G.Atlanteans]:Ie},currentPhase:"strategy",activeHeroIndex:-1,coinSide:ie.coinSide,hasMultipleLanes:ge.hasMultipleLanes,completedTurns:[],allPlayersMoved:!1};Re({type:"START_GAME",payload:Ee}),s(!0),le(!0),je(a),N(!1),Ji.clearGame().catch(console.error),e("turnStart")},Wi=()=>{e("buttonClick"),N(!1),E(!1)},Xc=te=>{ie.activeHeroIndex===-1&&!ie.completedTurns.includes(te)&&(e("heroSelect"),Re({type:"SELECT_PLAYER",playerIndex:te}),$e(!0),nn(o))},E1=()=>{ie.activeHeroIndex>=0&&(e("turnComplete"),$e(!1),Re({type:"MARK_PLAYER_COMPLETE",playerIndex:ie.activeHeroIndex}))},RE=()=>{e("turnStart"),Re({type:"START_NEXT_TURN"}),le(!0),je(a)},F1=()=>{e("phaseChange"),le(!1),Re({type:"END_STRATEGY"})},LE=()=>{e("buttonClick"),je(a)},OE=()=>{e("buttonClick"),nn(o)},KE=(te,ce)=>{e("lifeChange"),Re({type:"ADJUST_TEAM_LIFE",team:te,delta:ce})},zE=te=>{e("buttonClick"),Re({type:"INCREMENT_WAVE",lane:te})},GE=te=>{e("buttonClick"),Re({type:"DECREMENT_WAVE",lane:te})},WE=te=>{e("buttonClick"),Re({type:"ADJUST_ROUND",delta:te})},VE=te=>{e("buttonClick"),Re({type:"ADJUST_TURN",delta:te})},qE=te=>{e("victory"),le(!1),$e(!1),S(te),k(!0),Ji.clearGame().catch(console.error)},XE=()=>{e("buttonClick"),le(!1),$e(!1),je(a),nn(o),k(!1),S(null),s(!1),N(!1),E(!1),Re({type:"RESET_GAME"}),Ji.clearGame().catch(console.error)},YE=()=>{e("coinFlip"),Re({type:"FLIP_COIN"})},JE=()=>{if(!Q)return;e("buttonClick");const{gameState:te,players:ce,strategyTimeRemaining:he,moveTimeRemaining:ge,strategyTimerActive:Ie,moveTimerActive:Ee,strategyTimerEnabled:De,moveTimerEnabled:ut}=Q;Re({type:"START_GAME",payload:te}),p(ce),hA=ce,je(he),nn(ge),le(Ie),$e(Ee),f(De),d(ut),s(!0),Z(!1)},ZE=()=>{e("buttonClick"),Ji.clearGame().catch(console.error),Z(!1)},Q1=te=>{const ce=g.map(he=>{var Ie,Ee,De,ut,Zn,Kr,Sr,er,tr,Ke,qt;const ge=te[he.id];if(ge&&((ge.kills??0)>0||(ge.deaths??0)>0||(ge.assists??0)>0||(ge.goldCollected??0)>0||(ge.minionKills??0)>0||ge.level)){const Ht={};return((ge.kills??0)>0||(Ie=he.stats)!=null&&Ie.totalKills)&&(Ht.totalKills=(((Ee=he.stats)==null?void 0:Ee.totalKills)||0)+(ge.kills??0)),((ge.deaths??0)>0||(De=he.stats)!=null&&De.totalDeaths)&&(Ht.totalDeaths=(((ut=he.stats)==null?void 0:ut.totalDeaths)||0)+(ge.deaths??0)),((ge.assists??0)>0||(Zn=he.stats)!=null&&Zn.totalAssists)&&(Ht.totalAssists=(((Kr=he.stats)==null?void 0:Kr.totalAssists)||0)+(ge.assists??0)),((ge.goldCollected??0)>0||(Sr=he.stats)!=null&&Sr.totalGoldEarned)&&(Ht.totalGoldEarned=(((er=he.stats)==null?void 0:er.totalGoldEarned)||0)+(ge.goldCollected??0)),((ge.minionKills??0)>0||(tr=he.stats)!=null&&tr.totalMinionKills)&&(Ht.totalMinionKills=(((Ke=he.stats)==null?void 0:Ke.totalMinionKills)||0)+(ge.minionKills??0)),ge.level?Ht.level=ge.level:(qt=he.stats)!=null&&qt.level&&(Ht.level=he.stats.level),{...he,stats:Ht}}return he});p(ce),hA=ce};j.useEffect(()=>{let te;return be&&Et>0?te=setTimeout(()=>{Et===11&&e("timerWarning"),n&&e("timerTick"),je(Et-1)},1e3):be&&Et===0&&(e("timerComplete"),le(!1),F1()),()=>clearTimeout(te)},[be,Et,e,n]),j.useEffect(()=>{let te;return Te&&Xe>0?te=setTimeout(()=>{Xe===11&&e("timerWarning"),n&&e("timerTick"),nn(Xe-1)},1e3):Te&&Xe===0&&(e("timerComplete"),$e(!1),E1()),()=>clearTimeout(te)},[Te,Xe,e,n]);const U1=te=>{const ce=[...te];for(let he=ce.length-1;he>0;he--){const ge=Math.floor(Math.random()*(he+1));[ce[he],ce[ge]]=[ce[ge],ce[he]]}if(ce.length>3){const he=Math.floor(ce.length/2),ge=ce.slice(0,he);return[...ce.slice(he),...ge]}return ce},eF=()=>{e("buttonClick"),W(!0),Y("menu")},_r=te=>{Y(te)},tF=()=>{W(!1)};return i.jsxs("div",{className:"App min-h-screen bg-gradient-to-b from-blue-400 to-orange-300 text-white p-6",children:[i.jsx(Bre,{}),i.jsx("header",{className:"App-header mb-8",children:i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Guards of Atlantis II Timer"})}),q&&Q&&i.jsx(_re,{gameState:Q.gameState,players:Q.players,onResume:JE,onDiscard:ZE,savedTime:z}),K&&i.jsx(vre,{result:ie.coinSide,onComplete:()=>{M(!1),E(!0)}}),T?i.jsxs(i.Fragment,{children:[V==="menu"&&i.jsx(Y4e,{onBack:tF,onNavigate:_r}),V==="skill-over-time"&&i.jsx(G4e,{onBack:()=>_r("player-stats")}),V==="player-stats"&&i.jsx(eSe,{onBack:()=>_r("menu"),onViewSkillOverTime:()=>_r("skill-over-time"),onViewPlayerDetails:te=>{ee(te),_r("detailed-player-stats")}}),V==="detailed-player-stats"&&se&&i.jsx(cSe,{playerId:se,onBack:()=>{ee(null),_r("player-stats")}}),V==="hero-stats"&&i.jsx(gSe,{onBack:()=>_r("menu")}),V==="match-history"&&i.jsx(fSe,{onBack:()=>_r("menu")}),V==="hero-info"&&i.jsx(wSe,{onBack:()=>_r("menu")}),V==="record-match"&&i.jsx(pSe,{onBack:()=>_r("menu")}),V==="match-maker"&&i.jsx(mSe,{onBack:()=>_r("menu"),onUseTeams:(te,ce)=>{p([]);const he=te.map((Ee,De)=>({id:De+1,team:G.Titans,hero:null,name:Ee})),ge=ce.map((Ee,De)=>({id:te.length+De+1,team:G.Atlanteans,hero:null,name:Ee})),Ie=[...he,...ge];p(Ie),W(!1),e("phaseChange")}})]}):r?i.jsx(pre,{gameState:ie,players:g,strategyTimeRemaining:Et,moveTimeRemaining:Xe,strategyTimerEnabled:u,moveTimerEnabled:c,strategyTimerActive:be,moveTimerActive:Te,onStartStrategyTimer:()=>le(!0),onPauseStrategyTimer:()=>le(!1),onResetStrategyTimer:LE,onEndStrategyPhase:F1,onStartMoveTimer:()=>$e(!0),onPauseMoveTimer:()=>$e(!1),onResetMoveTimer:OE,onSelectPlayer:Xc,onCompletePlayerTurn:E1,onStartNextTurn:RE,onAdjustTeamLife:KE,onIncrementWave:zE,onDecrementWave:GE,onAdjustRound:WE,onAdjustTurn:VE,onDeclareVictory:qE,onFlipCoin:YE,onSavePlayerStats:Q1}):i.jsx("div",{className:"game-setup-container",children:w?i.jsx(yre,{onSelectMode:_e,onCancel:()=>E(!1),playerCount:g.length,availableDraftModes:{[oe.AllPick]:cs(oe.AllPick),[oe.Single]:cs(oe.Single),[oe.Random]:cs(oe.Random),[oe.PickAndBan]:cs(oe.PickAndBan)},heroCount:ue.length,handicapTeam:Gi}):_?i.jsx(xre,{players:g,availableHeroes:ue,draftingState:U,onHeroSelect:ze,onHeroBan:Vt,onFinishDrafting:Nn,onCancelDrafting:Wi,onUndoLastAction:Ge,onResetDraft:Ue,onBackToDraftSelection:us,canUndo:H.length>0}):i.jsx(mre,{strategyTime:a,moveTime:o,gameLength:h,strategyTimerEnabled:u,moveTimerEnabled:c,onStrategyTimeChange:A,onMoveTimeChange:l,onGameLengthChange:Oa,onStrategyTimerEnabledChange:f,onMoveTimerEnabledChange:d,players:g,onAddPlayer:Ys,onRemovePlayer:Oi,onDraftHeroes:Ae,selectedExpansions:y,onToggleExpansion:Ki,onPlayerNameChange:zi,duplicateNames:ls(),canStartDrafting:cs(oe.AllPick),heroCount:ue.length,maxComplexity:C,onMaxComplexityChange:B,useDoubleLaneFor6Players:x,onUseDoubleLaneFor6PlayersChange:v,onViewMatches:eF})}),D&&R&&i.jsx(Cre,{winningTeam:R,onReturnToSetup:XE,players:g,gameLength:h,doubleLanes:ie.hasMultipleLanes,onUpdatePlayerStats:Q1}),i.jsx(bre,{feedbackUrl:"https://forms.gle/dsjjDSbqhTn3hATt6"}),i.jsx(wre,{})]})}function jSe(){return i.jsx(vI,{children:i.jsxs(Zre,{children:[" ",i.jsx(SSe,{})]})})}Ym.createRoot(document.getElementById("root")).render(i.jsx(P.StrictMode,{children:i.jsx(jSe,{})}));
